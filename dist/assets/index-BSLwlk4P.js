(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const r of l)if(r.type==="childList")for(const d of r.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const r={};return l.integrity&&(r.integrity=l.integrity),l.referrerPolicy&&(r.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?r.credentials="include":l.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(l){if(l.ep)return;l.ep=!0;const r=i(l);fetch(l.href,r)}})();function Cd(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function T_(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var i=function o(){return this instanceof o?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};i.prototype=e.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(n).forEach(function(o){var l=Object.getOwnPropertyDescriptor(n,o);Object.defineProperty(i,o,l.get?l:{enumerable:!0,get:function(){return n[o]}})}),i}var Hc={exports:{}},_e={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rm;function b_(){if(Rm)return _e;Rm=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),r=Symbol.for("react.consumer"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),S=Symbol.iterator;function C(R){return R===null||typeof R!="object"?null:(R=S&&R[S]||R["@@iterator"],typeof R=="function"?R:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,I={};function H(R,B,ie){this.props=R,this.context=B,this.refs=I,this.updater=ie||N}H.prototype.isReactComponent={},H.prototype.setState=function(R,B){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,B,"setState")},H.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function Q(){}Q.prototype=H.prototype;function Y(R,B,ie){this.props=R,this.context=B,this.refs=I,this.updater=ie||N}var K=Y.prototype=new Q;K.constructor=Y,D(K,H.prototype),K.isPureReactComponent=!0;var Z=Array.isArray;function q(){}var W={H:null,A:null,T:null,S:null},me=Object.prototype.hasOwnProperty;function ee(R,B,ie){var oe=ie.ref;return{$$typeof:n,type:R,key:B,ref:oe!==void 0?oe:null,props:ie}}function re(R,B){return ee(R.type,B,R.props)}function Te(R){return typeof R=="object"&&R!==null&&R.$$typeof===n}function Pe(R){var B={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(ie){return B[ie]})}var Ve=/\/+/g;function Be(R,B){return typeof R=="object"&&R!==null&&R.key!=null?Pe(""+R.key):B.toString(36)}function tt(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(q,q):(R.status="pending",R.then(function(B){R.status==="pending"&&(R.status="fulfilled",R.value=B)},function(B){R.status==="pending"&&(R.status="rejected",R.reason=B)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function A(R,B,ie,oe,ge){var xe=typeof R;(xe==="undefined"||xe==="boolean")&&(R=null);var Ue=!1;if(R===null)Ue=!0;else switch(xe){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(R.$$typeof){case n:case e:Ue=!0;break;case y:return Ue=R._init,A(Ue(R._payload),B,ie,oe,ge)}}if(Ue)return ge=ge(R),Ue=oe===""?"."+Be(R,0):oe,Z(ge)?(ie="",Ue!=null&&(ie=Ue.replace(Ve,"$&/")+"/"),A(ge,B,ie,"",function(oi){return oi})):ge!=null&&(Te(ge)&&(ge=re(ge,ie+(ge.key==null||R&&R.key===ge.key?"":(""+ge.key).replace(Ve,"$&/")+"/")+Ue)),B.push(ge)),1;Ue=0;var lt=oe===""?".":oe+":";if(Z(R))for(var it=0;it<R.length;it++)oe=R[it],xe=lt+Be(oe,it),Ue+=A(oe,B,ie,xe,ge);else if(it=C(R),typeof it=="function")for(R=it.call(R),it=0;!(oe=R.next()).done;)oe=oe.value,xe=lt+Be(oe,it++),Ue+=A(oe,B,ie,xe,ge);else if(xe==="object"){if(typeof R.then=="function")return A(tt(R),B,ie,oe,ge);throw B=String(R),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function $(R,B,ie){if(R==null)return R;var oe=[],ge=0;return A(R,oe,"","",function(xe){return B.call(ie,xe,ge++)}),oe}function te(R){if(R._status===-1){var B=R._result;B=B(),B.then(function(ie){(R._status===0||R._status===-1)&&(R._status=1,R._result=ie)},function(ie){(R._status===0||R._status===-1)&&(R._status=2,R._result=ie)}),R._status===-1&&(R._status=0,R._result=B)}if(R._status===1)return R._result.default;throw R._result}var ye=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},Ne={map:$,forEach:function(R,B,ie){$(R,function(){B.apply(this,arguments)},ie)},count:function(R){var B=0;return $(R,function(){B++}),B},toArray:function(R){return $(R,function(B){return B})||[]},only:function(R){if(!Te(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return _e.Activity=_,_e.Children=Ne,_e.Component=H,_e.Fragment=i,_e.Profiler=l,_e.PureComponent=Y,_e.StrictMode=o,_e.Suspense=g,_e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=W,_e.__COMPILER_RUNTIME={__proto__:null,c:function(R){return W.H.useMemoCache(R)}},_e.cache=function(R){return function(){return R.apply(null,arguments)}},_e.cacheSignal=function(){return null},_e.cloneElement=function(R,B,ie){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var oe=D({},R.props),ge=R.key;if(B!=null)for(xe in B.key!==void 0&&(ge=""+B.key),B)!me.call(B,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&B.ref===void 0||(oe[xe]=B[xe]);var xe=arguments.length-2;if(xe===1)oe.children=ie;else if(1<xe){for(var Ue=Array(xe),lt=0;lt<xe;lt++)Ue[lt]=arguments[lt+2];oe.children=Ue}return ee(R.type,ge,oe)},_e.createContext=function(R){return R={$$typeof:d,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:r,_context:R},R},_e.createElement=function(R,B,ie){var oe,ge={},xe=null;if(B!=null)for(oe in B.key!==void 0&&(xe=""+B.key),B)me.call(B,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(ge[oe]=B[oe]);var Ue=arguments.length-2;if(Ue===1)ge.children=ie;else if(1<Ue){for(var lt=Array(Ue),it=0;it<Ue;it++)lt[it]=arguments[it+2];ge.children=lt}if(R&&R.defaultProps)for(oe in Ue=R.defaultProps,Ue)ge[oe]===void 0&&(ge[oe]=Ue[oe]);return ee(R,xe,ge)},_e.createRef=function(){return{current:null}},_e.forwardRef=function(R){return{$$typeof:h,render:R}},_e.isValidElement=Te,_e.lazy=function(R){return{$$typeof:y,_payload:{_status:-1,_result:R},_init:te}},_e.memo=function(R,B){return{$$typeof:m,type:R,compare:B===void 0?null:B}},_e.startTransition=function(R){var B=W.T,ie={};W.T=ie;try{var oe=R(),ge=W.S;ge!==null&&ge(ie,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(q,ye)}catch(xe){ye(xe)}finally{B!==null&&ie.types!==null&&(B.types=ie.types),W.T=B}},_e.unstable_useCacheRefresh=function(){return W.H.useCacheRefresh()},_e.use=function(R){return W.H.use(R)},_e.useActionState=function(R,B,ie){return W.H.useActionState(R,B,ie)},_e.useCallback=function(R,B){return W.H.useCallback(R,B)},_e.useContext=function(R){return W.H.useContext(R)},_e.useDebugValue=function(){},_e.useDeferredValue=function(R,B){return W.H.useDeferredValue(R,B)},_e.useEffect=function(R,B){return W.H.useEffect(R,B)},_e.useEffectEvent=function(R){return W.H.useEffectEvent(R)},_e.useId=function(){return W.H.useId()},_e.useImperativeHandle=function(R,B,ie){return W.H.useImperativeHandle(R,B,ie)},_e.useInsertionEffect=function(R,B){return W.H.useInsertionEffect(R,B)},_e.useLayoutEffect=function(R,B){return W.H.useLayoutEffect(R,B)},_e.useMemo=function(R,B){return W.H.useMemo(R,B)},_e.useOptimistic=function(R,B){return W.H.useOptimistic(R,B)},_e.useReducer=function(R,B,ie){return W.H.useReducer(R,B,ie)},_e.useRef=function(R){return W.H.useRef(R)},_e.useState=function(R){return W.H.useState(R)},_e.useSyncExternalStore=function(R,B,ie){return W.H.useSyncExternalStore(R,B,ie)},_e.useTransition=function(){return W.H.useTransition()},_e.version="19.2.4",_e}var Mm;function wd(){return Mm||(Mm=1,Hc.exports=b_()),Hc.exports}var ne=wd();const E=Cd(ne);var zc={exports:{}},ms={},qc={exports:{}},Vc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Im;function x_(){return Im||(Im=1,(function(n){function e(A,$){var te=A.length;A.push($);e:for(;0<te;){var ye=te-1>>>1,Ne=A[ye];if(0<l(Ne,$))A[ye]=$,A[te]=Ne,te=ye;else break e}}function i(A){return A.length===0?null:A[0]}function o(A){if(A.length===0)return null;var $=A[0],te=A.pop();if(te!==$){A[0]=te;e:for(var ye=0,Ne=A.length,R=Ne>>>1;ye<R;){var B=2*(ye+1)-1,ie=A[B],oe=B+1,ge=A[oe];if(0>l(ie,te))oe<Ne&&0>l(ge,ie)?(A[ye]=ge,A[oe]=te,ye=oe):(A[ye]=ie,A[B]=te,ye=B);else if(oe<Ne&&0>l(ge,te))A[ye]=ge,A[oe]=te,ye=oe;else break e}}return $}function l(A,$){var te=A.sortIndex-$.sortIndex;return te!==0?te:A.id-$.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;n.unstable_now=function(){return r.now()}}else{var d=Date,h=d.now();n.unstable_now=function(){return d.now()-h}}var g=[],m=[],y=1,_=null,S=3,C=!1,N=!1,D=!1,I=!1,H=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function K(A){for(var $=i(m);$!==null;){if($.callback===null)o(m);else if($.startTime<=A)o(m),$.sortIndex=$.expirationTime,e(g,$);else break;$=i(m)}}function Z(A){if(D=!1,K(A),!N)if(i(g)!==null)N=!0,q||(q=!0,Pe());else{var $=i(m);$!==null&&tt(Z,$.startTime-A)}}var q=!1,W=-1,me=5,ee=-1;function re(){return I?!0:!(n.unstable_now()-ee<me)}function Te(){if(I=!1,q){var A=n.unstable_now();ee=A;var $=!0;try{e:{N=!1,D&&(D=!1,Q(W),W=-1),C=!0;var te=S;try{t:{for(K(A),_=i(g);_!==null&&!(_.expirationTime>A&&re());){var ye=_.callback;if(typeof ye=="function"){_.callback=null,S=_.priorityLevel;var Ne=ye(_.expirationTime<=A);if(A=n.unstable_now(),typeof Ne=="function"){_.callback=Ne,K(A),$=!0;break t}_===i(g)&&o(g),K(A)}else o(g);_=i(g)}if(_!==null)$=!0;else{var R=i(m);R!==null&&tt(Z,R.startTime-A),$=!1}}break e}finally{_=null,S=te,C=!1}$=void 0}}finally{$?Pe():q=!1}}}var Pe;if(typeof Y=="function")Pe=function(){Y(Te)};else if(typeof MessageChannel<"u"){var Ve=new MessageChannel,Be=Ve.port2;Ve.port1.onmessage=Te,Pe=function(){Be.postMessage(null)}}else Pe=function(){H(Te,0)};function tt(A,$){W=H(function(){A(n.unstable_now())},$)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(A){A.callback=null},n.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):me=0<A?Math.floor(1e3/A):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_next=function(A){switch(S){case 1:case 2:case 3:var $=3;break;default:$=S}var te=S;S=$;try{return A()}finally{S=te}},n.unstable_requestPaint=function(){I=!0},n.unstable_runWithPriority=function(A,$){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var te=S;S=A;try{return $()}finally{S=te}},n.unstable_scheduleCallback=function(A,$,te){var ye=n.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?ye+te:ye):te=ye,A){case 1:var Ne=-1;break;case 2:Ne=250;break;case 5:Ne=1073741823;break;case 4:Ne=1e4;break;default:Ne=5e3}return Ne=te+Ne,A={id:y++,callback:$,priorityLevel:A,startTime:te,expirationTime:Ne,sortIndex:-1},te>ye?(A.sortIndex=te,e(m,A),i(g)===null&&A===i(m)&&(D?(Q(W),W=-1):D=!0,tt(Z,te-ye))):(A.sortIndex=Ne,e(g,A),N||C||(N=!0,q||(q=!0,Pe()))),A},n.unstable_shouldYield=re,n.unstable_wrapCallback=function(A){var $=S;return function(){var te=S;S=$;try{return A.apply(this,arguments)}finally{S=te}}}})(Vc)),Vc}var km;function C_(){return km||(km=1,qc.exports=x_()),qc.exports}var Bc={exports:{}},Rt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dm;function w_(){if(Dm)return Rt;Dm=1;var n=wd();function e(g){var m="https://react.dev/errors/"+g;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+g+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var o={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function r(g,m,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:_==null?null:""+_,children:g,containerInfo:m,implementation:y}}var d=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(g,m){if(g==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Rt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,Rt.createPortal=function(g,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return r(g,m,null,y)},Rt.flushSync=function(g){var m=d.T,y=o.p;try{if(d.T=null,o.p=2,g)return g()}finally{d.T=m,o.p=y,o.d.f()}},Rt.preconnect=function(g,m){typeof g=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,o.d.C(g,m))},Rt.prefetchDNS=function(g){typeof g=="string"&&o.d.D(g)},Rt.preinit=function(g,m){if(typeof g=="string"&&m&&typeof m.as=="string"){var y=m.as,_=h(y,m.crossOrigin),S=typeof m.integrity=="string"?m.integrity:void 0,C=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?o.d.S(g,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:_,integrity:S,fetchPriority:C}):y==="script"&&o.d.X(g,{crossOrigin:_,integrity:S,fetchPriority:C,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Rt.preinitModule=function(g,m){if(typeof g=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=h(m.as,m.crossOrigin);o.d.M(g,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&o.d.M(g)},Rt.preload=function(g,m){if(typeof g=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,_=h(y,m.crossOrigin);o.d.L(g,y,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Rt.preloadModule=function(g,m){if(typeof g=="string")if(m){var y=h(m.as,m.crossOrigin);o.d.m(g,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else o.d.m(g)},Rt.requestFormReset=function(g){o.d.r(g)},Rt.unstable_batchedUpdates=function(g,m){return g(m)},Rt.useFormState=function(g,m,y){return d.H.useFormState(g,m,y)},Rt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Rt.version="19.2.4",Rt}var Um;function A_(){if(Um)return Bc.exports;Um=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Bc.exports=w_(),Bc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lm;function N_(){if(Lm)return ms;Lm=1;var n=C_(),e=wd(),i=A_();function o(t){var a="https://react.dev/errors/"+t;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)a+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function r(t){var a=t,s=t;if(t.alternate)for(;a.return;)a=a.return;else{t=a;do a=t,(a.flags&4098)!==0&&(s=a.return),t=a.return;while(t)}return a.tag===3?s:null}function d(t){if(t.tag===13){var a=t.memoizedState;if(a===null&&(t=t.alternate,t!==null&&(a=t.memoizedState)),a!==null)return a.dehydrated}return null}function h(t){if(t.tag===31){var a=t.memoizedState;if(a===null&&(t=t.alternate,t!==null&&(a=t.memoizedState)),a!==null)return a.dehydrated}return null}function g(t){if(r(t)!==t)throw Error(o(188))}function m(t){var a=t.alternate;if(!a){if(a=r(t),a===null)throw Error(o(188));return a!==t?null:t}for(var s=t,u=a;;){var p=s.return;if(p===null)break;var v=p.alternate;if(v===null){if(u=p.return,u!==null){s=u;continue}break}if(p.child===v.child){for(v=p.child;v;){if(v===s)return g(p),t;if(v===u)return g(p),a;v=v.sibling}throw Error(o(188))}if(s.return!==u.return)s=p,u=v;else{for(var T=!1,b=p.child;b;){if(b===s){T=!0,s=p,u=v;break}if(b===u){T=!0,u=p,s=v;break}b=b.sibling}if(!T){for(b=v.child;b;){if(b===s){T=!0,s=v,u=p;break}if(b===u){T=!0,u=v,s=p;break}b=b.sibling}if(!T)throw Error(o(189))}}if(s.alternate!==u)throw Error(o(190))}if(s.tag!==3)throw Error(o(188));return s.stateNode.current===s?t:a}function y(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t;for(t=t.child;t!==null;){if(a=y(t),a!==null)return a;t=t.sibling}return null}var _=Object.assign,S=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),Q=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),me=Symbol.for("react.lazy"),ee=Symbol.for("react.activity"),re=Symbol.for("react.memo_cache_sentinel"),Te=Symbol.iterator;function Pe(t){return t===null||typeof t!="object"?null:(t=Te&&t[Te]||t["@@iterator"],typeof t=="function"?t:null)}var Ve=Symbol.for("react.client.reference");function Be(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Ve?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case D:return"Fragment";case H:return"Profiler";case I:return"StrictMode";case Z:return"Suspense";case q:return"SuspenseList";case ee:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case N:return"Portal";case Y:return t.displayName||"Context";case Q:return(t._context.displayName||"Context")+".Consumer";case K:var a=t.render;return t=t.displayName,t||(t=a.displayName||a.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case W:return a=t.displayName||null,a!==null?a:Be(t.type)||"Memo";case me:a=t._payload,t=t._init;try{return Be(t(a))}catch{}}return null}var tt=Array.isArray,A=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},ye=[],Ne=-1;function R(t){return{current:t}}function B(t){0>Ne||(t.current=ye[Ne],ye[Ne]=null,Ne--)}function ie(t,a){Ne++,ye[Ne]=t.current,t.current=a}var oe=R(null),ge=R(null),xe=R(null),Ue=R(null);function lt(t,a){switch(ie(xe,a),ie(ge,t),ie(oe,null),a.nodeType){case 9:case 11:t=(t=a.documentElement)&&(t=t.namespaceURI)?Wp(t):0;break;default:if(t=a.tagName,a=a.namespaceURI)a=Wp(a),t=jp(a,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}B(oe),ie(oe,t)}function it(){B(oe),B(ge),B(xe)}function oi(t){t.memoizedState!==null&&ie(Ue,t);var a=oe.current,s=jp(a,t.type);a!==s&&(ie(ge,t),ie(oe,s))}function va(t){ge.current===t&&(B(oe),B(ge)),Ue.current===t&&(B(Ue),ds._currentValue=te)}var ya,Ea;function tn(t){if(ya===void 0)try{throw Error()}catch(s){var a=s.stack.trim().match(/\n( *(at )?)/);ya=a&&a[1]||"",Ea=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ya+t+Ea}var _a=!1;function Hi(t,a){if(!t||_a)return"";_a=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(G){var O=G}Reflect.construct(t,[],J)}else{try{J.call()}catch(G){O=G}t.call(J.prototype)}}else{try{throw Error()}catch(G){O=G}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(G){if(G&&O&&typeof G.stack=="string")return[G.stack,O.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=u.DetermineComponentFrameRoot(),T=v[0],b=v[1];if(T&&b){var w=T.split(`
`),L=b.split(`
`);for(p=u=0;u<w.length&&!w[u].includes("DetermineComponentFrameRoot");)u++;for(;p<L.length&&!L[p].includes("DetermineComponentFrameRoot");)p++;if(u===w.length||p===L.length)for(u=w.length-1,p=L.length-1;1<=u&&0<=p&&w[u]!==L[p];)p--;for(;1<=u&&0<=p;u--,p--)if(w[u]!==L[p]){if(u!==1||p!==1)do if(u--,p--,0>p||w[u]!==L[p]){var V=`
`+w[u].replace(" at new "," at ");return t.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",t.displayName)),V}while(1<=u&&0<=p);break}}}finally{_a=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?tn(s):""}function xr(t,a){switch(t.tag){case 26:case 27:case 5:return tn(t.type);case 16:return tn("Lazy");case 13:return t.child!==a&&a!==null?tn("Suspense Fallback"):tn("Suspense");case 19:return tn("SuspenseList");case 0:case 15:return Hi(t.type,!1);case 11:return Hi(t.type.render,!1);case 1:return Hi(t.type,!0);case 31:return tn("Activity");default:return""}}function ks(t){try{var a="",s=null;do a+=xr(t,s),s=t,t=t.return;while(t);return a}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var zi=Object.prototype.hasOwnProperty,si=n.unstable_scheduleCallback,li=n.unstable_cancelCallback,St=n.unstable_shouldYield,Dn=n.unstable_requestPaint,mt=n.unstable_now,Cr=n.unstable_getCurrentPriorityLevel,Sa=n.unstable_ImmediatePriority,Ds=n.unstable_UserBlockingPriority,qi=n.unstable_NormalPriority,Vi=n.unstable_LowPriority,ri=n.unstable_IdlePriority,Ie=n.log,Us=n.unstable_setDisableYieldValue,ui=null,Nt=null;function nn(t){if(typeof Ie=="function"&&Us(t),Nt&&typeof Nt.setStrictMode=="function")try{Nt.setStrictMode(ui,t)}catch{}}var It=Math.clz32?Math.clz32:Nr,wr=Math.log,Ar=Math.LN2;function Nr(t){return t>>>=0,t===0?32:31-(wr(t)/Ar|0)|0}var Bi=256,Fi=262144,$i=4194304;function Un(t){var a=t&42;if(a!==0)return a;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ta(t,a,s){var u=t.pendingLanes;if(u===0)return 0;var p=0,v=t.suspendedLanes,T=t.pingedLanes;t=t.warmLanes;var b=u&134217727;return b!==0?(u=b&~v,u!==0?p=Un(u):(T&=b,T!==0?p=Un(T):s||(s=b&~t,s!==0&&(p=Un(s))))):(b=u&~v,b!==0?p=Un(b):T!==0?p=Un(T):s||(s=u&~t,s!==0&&(p=Un(s)))),p===0?0:a!==0&&a!==p&&(a&v)===0&&(v=p&-p,s=a&-a,v>=s||v===32&&(s&4194048)!==0)?a:p}function En(t,a){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&a)===0}function Rr(t,a){switch(t){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ls(){var t=$i;return $i<<=1,($i&62914560)===0&&($i=4194304),t}function An(t){for(var a=[],s=0;31>s;s++)a.push(t);return a}function Ln(t,a){t.pendingLanes|=a,a!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Mr(t,a,s,u,p,v){var T=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var b=t.entanglements,w=t.expirationTimes,L=t.hiddenUpdates;for(s=T&~s;0<s;){var V=31-It(s),J=1<<V;b[V]=0,w[V]=-1;var O=L[V];if(O!==null)for(L[V]=null,V=0;V<O.length;V++){var G=O[V];G!==null&&(G.lane&=-536870913)}s&=~J}u!==0&&Ji(t,u,0),v!==0&&p===0&&t.tag!==0&&(t.suspendedLanes|=v&~(T&~a))}function Ji(t,a,s){t.pendingLanes|=a,t.suspendedLanes&=~a;var u=31-It(a);t.entangledLanes|=a,t.entanglements[u]=t.entanglements[u]|1073741824|s&261930}function Ot(t,a){var s=t.entangledLanes|=a;for(t=t.entanglements;s;){var u=31-It(s),p=1<<u;p&a|t[u]&a&&(t[u]|=a),s&=~p}}function ci(t,a){var s=a&-a;return s=(s&42)!==0?1:bo(s),(s&(t.suspendedLanes|a))!==0?0:s}function bo(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function xo(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Co(){var t=$.p;return t!==0?t:(t=window.event,t===void 0?32:Tm(t.type))}function wo(t,a){var s=$.p;try{return $.p=t,a()}finally{$.p=s}}var x=Math.random().toString(36).slice(2),P="__reactFiber$"+x,X="__reactProps$"+x,Ee="__reactContainer$"+x,z="__reactEvents$"+x,he="__reactListeners$"+x,ue="__reactHandles$"+x,Tt="__reactResources$"+x,kt="__reactMarker$"+x;function Pn(t){delete t[P],delete t[X],delete t[z],delete t[he],delete t[ue]}function an(t){var a=t[P];if(a)return a;for(var s=t.parentNode;s;){if(a=s[Ee]||s[P]){if(s=a.alternate,a.child!==null||s!==null&&s.child!==null)for(t=sm(t);t!==null;){if(s=t[P])return s;t=sm(t)}return a}t=s,s=t.parentNode}return null}function Jt(t){if(t=t[P]||t[Ee]){var a=t.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return t}return null}function j(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t.stateNode;throw Error(o(33))}function pe(t){var a=t[Tt];return a||(a=t[Tt]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Le(t){t[kt]=!0}var Gt=new Set,Dt={};function on(t,a){Yi(t,a),Yi(t+"Capture",a)}function Yi(t,a){for(Dt[t]=a,t=0;t<a.length;t++)Gt.add(a[t])}var Ir=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ao={},Vd={};function py(t){return zi.call(Vd,t)?!0:zi.call(Ao,t)?!1:Ir.test(t)?Vd[t]=!0:(Ao[t]=!0,!1)}function Ps(t,a,s){if(py(a))if(s===null)t.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){t.removeAttribute(a);return}}t.setAttribute(a,""+s)}}function Os(t,a,s){if(s===null)t.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttribute(a,""+s)}}function On(t,a,s,u){if(u===null)t.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(a,s,""+u)}}function sn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Bd(t){var a=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function my(t,a,s){var u=Object.getOwnPropertyDescriptor(t.constructor.prototype,a);if(!t.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var p=u.get,v=u.set;return Object.defineProperty(t,a,{configurable:!0,get:function(){return p.call(this)},set:function(T){s=""+T,v.call(this,T)}}),Object.defineProperty(t,a,{enumerable:u.enumerable}),{getValue:function(){return s},setValue:function(T){s=""+T},stopTracking:function(){t._valueTracker=null,delete t[a]}}}}function kr(t){if(!t._valueTracker){var a=Bd(t)?"checked":"value";t._valueTracker=my(t,a,""+t[a])}}function Fd(t){if(!t)return!1;var a=t._valueTracker;if(!a)return!0;var s=a.getValue(),u="";return t&&(u=Bd(t)?t.checked?"true":"false":t.value),t=u,t!==s?(a.setValue(t),!0):!1}function Gs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var gy=/[\n"\\]/g;function ln(t){return t.replace(gy,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Dr(t,a,s,u,p,v,T,b){t.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.type=T:t.removeAttribute("type"),a!=null?T==="number"?(a===0&&t.value===""||t.value!=a)&&(t.value=""+sn(a)):t.value!==""+sn(a)&&(t.value=""+sn(a)):T!=="submit"&&T!=="reset"||t.removeAttribute("value"),a!=null?Ur(t,T,sn(a)):s!=null?Ur(t,T,sn(s)):u!=null&&t.removeAttribute("value"),p==null&&v!=null&&(t.defaultChecked=!!v),p!=null&&(t.checked=p&&typeof p!="function"&&typeof p!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+sn(b):t.removeAttribute("name")}function $d(t,a,s,u,p,v,T,b){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.type=v),a!=null||s!=null){if(!(v!=="submit"&&v!=="reset"||a!=null)){kr(t);return}s=s!=null?""+sn(s):"",a=a!=null?""+sn(a):s,b||a===t.value||(t.value=a),t.defaultValue=a}u=u??p,u=typeof u!="function"&&typeof u!="symbol"&&!!u,t.checked=b?t.checked:!!u,t.defaultChecked=!!u,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(t.name=T),kr(t)}function Ur(t,a,s){a==="number"&&Gs(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function ba(t,a,s,u){if(t=t.options,a){a={};for(var p=0;p<s.length;p++)a["$"+s[p]]=!0;for(s=0;s<t.length;s++)p=a.hasOwnProperty("$"+t[s].value),t[s].selected!==p&&(t[s].selected=p),p&&u&&(t[s].defaultSelected=!0)}else{for(s=""+sn(s),a=null,p=0;p<t.length;p++){if(t[p].value===s){t[p].selected=!0,u&&(t[p].defaultSelected=!0);return}a!==null||t[p].disabled||(a=t[p])}a!==null&&(a.selected=!0)}}function Jd(t,a,s){if(a!=null&&(a=""+sn(a),a!==t.value&&(t.value=a),s==null)){t.defaultValue!==a&&(t.defaultValue=a);return}t.defaultValue=s!=null?""+sn(s):""}function Yd(t,a,s,u){if(a==null){if(u!=null){if(s!=null)throw Error(o(92));if(tt(u)){if(1<u.length)throw Error(o(93));u=u[0]}s=u}s==null&&(s=""),a=s}s=sn(a),t.defaultValue=s,u=t.textContent,u===s&&u!==""&&u!==null&&(t.value=u),kr(t)}function xa(t,a){if(a){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=a;return}}t.textContent=a}var vy=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Kd(t,a,s){var u=a.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?u?t.setProperty(a,""):a==="float"?t.cssFloat="":t[a]="":u?t.setProperty(a,s):typeof s!="number"||s===0||vy.has(a)?a==="float"?t.cssFloat=s:t[a]=(""+s).trim():t[a]=s+"px"}function Xd(t,a,s){if(a!=null&&typeof a!="object")throw Error(o(62));if(t=t.style,s!=null){for(var u in s)!s.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?t.setProperty(u,""):u==="float"?t.cssFloat="":t[u]="");for(var p in a)u=a[p],a.hasOwnProperty(p)&&s[p]!==u&&Kd(t,p,u)}else for(var v in a)a.hasOwnProperty(v)&&Kd(t,v,a[v])}function Lr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ey=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Hs(t){return Ey.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Gn(){}var Pr=null;function Or(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ca=null,wa=null;function Qd(t){var a=Jt(t);if(a&&(t=a.stateNode)){var s=t[X]||null;e:switch(t=a.stateNode,a.type){case"input":if(Dr(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),a=s.name,s.type==="radio"&&a!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+ln(""+a)+'"][type="radio"]'),a=0;a<s.length;a++){var u=s[a];if(u!==t&&u.form===t.form){var p=u[X]||null;if(!p)throw Error(o(90));Dr(u,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(a=0;a<s.length;a++)u=s[a],u.form===t.form&&Fd(u)}break e;case"textarea":Jd(t,s.value,s.defaultValue);break e;case"select":a=s.value,a!=null&&ba(t,!!s.multiple,a,!1)}}}var Gr=!1;function Zd(t,a,s){if(Gr)return t(a,s);Gr=!0;try{var u=t(a);return u}finally{if(Gr=!1,(Ca!==null||wa!==null)&&(wl(),Ca&&(a=Ca,t=wa,wa=Ca=null,Qd(a),t)))for(a=0;a<t.length;a++)Qd(t[a])}}function No(t,a){var s=t.stateNode;if(s===null)return null;var u=s[X]||null;if(u===null)return null;s=u[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(o(231,a,typeof s));return s}var Hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hr=!1;if(Hn)try{var Ro={};Object.defineProperty(Ro,"passive",{get:function(){Hr=!0}}),window.addEventListener("test",Ro,Ro),window.removeEventListener("test",Ro,Ro)}catch{Hr=!1}var di=null,zr=null,zs=null;function Wd(){if(zs)return zs;var t,a=zr,s=a.length,u,p="value"in di?di.value:di.textContent,v=p.length;for(t=0;t<s&&a[t]===p[t];t++);var T=s-t;for(u=1;u<=T&&a[s-u]===p[v-u];u++);return zs=p.slice(t,1<u?1-u:void 0)}function qs(t){var a=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&a===13&&(t=13)):t=a,t===10&&(t=13),32<=t||t===13?t:0}function Vs(){return!0}function jd(){return!1}function Ht(t){function a(s,u,p,v,T){this._reactName=s,this._targetInst=p,this.type=u,this.nativeEvent=v,this.target=T,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(s=t[b],this[b]=s?s(v):v[b]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Vs:jd,this.isPropagationStopped=jd,this}return _(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Vs)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Vs)},persist:function(){},isPersistent:Vs}),a}var Ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bs=Ht(Ki),Mo=_({},Ki,{view:0,detail:0}),_y=Ht(Mo),qr,Vr,Io,Fs=_({},Mo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Io&&(Io&&t.type==="mousemove"?(qr=t.screenX-Io.screenX,Vr=t.screenY-Io.screenY):Vr=qr=0,Io=t),qr)},movementY:function(t){return"movementY"in t?t.movementY:Vr}}),ef=Ht(Fs),Sy=_({},Fs,{dataTransfer:0}),Ty=Ht(Sy),by=_({},Mo,{relatedTarget:0}),Br=Ht(by),xy=_({},Ki,{animationName:0,elapsedTime:0,pseudoElement:0}),Cy=Ht(xy),wy=_({},Ki,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ay=Ht(wy),Ny=_({},Ki,{data:0}),tf=Ht(Ny),Ry={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},My={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Iy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ky(t){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(t):(t=Iy[t])?!!a[t]:!1}function Fr(){return ky}var Dy=_({},Mo,{key:function(t){if(t.key){var a=Ry[t.key]||t.key;if(a!=="Unidentified")return a}return t.type==="keypress"?(t=qs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?My[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fr,charCode:function(t){return t.type==="keypress"?qs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Uy=Ht(Dy),Ly=_({},Fs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nf=Ht(Ly),Py=_({},Mo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fr}),Oy=Ht(Py),Gy=_({},Ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),Hy=Ht(Gy),zy=_({},Fs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),qy=Ht(zy),Vy=_({},Ki,{newState:0,oldState:0}),By=Ht(Vy),Fy=[9,13,27,32],$r=Hn&&"CompositionEvent"in window,ko=null;Hn&&"documentMode"in document&&(ko=document.documentMode);var $y=Hn&&"TextEvent"in window&&!ko,af=Hn&&(!$r||ko&&8<ko&&11>=ko),of=" ",sf=!1;function lf(t,a){switch(t){case"keyup":return Fy.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Aa=!1;function Jy(t,a){switch(t){case"compositionend":return rf(a);case"keypress":return a.which!==32?null:(sf=!0,of);case"textInput":return t=a.data,t===of&&sf?null:t;default:return null}}function Yy(t,a){if(Aa)return t==="compositionend"||!$r&&lf(t,a)?(t=Wd(),zs=zr=di=null,Aa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return af&&a.locale!=="ko"?null:a.data;default:return null}}var Ky={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uf(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a==="input"?!!Ky[t.type]:a==="textarea"}function cf(t,a,s,u){Ca?wa?wa.push(u):wa=[u]:Ca=u,a=Dl(a,"onChange"),0<a.length&&(s=new Bs("onChange","change",null,s,u),t.push({event:s,listeners:a}))}var Do=null,Uo=null;function Xy(t){Jp(t,0)}function $s(t){var a=j(t);if(Fd(a))return t}function df(t,a){if(t==="change")return a}var ff=!1;if(Hn){var Jr;if(Hn){var Yr="oninput"in document;if(!Yr){var hf=document.createElement("div");hf.setAttribute("oninput","return;"),Yr=typeof hf.oninput=="function"}Jr=Yr}else Jr=!1;ff=Jr&&(!document.documentMode||9<document.documentMode)}function pf(){Do&&(Do.detachEvent("onpropertychange",mf),Uo=Do=null)}function mf(t){if(t.propertyName==="value"&&$s(Uo)){var a=[];cf(a,Uo,t,Or(t)),Zd(Xy,a)}}function Qy(t,a,s){t==="focusin"?(pf(),Do=a,Uo=s,Do.attachEvent("onpropertychange",mf)):t==="focusout"&&pf()}function Zy(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return $s(Uo)}function Wy(t,a){if(t==="click")return $s(a)}function jy(t,a){if(t==="input"||t==="change")return $s(a)}function eE(t,a){return t===a&&(t!==0||1/t===1/a)||t!==t&&a!==a}var Yt=typeof Object.is=="function"?Object.is:eE;function Lo(t,a){if(Yt(t,a))return!0;if(typeof t!="object"||t===null||typeof a!="object"||a===null)return!1;var s=Object.keys(t),u=Object.keys(a);if(s.length!==u.length)return!1;for(u=0;u<s.length;u++){var p=s[u];if(!zi.call(a,p)||!Yt(t[p],a[p]))return!1}return!0}function gf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function vf(t,a){var s=gf(t);t=0;for(var u;s;){if(s.nodeType===3){if(u=t+s.textContent.length,t<=a&&u>=a)return{node:s,offset:a-t};t=u}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=gf(s)}}function yf(t,a){return t&&a?t===a?!0:t&&t.nodeType===3?!1:a&&a.nodeType===3?yf(t,a.parentNode):"contains"in t?t.contains(a):t.compareDocumentPosition?!!(t.compareDocumentPosition(a)&16):!1:!1}function Ef(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var a=Gs(t.document);a instanceof t.HTMLIFrameElement;){try{var s=typeof a.contentWindow.location.href=="string"}catch{s=!1}if(s)t=a.contentWindow;else break;a=Gs(t.document)}return a}function Kr(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a&&(a==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||a==="textarea"||t.contentEditable==="true")}var tE=Hn&&"documentMode"in document&&11>=document.documentMode,Na=null,Xr=null,Po=null,Qr=!1;function _f(t,a,s){var u=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Qr||Na==null||Na!==Gs(u)||(u=Na,"selectionStart"in u&&Kr(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Po&&Lo(Po,u)||(Po=u,u=Dl(Xr,"onSelect"),0<u.length&&(a=new Bs("onSelect","select",null,a,s),t.push({event:a,listeners:u}),a.target=Na)))}function Xi(t,a){var s={};return s[t.toLowerCase()]=a.toLowerCase(),s["Webkit"+t]="webkit"+a,s["Moz"+t]="moz"+a,s}var Ra={animationend:Xi("Animation","AnimationEnd"),animationiteration:Xi("Animation","AnimationIteration"),animationstart:Xi("Animation","AnimationStart"),transitionrun:Xi("Transition","TransitionRun"),transitionstart:Xi("Transition","TransitionStart"),transitioncancel:Xi("Transition","TransitionCancel"),transitionend:Xi("Transition","TransitionEnd")},Zr={},Sf={};Hn&&(Sf=document.createElement("div").style,"AnimationEvent"in window||(delete Ra.animationend.animation,delete Ra.animationiteration.animation,delete Ra.animationstart.animation),"TransitionEvent"in window||delete Ra.transitionend.transition);function Qi(t){if(Zr[t])return Zr[t];if(!Ra[t])return t;var a=Ra[t],s;for(s in a)if(a.hasOwnProperty(s)&&s in Sf)return Zr[t]=a[s];return t}var Tf=Qi("animationend"),bf=Qi("animationiteration"),xf=Qi("animationstart"),nE=Qi("transitionrun"),iE=Qi("transitionstart"),aE=Qi("transitioncancel"),Cf=Qi("transitionend"),wf=new Map,Wr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Wr.push("scrollEnd");function _n(t,a){wf.set(t,a),on(a,[t])}var Js=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},rn=[],Ma=0,jr=0;function Ys(){for(var t=Ma,a=jr=Ma=0;a<t;){var s=rn[a];rn[a++]=null;var u=rn[a];rn[a++]=null;var p=rn[a];rn[a++]=null;var v=rn[a];if(rn[a++]=null,u!==null&&p!==null){var T=u.pending;T===null?p.next=p:(p.next=T.next,T.next=p),u.pending=p}v!==0&&Af(s,p,v)}}function Ks(t,a,s,u){rn[Ma++]=t,rn[Ma++]=a,rn[Ma++]=s,rn[Ma++]=u,jr|=u,t.lanes|=u,t=t.alternate,t!==null&&(t.lanes|=u)}function eu(t,a,s,u){return Ks(t,a,s,u),Xs(t)}function Zi(t,a){return Ks(t,null,null,a),Xs(t)}function Af(t,a,s){t.lanes|=s;var u=t.alternate;u!==null&&(u.lanes|=s);for(var p=!1,v=t.return;v!==null;)v.childLanes|=s,u=v.alternate,u!==null&&(u.childLanes|=s),v.tag===22&&(t=v.stateNode,t===null||t._visibility&1||(p=!0)),t=v,v=v.return;return t.tag===3?(v=t.stateNode,p&&a!==null&&(p=31-It(s),t=v.hiddenUpdates,u=t[p],u===null?t[p]=[a]:u.push(a),a.lane=s|536870912),v):null}function Xs(t){if(50<as)throw as=0,uc=null,Error(o(185));for(var a=t.return;a!==null;)t=a,a=t.return;return t.tag===3?t.stateNode:null}var Ia={};function oE(t,a,s,u){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kt(t,a,s,u){return new oE(t,a,s,u)}function tu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function zn(t,a){var s=t.alternate;return s===null?(s=Kt(t.tag,a,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=a,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,a=t.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Nf(t,a){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=a,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,a=s.dependencies,t.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),t}function Qs(t,a,s,u,p,v){var T=0;if(u=t,typeof t=="function")tu(t)&&(T=1);else if(typeof t=="string")T=c_(t,s,oe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case ee:return t=Kt(31,s,a,p),t.elementType=ee,t.lanes=v,t;case D:return Wi(s.children,p,v,a);case I:T=8,p|=24;break;case H:return t=Kt(12,s,a,p|2),t.elementType=H,t.lanes=v,t;case Z:return t=Kt(13,s,a,p),t.elementType=Z,t.lanes=v,t;case q:return t=Kt(19,s,a,p),t.elementType=q,t.lanes=v,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Y:T=10;break e;case Q:T=9;break e;case K:T=11;break e;case W:T=14;break e;case me:T=16,u=null;break e}T=29,s=Error(o(130,t===null?"null":typeof t,"")),u=null}return a=Kt(T,s,a,p),a.elementType=t,a.type=u,a.lanes=v,a}function Wi(t,a,s,u){return t=Kt(7,t,u,a),t.lanes=s,t}function nu(t,a,s){return t=Kt(6,t,null,a),t.lanes=s,t}function Rf(t){var a=Kt(18,null,null,0);return a.stateNode=t,a}function iu(t,a,s){return a=Kt(4,t.children!==null?t.children:[],t.key,a),a.lanes=s,a.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},a}var Mf=new WeakMap;function un(t,a){if(typeof t=="object"&&t!==null){var s=Mf.get(t);return s!==void 0?s:(a={value:t,source:a,stack:ks(a)},Mf.set(t,a),a)}return{value:t,source:a,stack:ks(a)}}var ka=[],Da=0,Zs=null,Oo=0,cn=[],dn=0,fi=null,Nn=1,Rn="";function qn(t,a){ka[Da++]=Oo,ka[Da++]=Zs,Zs=t,Oo=a}function If(t,a,s){cn[dn++]=Nn,cn[dn++]=Rn,cn[dn++]=fi,fi=t;var u=Nn;t=Rn;var p=32-It(u)-1;u&=~(1<<p),s+=1;var v=32-It(a)+p;if(30<v){var T=p-p%5;v=(u&(1<<T)-1).toString(32),u>>=T,p-=T,Nn=1<<32-It(a)+p|s<<p|u,Rn=v+t}else Nn=1<<v|s<<p|u,Rn=t}function au(t){t.return!==null&&(qn(t,1),If(t,1,0))}function ou(t){for(;t===Zs;)Zs=ka[--Da],ka[Da]=null,Oo=ka[--Da],ka[Da]=null;for(;t===fi;)fi=cn[--dn],cn[dn]=null,Rn=cn[--dn],cn[dn]=null,Nn=cn[--dn],cn[dn]=null}function kf(t,a){cn[dn++]=Nn,cn[dn++]=Rn,cn[dn++]=fi,Nn=a.id,Rn=a.overflow,fi=t}var bt=null,je=null,ke=!1,hi=null,fn=!1,su=Error(o(519));function pi(t){var a=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Go(un(a,t)),su}function Df(t){var a=t.stateNode,s=t.type,u=t.memoizedProps;switch(a[P]=t,a[X]=u,s){case"dialog":Ae("cancel",a),Ae("close",a);break;case"iframe":case"object":case"embed":Ae("load",a);break;case"video":case"audio":for(s=0;s<ss.length;s++)Ae(ss[s],a);break;case"source":Ae("error",a);break;case"img":case"image":case"link":Ae("error",a),Ae("load",a);break;case"details":Ae("toggle",a);break;case"input":Ae("invalid",a),$d(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Ae("invalid",a);break;case"textarea":Ae("invalid",a),Yd(a,u.value,u.defaultValue,u.children)}s=u.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||a.textContent===""+s||u.suppressHydrationWarning===!0||Qp(a.textContent,s)?(u.popover!=null&&(Ae("beforetoggle",a),Ae("toggle",a)),u.onScroll!=null&&Ae("scroll",a),u.onScrollEnd!=null&&Ae("scrollend",a),u.onClick!=null&&(a.onclick=Gn),a=!0):a=!1,a||pi(t,!0)}function Uf(t){for(bt=t.return;bt;)switch(bt.tag){case 5:case 31:case 13:fn=!1;return;case 27:case 3:fn=!0;return;default:bt=bt.return}}function Ua(t){if(t!==bt)return!1;if(!ke)return Uf(t),ke=!0,!1;var a=t.tag,s;if((s=a!==3&&a!==27)&&((s=a===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||xc(t.type,t.memoizedProps)),s=!s),s&&je&&pi(t),Uf(t),a===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));je=om(t)}else if(a===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));je=om(t)}else a===27?(a=je,Ni(t.type)?(t=Rc,Rc=null,je=t):je=a):je=bt?pn(t.stateNode.nextSibling):null;return!0}function ji(){je=bt=null,ke=!1}function lu(){var t=hi;return t!==null&&(Bt===null?Bt=t:Bt.push.apply(Bt,t),hi=null),t}function Go(t){hi===null?hi=[t]:hi.push(t)}var ru=R(null),ea=null,Vn=null;function mi(t,a,s){ie(ru,a._currentValue),a._currentValue=s}function Bn(t){t._currentValue=ru.current,B(ru)}function uu(t,a,s){for(;t!==null;){var u=t.alternate;if((t.childLanes&a)!==a?(t.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),t===s)break;t=t.return}}function cu(t,a,s,u){var p=t.child;for(p!==null&&(p.return=t);p!==null;){var v=p.dependencies;if(v!==null){var T=p.child;v=v.firstContext;e:for(;v!==null;){var b=v;v=p;for(var w=0;w<a.length;w++)if(b.context===a[w]){v.lanes|=s,b=v.alternate,b!==null&&(b.lanes|=s),uu(v.return,s,t),u||(T=null);break e}v=b.next}}else if(p.tag===18){if(T=p.return,T===null)throw Error(o(341));T.lanes|=s,v=T.alternate,v!==null&&(v.lanes|=s),uu(T,s,t),T=null}else T=p.child;if(T!==null)T.return=p;else for(T=p;T!==null;){if(T===t){T=null;break}if(p=T.sibling,p!==null){p.return=T.return,T=p;break}T=T.return}p=T}}function La(t,a,s,u){t=null;for(var p=a,v=!1;p!==null;){if(!v){if((p.flags&524288)!==0)v=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var T=p.alternate;if(T===null)throw Error(o(387));if(T=T.memoizedProps,T!==null){var b=p.type;Yt(p.pendingProps.value,T.value)||(t!==null?t.push(b):t=[b])}}else if(p===Ue.current){if(T=p.alternate,T===null)throw Error(o(387));T.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(t!==null?t.push(ds):t=[ds])}p=p.return}t!==null&&cu(a,t,s,u),a.flags|=262144}function Ws(t){for(t=t.firstContext;t!==null;){if(!Yt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ta(t){ea=t,Vn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function xt(t){return Lf(ea,t)}function js(t,a){return ea===null&&ta(t),Lf(t,a)}function Lf(t,a){var s=a._currentValue;if(a={context:a,memoizedValue:s,next:null},Vn===null){if(t===null)throw Error(o(308));Vn=a,t.dependencies={lanes:0,firstContext:a},t.flags|=524288}else Vn=Vn.next=a;return s}var sE=typeof AbortController<"u"?AbortController:function(){var t=[],a=this.signal={aborted:!1,addEventListener:function(s,u){t.push(u)}};this.abort=function(){a.aborted=!0,t.forEach(function(s){return s()})}},lE=n.unstable_scheduleCallback,rE=n.unstable_NormalPriority,ct={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function du(){return{controller:new sE,data:new Map,refCount:0}}function Ho(t){t.refCount--,t.refCount===0&&lE(rE,function(){t.controller.abort()})}var zo=null,fu=0,Pa=0,Oa=null;function uE(t,a){if(zo===null){var s=zo=[];fu=0,Pa=mc(),Oa={status:"pending",value:void 0,then:function(u){s.push(u)}}}return fu++,a.then(Pf,Pf),a}function Pf(){if(--fu===0&&zo!==null){Oa!==null&&(Oa.status="fulfilled");var t=zo;zo=null,Pa=0,Oa=null;for(var a=0;a<t.length;a++)(0,t[a])()}}function cE(t,a){var s=[],u={status:"pending",value:null,reason:null,then:function(p){s.push(p)}};return t.then(function(){u.status="fulfilled",u.value=a;for(var p=0;p<s.length;p++)(0,s[p])(a)},function(p){for(u.status="rejected",u.reason=p,p=0;p<s.length;p++)(0,s[p])(void 0)}),u}var Of=A.S;A.S=function(t,a){_p=mt(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&uE(t,a),Of!==null&&Of(t,a)};var na=R(null);function hu(){var t=na.current;return t!==null?t:Qe.pooledCache}function el(t,a){a===null?ie(na,na.current):ie(na,a.pool)}function Gf(){var t=hu();return t===null?null:{parent:ct._currentValue,pool:t}}var Ga=Error(o(460)),pu=Error(o(474)),tl=Error(o(542)),nl={then:function(){}};function Hf(t){return t=t.status,t==="fulfilled"||t==="rejected"}function zf(t,a,s){switch(s=t[s],s===void 0?t.push(a):s!==a&&(a.then(Gn,Gn),a=s),a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,Vf(t),t;default:if(typeof a.status=="string")a.then(Gn,Gn);else{if(t=Qe,t!==null&&100<t.shellSuspendCounter)throw Error(o(482));t=a,t.status="pending",t.then(function(u){if(a.status==="pending"){var p=a;p.status="fulfilled",p.value=u}},function(u){if(a.status==="pending"){var p=a;p.status="rejected",p.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,Vf(t),t}throw aa=a,Ga}}function ia(t){try{var a=t._init;return a(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(aa=s,Ga):s}}var aa=null;function qf(){if(aa===null)throw Error(o(459));var t=aa;return aa=null,t}function Vf(t){if(t===Ga||t===tl)throw Error(o(483))}var Ha=null,qo=0;function il(t){var a=qo;return qo+=1,Ha===null&&(Ha=[]),zf(Ha,t,a)}function Vo(t,a){a=a.props.ref,t.ref=a!==void 0?a:null}function al(t,a){throw a.$$typeof===S?Error(o(525)):(t=Object.prototype.toString.call(a),Error(o(31,t==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":t)))}function Bf(t){function a(k,M){if(t){var U=k.deletions;U===null?(k.deletions=[M],k.flags|=16):U.push(M)}}function s(k,M){if(!t)return null;for(;M!==null;)a(k,M),M=M.sibling;return null}function u(k){for(var M=new Map;k!==null;)k.key!==null?M.set(k.key,k):M.set(k.index,k),k=k.sibling;return M}function p(k,M){return k=zn(k,M),k.index=0,k.sibling=null,k}function v(k,M,U){return k.index=U,t?(U=k.alternate,U!==null?(U=U.index,U<M?(k.flags|=67108866,M):U):(k.flags|=67108866,M)):(k.flags|=1048576,M)}function T(k){return t&&k.alternate===null&&(k.flags|=67108866),k}function b(k,M,U,F){return M===null||M.tag!==6?(M=nu(U,k.mode,F),M.return=k,M):(M=p(M,U),M.return=k,M)}function w(k,M,U,F){var ce=U.type;return ce===D?V(k,M,U.props.children,F,U.key):M!==null&&(M.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===me&&ia(ce)===M.type)?(M=p(M,U.props),Vo(M,U),M.return=k,M):(M=Qs(U.type,U.key,U.props,null,k.mode,F),Vo(M,U),M.return=k,M)}function L(k,M,U,F){return M===null||M.tag!==4||M.stateNode.containerInfo!==U.containerInfo||M.stateNode.implementation!==U.implementation?(M=iu(U,k.mode,F),M.return=k,M):(M=p(M,U.children||[]),M.return=k,M)}function V(k,M,U,F,ce){return M===null||M.tag!==7?(M=Wi(U,k.mode,F,ce),M.return=k,M):(M=p(M,U),M.return=k,M)}function J(k,M,U){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=nu(""+M,k.mode,U),M.return=k,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case C:return U=Qs(M.type,M.key,M.props,null,k.mode,U),Vo(U,M),U.return=k,U;case N:return M=iu(M,k.mode,U),M.return=k,M;case me:return M=ia(M),J(k,M,U)}if(tt(M)||Pe(M))return M=Wi(M,k.mode,U,null),M.return=k,M;if(typeof M.then=="function")return J(k,il(M),U);if(M.$$typeof===Y)return J(k,js(k,M),U);al(k,M)}return null}function O(k,M,U,F){var ce=M!==null?M.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return ce!==null?null:b(k,M,""+U,F);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case C:return U.key===ce?w(k,M,U,F):null;case N:return U.key===ce?L(k,M,U,F):null;case me:return U=ia(U),O(k,M,U,F)}if(tt(U)||Pe(U))return ce!==null?null:V(k,M,U,F,null);if(typeof U.then=="function")return O(k,M,il(U),F);if(U.$$typeof===Y)return O(k,M,js(k,U),F);al(k,U)}return null}function G(k,M,U,F,ce){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return k=k.get(U)||null,b(M,k,""+F,ce);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case C:return k=k.get(F.key===null?U:F.key)||null,w(M,k,F,ce);case N:return k=k.get(F.key===null?U:F.key)||null,L(M,k,F,ce);case me:return F=ia(F),G(k,M,U,F,ce)}if(tt(F)||Pe(F))return k=k.get(U)||null,V(M,k,F,ce,null);if(typeof F.then=="function")return G(k,M,U,il(F),ce);if(F.$$typeof===Y)return G(k,M,U,js(M,F),ce);al(M,F)}return null}function se(k,M,U,F){for(var ce=null,Oe=null,le=M,be=M=0,Me=null;le!==null&&be<U.length;be++){le.index>be?(Me=le,le=null):Me=le.sibling;var Ge=O(k,le,U[be],F);if(Ge===null){le===null&&(le=Me);break}t&&le&&Ge.alternate===null&&a(k,le),M=v(Ge,M,be),Oe===null?ce=Ge:Oe.sibling=Ge,Oe=Ge,le=Me}if(be===U.length)return s(k,le),ke&&qn(k,be),ce;if(le===null){for(;be<U.length;be++)le=J(k,U[be],F),le!==null&&(M=v(le,M,be),Oe===null?ce=le:Oe.sibling=le,Oe=le);return ke&&qn(k,be),ce}for(le=u(le);be<U.length;be++)Me=G(le,k,be,U[be],F),Me!==null&&(t&&Me.alternate!==null&&le.delete(Me.key===null?be:Me.key),M=v(Me,M,be),Oe===null?ce=Me:Oe.sibling=Me,Oe=Me);return t&&le.forEach(function(Di){return a(k,Di)}),ke&&qn(k,be),ce}function fe(k,M,U,F){if(U==null)throw Error(o(151));for(var ce=null,Oe=null,le=M,be=M=0,Me=null,Ge=U.next();le!==null&&!Ge.done;be++,Ge=U.next()){le.index>be?(Me=le,le=null):Me=le.sibling;var Di=O(k,le,Ge.value,F);if(Di===null){le===null&&(le=Me);break}t&&le&&Di.alternate===null&&a(k,le),M=v(Di,M,be),Oe===null?ce=Di:Oe.sibling=Di,Oe=Di,le=Me}if(Ge.done)return s(k,le),ke&&qn(k,be),ce;if(le===null){for(;!Ge.done;be++,Ge=U.next())Ge=J(k,Ge.value,F),Ge!==null&&(M=v(Ge,M,be),Oe===null?ce=Ge:Oe.sibling=Ge,Oe=Ge);return ke&&qn(k,be),ce}for(le=u(le);!Ge.done;be++,Ge=U.next())Ge=G(le,k,be,Ge.value,F),Ge!==null&&(t&&Ge.alternate!==null&&le.delete(Ge.key===null?be:Ge.key),M=v(Ge,M,be),Oe===null?ce=Ge:Oe.sibling=Ge,Oe=Ge);return t&&le.forEach(function(S_){return a(k,S_)}),ke&&qn(k,be),ce}function Ke(k,M,U,F){if(typeof U=="object"&&U!==null&&U.type===D&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case C:e:{for(var ce=U.key;M!==null;){if(M.key===ce){if(ce=U.type,ce===D){if(M.tag===7){s(k,M.sibling),F=p(M,U.props.children),F.return=k,k=F;break e}}else if(M.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===me&&ia(ce)===M.type){s(k,M.sibling),F=p(M,U.props),Vo(F,U),F.return=k,k=F;break e}s(k,M);break}else a(k,M);M=M.sibling}U.type===D?(F=Wi(U.props.children,k.mode,F,U.key),F.return=k,k=F):(F=Qs(U.type,U.key,U.props,null,k.mode,F),Vo(F,U),F.return=k,k=F)}return T(k);case N:e:{for(ce=U.key;M!==null;){if(M.key===ce)if(M.tag===4&&M.stateNode.containerInfo===U.containerInfo&&M.stateNode.implementation===U.implementation){s(k,M.sibling),F=p(M,U.children||[]),F.return=k,k=F;break e}else{s(k,M);break}else a(k,M);M=M.sibling}F=iu(U,k.mode,F),F.return=k,k=F}return T(k);case me:return U=ia(U),Ke(k,M,U,F)}if(tt(U))return se(k,M,U,F);if(Pe(U)){if(ce=Pe(U),typeof ce!="function")throw Error(o(150));return U=ce.call(U),fe(k,M,U,F)}if(typeof U.then=="function")return Ke(k,M,il(U),F);if(U.$$typeof===Y)return Ke(k,M,js(k,U),F);al(k,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,M!==null&&M.tag===6?(s(k,M.sibling),F=p(M,U),F.return=k,k=F):(s(k,M),F=nu(U,k.mode,F),F.return=k,k=F),T(k)):s(k,M)}return function(k,M,U,F){try{qo=0;var ce=Ke(k,M,U,F);return Ha=null,ce}catch(le){if(le===Ga||le===tl)throw le;var Oe=Kt(29,le,null,k.mode);return Oe.lanes=F,Oe.return=k,Oe}finally{}}}var oa=Bf(!0),Ff=Bf(!1),gi=!1;function mu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gu(t,a){t=t.updateQueue,a.updateQueue===t&&(a.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function vi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function yi(t,a,s){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(qe&2)!==0){var p=u.pending;return p===null?a.next=a:(a.next=p.next,p.next=a),u.pending=a,a=Xs(t),Af(t,null,s),a}return Ks(t,u,a,s),Xs(t)}function Bo(t,a,s){if(a=a.updateQueue,a!==null&&(a=a.shared,(s&4194048)!==0)){var u=a.lanes;u&=t.pendingLanes,s|=u,a.lanes=s,Ot(t,s)}}function vu(t,a){var s=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,s===u)){var p=null,v=null;if(s=s.firstBaseUpdate,s!==null){do{var T={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};v===null?p=v=T:v=v.next=T,s=s.next}while(s!==null);v===null?p=v=a:v=v.next=a}else p=v=a;s={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:v,shared:u.shared,callbacks:u.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=a:t.next=a,s.lastBaseUpdate=a}var yu=!1;function Fo(){if(yu){var t=Oa;if(t!==null)throw t}}function $o(t,a,s,u){yu=!1;var p=t.updateQueue;gi=!1;var v=p.firstBaseUpdate,T=p.lastBaseUpdate,b=p.shared.pending;if(b!==null){p.shared.pending=null;var w=b,L=w.next;w.next=null,T===null?v=L:T.next=L,T=w;var V=t.alternate;V!==null&&(V=V.updateQueue,b=V.lastBaseUpdate,b!==T&&(b===null?V.firstBaseUpdate=L:b.next=L,V.lastBaseUpdate=w))}if(v!==null){var J=p.baseState;T=0,V=L=w=null,b=v;do{var O=b.lane&-536870913,G=O!==b.lane;if(G?(Re&O)===O:(u&O)===O){O!==0&&O===Pa&&(yu=!0),V!==null&&(V=V.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var se=t,fe=b;O=a;var Ke=s;switch(fe.tag){case 1:if(se=fe.payload,typeof se=="function"){J=se.call(Ke,J,O);break e}J=se;break e;case 3:se.flags=se.flags&-65537|128;case 0:if(se=fe.payload,O=typeof se=="function"?se.call(Ke,J,O):se,O==null)break e;J=_({},J,O);break e;case 2:gi=!0}}O=b.callback,O!==null&&(t.flags|=64,G&&(t.flags|=8192),G=p.callbacks,G===null?p.callbacks=[O]:G.push(O))}else G={lane:O,tag:b.tag,payload:b.payload,callback:b.callback,next:null},V===null?(L=V=G,w=J):V=V.next=G,T|=O;if(b=b.next,b===null){if(b=p.shared.pending,b===null)break;G=b,b=G.next,G.next=null,p.lastBaseUpdate=G,p.shared.pending=null}}while(!0);V===null&&(w=J),p.baseState=w,p.firstBaseUpdate=L,p.lastBaseUpdate=V,v===null&&(p.shared.lanes=0),bi|=T,t.lanes=T,t.memoizedState=J}}function $f(t,a){if(typeof t!="function")throw Error(o(191,t));t.call(a)}function Jf(t,a){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)$f(s[t],a)}var za=R(null),ol=R(0);function Yf(t,a){t=Wn,ie(ol,t),ie(za,a),Wn=t|a.baseLanes}function Eu(){ie(ol,Wn),ie(za,za.current)}function _u(){Wn=ol.current,B(za),B(ol)}var Xt=R(null),hn=null;function Ei(t){var a=t.alternate;ie(rt,rt.current&1),ie(Xt,t),hn===null&&(a===null||za.current!==null||a.memoizedState!==null)&&(hn=t)}function Su(t){ie(rt,rt.current),ie(Xt,t),hn===null&&(hn=t)}function Kf(t){t.tag===22?(ie(rt,rt.current),ie(Xt,t),hn===null&&(hn=t)):_i()}function _i(){ie(rt,rt.current),ie(Xt,Xt.current)}function Qt(t){B(Xt),hn===t&&(hn=null),B(rt)}var rt=R(0);function sl(t){for(var a=t;a!==null;){if(a.tag===13){var s=a.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Ac(s)||Nc(s)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Fn=0,Se=null,Je=null,dt=null,ll=!1,qa=!1,sa=!1,rl=0,Jo=0,Va=null,dE=0;function at(){throw Error(o(321))}function Tu(t,a){if(a===null)return!1;for(var s=0;s<a.length&&s<t.length;s++)if(!Yt(t[s],a[s]))return!1;return!0}function bu(t,a,s,u,p,v){return Fn=v,Se=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,A.H=t===null||t.memoizedState===null?Ih:Gu,sa=!1,v=s(u,p),sa=!1,qa&&(v=Qf(a,s,u,p)),Xf(t),v}function Xf(t){A.H=Xo;var a=Je!==null&&Je.next!==null;if(Fn=0,dt=Je=Se=null,ll=!1,Jo=0,Va=null,a)throw Error(o(300));t===null||ft||(t=t.dependencies,t!==null&&Ws(t)&&(ft=!0))}function Qf(t,a,s,u){Se=t;var p=0;do{if(qa&&(Va=null),Jo=0,qa=!1,25<=p)throw Error(o(301));if(p+=1,dt=Je=null,t.updateQueue!=null){var v=t.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}A.H=kh,v=a(s,u)}while(qa);return v}function fE(){var t=A.H,a=t.useState()[0];return a=typeof a.then=="function"?Yo(a):a,t=t.useState()[0],(Je!==null?Je.memoizedState:null)!==t&&(Se.flags|=1024),a}function xu(){var t=rl!==0;return rl=0,t}function Cu(t,a,s){a.updateQueue=t.updateQueue,a.flags&=-2053,t.lanes&=~s}function wu(t){if(ll){for(t=t.memoizedState;t!==null;){var a=t.queue;a!==null&&(a.pending=null),t=t.next}ll=!1}Fn=0,dt=Je=Se=null,qa=!1,Jo=rl=0,Va=null}function Ut(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?Se.memoizedState=dt=t:dt=dt.next=t,dt}function ut(){if(Je===null){var t=Se.alternate;t=t!==null?t.memoizedState:null}else t=Je.next;var a=dt===null?Se.memoizedState:dt.next;if(a!==null)dt=a,Je=t;else{if(t===null)throw Se.alternate===null?Error(o(467)):Error(o(310));Je=t,t={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},dt===null?Se.memoizedState=dt=t:dt=dt.next=t}return dt}function ul(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Yo(t){var a=Jo;return Jo+=1,Va===null&&(Va=[]),t=zf(Va,t,a),a=Se,(dt===null?a.memoizedState:dt.next)===null&&(a=a.alternate,A.H=a===null||a.memoizedState===null?Ih:Gu),t}function cl(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Yo(t);if(t.$$typeof===Y)return xt(t)}throw Error(o(438,String(t)))}function Au(t){var a=null,s=Se.updateQueue;if(s!==null&&(a=s.memoCache),a==null){var u=Se.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(p){return p.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),s===null&&(s=ul(),Se.updateQueue=s),s.memoCache=a,s=a.data[a.index],s===void 0)for(s=a.data[a.index]=Array(t),u=0;u<t;u++)s[u]=re;return a.index++,s}function $n(t,a){return typeof a=="function"?a(t):a}function dl(t){var a=ut();return Nu(a,Je,t)}function Nu(t,a,s){var u=t.queue;if(u===null)throw Error(o(311));u.lastRenderedReducer=s;var p=t.baseQueue,v=u.pending;if(v!==null){if(p!==null){var T=p.next;p.next=v.next,v.next=T}a.baseQueue=p=v,u.pending=null}if(v=t.baseState,p===null)t.memoizedState=v;else{a=p.next;var b=T=null,w=null,L=a,V=!1;do{var J=L.lane&-536870913;if(J!==L.lane?(Re&J)===J:(Fn&J)===J){var O=L.revertLane;if(O===0)w!==null&&(w=w.next={lane:0,revertLane:0,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),J===Pa&&(V=!0);else if((Fn&O)===O){L=L.next,O===Pa&&(V=!0);continue}else J={lane:0,revertLane:L.revertLane,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},w===null?(b=w=J,T=v):w=w.next=J,Se.lanes|=O,bi|=O;J=L.action,sa&&s(v,J),v=L.hasEagerState?L.eagerState:s(v,J)}else O={lane:J,revertLane:L.revertLane,gesture:L.gesture,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},w===null?(b=w=O,T=v):w=w.next=O,Se.lanes|=J,bi|=J;L=L.next}while(L!==null&&L!==a);if(w===null?T=v:w.next=b,!Yt(v,t.memoizedState)&&(ft=!0,V&&(s=Oa,s!==null)))throw s;t.memoizedState=v,t.baseState=T,t.baseQueue=w,u.lastRenderedState=v}return p===null&&(u.lanes=0),[t.memoizedState,u.dispatch]}function Ru(t){var a=ut(),s=a.queue;if(s===null)throw Error(o(311));s.lastRenderedReducer=t;var u=s.dispatch,p=s.pending,v=a.memoizedState;if(p!==null){s.pending=null;var T=p=p.next;do v=t(v,T.action),T=T.next;while(T!==p);Yt(v,a.memoizedState)||(ft=!0),a.memoizedState=v,a.baseQueue===null&&(a.baseState=v),s.lastRenderedState=v}return[v,u]}function Zf(t,a,s){var u=Se,p=ut(),v=ke;if(v){if(s===void 0)throw Error(o(407));s=s()}else s=a();var T=!Yt((Je||p).memoizedState,s);if(T&&(p.memoizedState=s,ft=!0),p=p.queue,ku(eh.bind(null,u,p,t),[t]),p.getSnapshot!==a||T||dt!==null&&dt.memoizedState.tag&1){if(u.flags|=2048,Ba(9,{destroy:void 0},jf.bind(null,u,p,s,a),null),Qe===null)throw Error(o(349));v||(Fn&127)!==0||Wf(u,a,s)}return s}function Wf(t,a,s){t.flags|=16384,t={getSnapshot:a,value:s},a=Se.updateQueue,a===null?(a=ul(),Se.updateQueue=a,a.stores=[t]):(s=a.stores,s===null?a.stores=[t]:s.push(t))}function jf(t,a,s,u){a.value=s,a.getSnapshot=u,th(a)&&nh(t)}function eh(t,a,s){return s(function(){th(a)&&nh(t)})}function th(t){var a=t.getSnapshot;t=t.value;try{var s=a();return!Yt(t,s)}catch{return!0}}function nh(t){var a=Zi(t,2);a!==null&&Ft(a,t,2)}function Mu(t){var a=Ut();if(typeof t=="function"){var s=t;if(t=s(),sa){nn(!0);try{s()}finally{nn(!1)}}}return a.memoizedState=a.baseState=t,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$n,lastRenderedState:t},a}function ih(t,a,s,u){return t.baseState=s,Nu(t,Je,typeof u=="function"?u:$n)}function hE(t,a,s,u,p){if(pl(t))throw Error(o(485));if(t=a.action,t!==null){var v={payload:p,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){v.listeners.push(T)}};A.T!==null?s(!0):v.isTransition=!1,u(v),s=a.pending,s===null?(v.next=a.pending=v,ah(a,v)):(v.next=s.next,a.pending=s.next=v)}}function ah(t,a){var s=a.action,u=a.payload,p=t.state;if(a.isTransition){var v=A.T,T={};A.T=T;try{var b=s(p,u),w=A.S;w!==null&&w(T,b),oh(t,a,b)}catch(L){Iu(t,a,L)}finally{v!==null&&T.types!==null&&(v.types=T.types),A.T=v}}else try{v=s(p,u),oh(t,a,v)}catch(L){Iu(t,a,L)}}function oh(t,a,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(u){sh(t,a,u)},function(u){return Iu(t,a,u)}):sh(t,a,s)}function sh(t,a,s){a.status="fulfilled",a.value=s,lh(a),t.state=s,a=t.pending,a!==null&&(s=a.next,s===a?t.pending=null:(s=s.next,a.next=s,ah(t,s)))}function Iu(t,a,s){var u=t.pending;if(t.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=s,lh(a),a=a.next;while(a!==u)}t.action=null}function lh(t){t=t.listeners;for(var a=0;a<t.length;a++)(0,t[a])()}function rh(t,a){return a}function uh(t,a){if(ke){var s=Qe.formState;if(s!==null){e:{var u=Se;if(ke){if(je){t:{for(var p=je,v=fn;p.nodeType!==8;){if(!v){p=null;break t}if(p=pn(p.nextSibling),p===null){p=null;break t}}v=p.data,p=v==="F!"||v==="F"?p:null}if(p){je=pn(p.nextSibling),u=p.data==="F!";break e}}pi(u)}u=!1}u&&(a=s[0])}}return s=Ut(),s.memoizedState=s.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rh,lastRenderedState:a},s.queue=u,s=Nh.bind(null,Se,u),u.dispatch=s,u=Mu(!1),v=Ou.bind(null,Se,!1,u.queue),u=Ut(),p={state:a,dispatch:null,action:t,pending:null},u.queue=p,s=hE.bind(null,Se,p,v,s),p.dispatch=s,u.memoizedState=t,[a,s,!1]}function ch(t){var a=ut();return dh(a,Je,t)}function dh(t,a,s){if(a=Nu(t,a,rh)[0],t=dl($n)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var u=Yo(a)}catch(T){throw T===Ga?tl:T}else u=a;a=ut();var p=a.queue,v=p.dispatch;return s!==a.memoizedState&&(Se.flags|=2048,Ba(9,{destroy:void 0},pE.bind(null,p,s),null)),[u,v,t]}function pE(t,a){t.action=a}function fh(t){var a=ut(),s=Je;if(s!==null)return dh(a,s,t);ut(),a=a.memoizedState,s=ut();var u=s.queue.dispatch;return s.memoizedState=t,[a,u,!1]}function Ba(t,a,s,u){return t={tag:t,create:s,deps:u,inst:a,next:null},a=Se.updateQueue,a===null&&(a=ul(),Se.updateQueue=a),s=a.lastEffect,s===null?a.lastEffect=t.next=t:(u=s.next,s.next=t,t.next=u,a.lastEffect=t),t}function hh(){return ut().memoizedState}function fl(t,a,s,u){var p=Ut();Se.flags|=t,p.memoizedState=Ba(1|a,{destroy:void 0},s,u===void 0?null:u)}function hl(t,a,s,u){var p=ut();u=u===void 0?null:u;var v=p.memoizedState.inst;Je!==null&&u!==null&&Tu(u,Je.memoizedState.deps)?p.memoizedState=Ba(a,v,s,u):(Se.flags|=t,p.memoizedState=Ba(1|a,v,s,u))}function ph(t,a){fl(8390656,8,t,a)}function ku(t,a){hl(2048,8,t,a)}function mE(t){Se.flags|=4;var a=Se.updateQueue;if(a===null)a=ul(),Se.updateQueue=a,a.events=[t];else{var s=a.events;s===null?a.events=[t]:s.push(t)}}function mh(t){var a=ut().memoizedState;return mE({ref:a,nextImpl:t}),function(){if((qe&2)!==0)throw Error(o(440));return a.impl.apply(void 0,arguments)}}function gh(t,a){return hl(4,2,t,a)}function vh(t,a){return hl(4,4,t,a)}function yh(t,a){if(typeof a=="function"){t=t();var s=a(t);return function(){typeof s=="function"?s():a(null)}}if(a!=null)return t=t(),a.current=t,function(){a.current=null}}function Eh(t,a,s){s=s!=null?s.concat([t]):null,hl(4,4,yh.bind(null,a,t),s)}function Du(){}function _h(t,a){var s=ut();a=a===void 0?null:a;var u=s.memoizedState;return a!==null&&Tu(a,u[1])?u[0]:(s.memoizedState=[t,a],t)}function Sh(t,a){var s=ut();a=a===void 0?null:a;var u=s.memoizedState;if(a!==null&&Tu(a,u[1]))return u[0];if(u=t(),sa){nn(!0);try{t()}finally{nn(!1)}}return s.memoizedState=[u,a],u}function Uu(t,a,s){return s===void 0||(Fn&1073741824)!==0&&(Re&261930)===0?t.memoizedState=a:(t.memoizedState=s,t=Tp(),Se.lanes|=t,bi|=t,s)}function Th(t,a,s,u){return Yt(s,a)?s:za.current!==null?(t=Uu(t,s,u),Yt(t,a)||(ft=!0),t):(Fn&42)===0||(Fn&1073741824)!==0&&(Re&261930)===0?(ft=!0,t.memoizedState=s):(t=Tp(),Se.lanes|=t,bi|=t,a)}function bh(t,a,s,u,p){var v=$.p;$.p=v!==0&&8>v?v:8;var T=A.T,b={};A.T=b,Ou(t,!1,a,s);try{var w=p(),L=A.S;if(L!==null&&L(b,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var V=cE(w,u);Ko(t,a,V,jt(t))}else Ko(t,a,u,jt(t))}catch(J){Ko(t,a,{then:function(){},status:"rejected",reason:J},jt())}finally{$.p=v,T!==null&&b.types!==null&&(T.types=b.types),A.T=T}}function gE(){}function Lu(t,a,s,u){if(t.tag!==5)throw Error(o(476));var p=xh(t).queue;bh(t,p,a,te,s===null?gE:function(){return Ch(t),s(u)})}function xh(t){var a=t.memoizedState;if(a!==null)return a;a={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$n,lastRenderedState:te},next:null};var s={};return a.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$n,lastRenderedState:s},next:null},t.memoizedState=a,t=t.alternate,t!==null&&(t.memoizedState=a),a}function Ch(t){var a=xh(t);a.next===null&&(a=t.alternate.memoizedState),Ko(t,a.next.queue,{},jt())}function Pu(){return xt(ds)}function wh(){return ut().memoizedState}function Ah(){return ut().memoizedState}function vE(t){for(var a=t.return;a!==null;){switch(a.tag){case 24:case 3:var s=jt();t=vi(s);var u=yi(a,t,s);u!==null&&(Ft(u,a,s),Bo(u,a,s)),a={cache:du()},t.payload=a;return}a=a.return}}function yE(t,a,s){var u=jt();s={lane:u,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},pl(t)?Rh(a,s):(s=eu(t,a,s,u),s!==null&&(Ft(s,t,u),Mh(s,a,u)))}function Nh(t,a,s){var u=jt();Ko(t,a,s,u)}function Ko(t,a,s,u){var p={lane:u,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(pl(t))Rh(a,p);else{var v=t.alternate;if(t.lanes===0&&(v===null||v.lanes===0)&&(v=a.lastRenderedReducer,v!==null))try{var T=a.lastRenderedState,b=v(T,s);if(p.hasEagerState=!0,p.eagerState=b,Yt(b,T))return Ks(t,a,p,0),Qe===null&&Ys(),!1}catch{}finally{}if(s=eu(t,a,p,u),s!==null)return Ft(s,t,u),Mh(s,a,u),!0}return!1}function Ou(t,a,s,u){if(u={lane:2,revertLane:mc(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},pl(t)){if(a)throw Error(o(479))}else a=eu(t,s,u,2),a!==null&&Ft(a,t,2)}function pl(t){var a=t.alternate;return t===Se||a!==null&&a===Se}function Rh(t,a){qa=ll=!0;var s=t.pending;s===null?a.next=a:(a.next=s.next,s.next=a),t.pending=a}function Mh(t,a,s){if((s&4194048)!==0){var u=a.lanes;u&=t.pendingLanes,s|=u,a.lanes=s,Ot(t,s)}}var Xo={readContext:xt,use:cl,useCallback:at,useContext:at,useEffect:at,useImperativeHandle:at,useLayoutEffect:at,useInsertionEffect:at,useMemo:at,useReducer:at,useRef:at,useState:at,useDebugValue:at,useDeferredValue:at,useTransition:at,useSyncExternalStore:at,useId:at,useHostTransitionStatus:at,useFormState:at,useActionState:at,useOptimistic:at,useMemoCache:at,useCacheRefresh:at};Xo.useEffectEvent=at;var Ih={readContext:xt,use:cl,useCallback:function(t,a){return Ut().memoizedState=[t,a===void 0?null:a],t},useContext:xt,useEffect:ph,useImperativeHandle:function(t,a,s){s=s!=null?s.concat([t]):null,fl(4194308,4,yh.bind(null,a,t),s)},useLayoutEffect:function(t,a){return fl(4194308,4,t,a)},useInsertionEffect:function(t,a){fl(4,2,t,a)},useMemo:function(t,a){var s=Ut();a=a===void 0?null:a;var u=t();if(sa){nn(!0);try{t()}finally{nn(!1)}}return s.memoizedState=[u,a],u},useReducer:function(t,a,s){var u=Ut();if(s!==void 0){var p=s(a);if(sa){nn(!0);try{s(a)}finally{nn(!1)}}}else p=a;return u.memoizedState=u.baseState=p,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:p},u.queue=t,t=t.dispatch=yE.bind(null,Se,t),[u.memoizedState,t]},useRef:function(t){var a=Ut();return t={current:t},a.memoizedState=t},useState:function(t){t=Mu(t);var a=t.queue,s=Nh.bind(null,Se,a);return a.dispatch=s,[t.memoizedState,s]},useDebugValue:Du,useDeferredValue:function(t,a){var s=Ut();return Uu(s,t,a)},useTransition:function(){var t=Mu(!1);return t=bh.bind(null,Se,t.queue,!0,!1),Ut().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,a,s){var u=Se,p=Ut();if(ke){if(s===void 0)throw Error(o(407));s=s()}else{if(s=a(),Qe===null)throw Error(o(349));(Re&127)!==0||Wf(u,a,s)}p.memoizedState=s;var v={value:s,getSnapshot:a};return p.queue=v,ph(eh.bind(null,u,v,t),[t]),u.flags|=2048,Ba(9,{destroy:void 0},jf.bind(null,u,v,s,a),null),s},useId:function(){var t=Ut(),a=Qe.identifierPrefix;if(ke){var s=Rn,u=Nn;s=(u&~(1<<32-It(u)-1)).toString(32)+s,a="_"+a+"R_"+s,s=rl++,0<s&&(a+="H"+s.toString(32)),a+="_"}else s=dE++,a="_"+a+"r_"+s.toString(32)+"_";return t.memoizedState=a},useHostTransitionStatus:Pu,useFormState:uh,useActionState:uh,useOptimistic:function(t){var a=Ut();a.memoizedState=a.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=s,a=Ou.bind(null,Se,!0,s),s.dispatch=a,[t,a]},useMemoCache:Au,useCacheRefresh:function(){return Ut().memoizedState=vE.bind(null,Se)},useEffectEvent:function(t){var a=Ut(),s={impl:t};return a.memoizedState=s,function(){if((qe&2)!==0)throw Error(o(440));return s.impl.apply(void 0,arguments)}}},Gu={readContext:xt,use:cl,useCallback:_h,useContext:xt,useEffect:ku,useImperativeHandle:Eh,useInsertionEffect:gh,useLayoutEffect:vh,useMemo:Sh,useReducer:dl,useRef:hh,useState:function(){return dl($n)},useDebugValue:Du,useDeferredValue:function(t,a){var s=ut();return Th(s,Je.memoizedState,t,a)},useTransition:function(){var t=dl($n)[0],a=ut().memoizedState;return[typeof t=="boolean"?t:Yo(t),a]},useSyncExternalStore:Zf,useId:wh,useHostTransitionStatus:Pu,useFormState:ch,useActionState:ch,useOptimistic:function(t,a){var s=ut();return ih(s,Je,t,a)},useMemoCache:Au,useCacheRefresh:Ah};Gu.useEffectEvent=mh;var kh={readContext:xt,use:cl,useCallback:_h,useContext:xt,useEffect:ku,useImperativeHandle:Eh,useInsertionEffect:gh,useLayoutEffect:vh,useMemo:Sh,useReducer:Ru,useRef:hh,useState:function(){return Ru($n)},useDebugValue:Du,useDeferredValue:function(t,a){var s=ut();return Je===null?Uu(s,t,a):Th(s,Je.memoizedState,t,a)},useTransition:function(){var t=Ru($n)[0],a=ut().memoizedState;return[typeof t=="boolean"?t:Yo(t),a]},useSyncExternalStore:Zf,useId:wh,useHostTransitionStatus:Pu,useFormState:fh,useActionState:fh,useOptimistic:function(t,a){var s=ut();return Je!==null?ih(s,Je,t,a):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Au,useCacheRefresh:Ah};kh.useEffectEvent=mh;function Hu(t,a,s,u){a=t.memoizedState,s=s(u,a),s=s==null?a:_({},a,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var zu={enqueueSetState:function(t,a,s){t=t._reactInternals;var u=jt(),p=vi(u);p.payload=a,s!=null&&(p.callback=s),a=yi(t,p,u),a!==null&&(Ft(a,t,u),Bo(a,t,u))},enqueueReplaceState:function(t,a,s){t=t._reactInternals;var u=jt(),p=vi(u);p.tag=1,p.payload=a,s!=null&&(p.callback=s),a=yi(t,p,u),a!==null&&(Ft(a,t,u),Bo(a,t,u))},enqueueForceUpdate:function(t,a){t=t._reactInternals;var s=jt(),u=vi(s);u.tag=2,a!=null&&(u.callback=a),a=yi(t,u,s),a!==null&&(Ft(a,t,s),Bo(a,t,s))}};function Dh(t,a,s,u,p,v,T){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,v,T):a.prototype&&a.prototype.isPureReactComponent?!Lo(s,u)||!Lo(p,v):!0}function Uh(t,a,s,u){t=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(s,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(s,u),a.state!==t&&zu.enqueueReplaceState(a,a.state,null)}function la(t,a){var s=a;if("ref"in a){s={};for(var u in a)u!=="ref"&&(s[u]=a[u])}if(t=t.defaultProps){s===a&&(s=_({},s));for(var p in t)s[p]===void 0&&(s[p]=t[p])}return s}function Lh(t){Js(t)}function Ph(t){console.error(t)}function Oh(t){Js(t)}function ml(t,a){try{var s=t.onUncaughtError;s(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function Gh(t,a,s){try{var u=t.onCaughtError;u(s.value,{componentStack:s.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function qu(t,a,s){return s=vi(s),s.tag=3,s.payload={element:null},s.callback=function(){ml(t,a)},s}function Hh(t){return t=vi(t),t.tag=3,t}function zh(t,a,s,u){var p=s.type.getDerivedStateFromError;if(typeof p=="function"){var v=u.value;t.payload=function(){return p(v)},t.callback=function(){Gh(a,s,u)}}var T=s.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(t.callback=function(){Gh(a,s,u),typeof p!="function"&&(xi===null?xi=new Set([this]):xi.add(this));var b=u.stack;this.componentDidCatch(u.value,{componentStack:b!==null?b:""})})}function EE(t,a,s,u,p){if(s.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=s.alternate,a!==null&&La(a,s,p,!0),s=Xt.current,s!==null){switch(s.tag){case 31:case 13:return hn===null?Al():s.alternate===null&&ot===0&&(ot=3),s.flags&=-257,s.flags|=65536,s.lanes=p,u===nl?s.flags|=16384:(a=s.updateQueue,a===null?s.updateQueue=new Set([u]):a.add(u),fc(t,u,p)),!1;case 22:return s.flags|=65536,u===nl?s.flags|=16384:(a=s.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},s.updateQueue=a):(s=a.retryQueue,s===null?a.retryQueue=new Set([u]):s.add(u)),fc(t,u,p)),!1}throw Error(o(435,s.tag))}return fc(t,u,p),Al(),!1}if(ke)return a=Xt.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=p,u!==su&&(t=Error(o(422),{cause:u}),Go(un(t,s)))):(u!==su&&(a=Error(o(423),{cause:u}),Go(un(a,s))),t=t.current.alternate,t.flags|=65536,p&=-p,t.lanes|=p,u=un(u,s),p=qu(t.stateNode,u,p),vu(t,p),ot!==4&&(ot=2)),!1;var v=Error(o(520),{cause:u});if(v=un(v,s),is===null?is=[v]:is.push(v),ot!==4&&(ot=2),a===null)return!0;u=un(u,s),s=a;do{switch(s.tag){case 3:return s.flags|=65536,t=p&-p,s.lanes|=t,t=qu(s.stateNode,u,t),vu(s,t),!1;case 1:if(a=s.type,v=s.stateNode,(s.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(xi===null||!xi.has(v))))return s.flags|=65536,p&=-p,s.lanes|=p,p=Hh(p),zh(p,t,s,u),vu(s,p),!1}s=s.return}while(s!==null);return!1}var Vu=Error(o(461)),ft=!1;function Ct(t,a,s,u){a.child=t===null?Ff(a,null,s,u):oa(a,t.child,s,u)}function qh(t,a,s,u,p){s=s.render;var v=a.ref;if("ref"in u){var T={};for(var b in u)b!=="ref"&&(T[b]=u[b])}else T=u;return ta(a),u=bu(t,a,s,T,v,p),b=xu(),t!==null&&!ft?(Cu(t,a,p),Jn(t,a,p)):(ke&&b&&au(a),a.flags|=1,Ct(t,a,u,p),a.child)}function Vh(t,a,s,u,p){if(t===null){var v=s.type;return typeof v=="function"&&!tu(v)&&v.defaultProps===void 0&&s.compare===null?(a.tag=15,a.type=v,Bh(t,a,v,u,p)):(t=Qs(s.type,null,u,a,a.mode,p),t.ref=a.ref,t.return=a,a.child=t)}if(v=t.child,!Qu(t,p)){var T=v.memoizedProps;if(s=s.compare,s=s!==null?s:Lo,s(T,u)&&t.ref===a.ref)return Jn(t,a,p)}return a.flags|=1,t=zn(v,u),t.ref=a.ref,t.return=a,a.child=t}function Bh(t,a,s,u,p){if(t!==null){var v=t.memoizedProps;if(Lo(v,u)&&t.ref===a.ref)if(ft=!1,a.pendingProps=u=v,Qu(t,p))(t.flags&131072)!==0&&(ft=!0);else return a.lanes=t.lanes,Jn(t,a,p)}return Bu(t,a,s,u,p)}function Fh(t,a,s,u){var p=u.children,v=t!==null?t.memoizedState:null;if(t===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((a.flags&128)!==0){if(v=v!==null?v.baseLanes|s:s,t!==null){for(u=a.child=t.child,p=0;u!==null;)p=p|u.lanes|u.childLanes,u=u.sibling;u=p&~v}else u=0,a.child=null;return $h(t,a,v,s,u)}if((s&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},t!==null&&el(a,v!==null?v.cachePool:null),v!==null?Yf(a,v):Eu(),Kf(a);else return u=a.lanes=536870912,$h(t,a,v!==null?v.baseLanes|s:s,s,u)}else v!==null?(el(a,v.cachePool),Yf(a,v),_i(),a.memoizedState=null):(t!==null&&el(a,null),Eu(),_i());return Ct(t,a,p,s),a.child}function Qo(t,a){return t!==null&&t.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function $h(t,a,s,u,p){var v=hu();return v=v===null?null:{parent:ct._currentValue,pool:v},a.memoizedState={baseLanes:s,cachePool:v},t!==null&&el(a,null),Eu(),Kf(a),t!==null&&La(t,a,u,!0),a.childLanes=p,null}function gl(t,a){return a=yl({mode:a.mode,children:a.children},t.mode),a.ref=t.ref,t.child=a,a.return=t,a}function Jh(t,a,s){return oa(a,t.child,null,s),t=gl(a,a.pendingProps),t.flags|=2,Qt(a),a.memoizedState=null,t}function _E(t,a,s){var u=a.pendingProps,p=(a.flags&128)!==0;if(a.flags&=-129,t===null){if(ke){if(u.mode==="hidden")return t=gl(a,u),a.lanes=536870912,Qo(null,t);if(Su(a),(t=je)?(t=am(t,fn),t=t!==null&&t.data==="&"?t:null,t!==null&&(a.memoizedState={dehydrated:t,treeContext:fi!==null?{id:Nn,overflow:Rn}:null,retryLane:536870912,hydrationErrors:null},s=Rf(t),s.return=a,a.child=s,bt=a,je=null)):t=null,t===null)throw pi(a);return a.lanes=536870912,null}return gl(a,u)}var v=t.memoizedState;if(v!==null){var T=v.dehydrated;if(Su(a),p)if(a.flags&256)a.flags&=-257,a=Jh(t,a,s);else if(a.memoizedState!==null)a.child=t.child,a.flags|=128,a=null;else throw Error(o(558));else if(ft||La(t,a,s,!1),p=(s&t.childLanes)!==0,ft||p){if(u=Qe,u!==null&&(T=ci(u,s),T!==0&&T!==v.retryLane))throw v.retryLane=T,Zi(t,T),Ft(u,t,T),Vu;Al(),a=Jh(t,a,s)}else t=v.treeContext,je=pn(T.nextSibling),bt=a,ke=!0,hi=null,fn=!1,t!==null&&kf(a,t),a=gl(a,u),a.flags|=4096;return a}return t=zn(t.child,{mode:u.mode,children:u.children}),t.ref=a.ref,a.child=t,t.return=a,t}function vl(t,a){var s=a.ref;if(s===null)t!==null&&t.ref!==null&&(a.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(o(284));(t===null||t.ref!==s)&&(a.flags|=4194816)}}function Bu(t,a,s,u,p){return ta(a),s=bu(t,a,s,u,void 0,p),u=xu(),t!==null&&!ft?(Cu(t,a,p),Jn(t,a,p)):(ke&&u&&au(a),a.flags|=1,Ct(t,a,s,p),a.child)}function Yh(t,a,s,u,p,v){return ta(a),a.updateQueue=null,s=Qf(a,u,s,p),Xf(t),u=xu(),t!==null&&!ft?(Cu(t,a,v),Jn(t,a,v)):(ke&&u&&au(a),a.flags|=1,Ct(t,a,s,v),a.child)}function Kh(t,a,s,u,p){if(ta(a),a.stateNode===null){var v=Ia,T=s.contextType;typeof T=="object"&&T!==null&&(v=xt(T)),v=new s(u,v),a.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=zu,a.stateNode=v,v._reactInternals=a,v=a.stateNode,v.props=u,v.state=a.memoizedState,v.refs={},mu(a),T=s.contextType,v.context=typeof T=="object"&&T!==null?xt(T):Ia,v.state=a.memoizedState,T=s.getDerivedStateFromProps,typeof T=="function"&&(Hu(a,s,T,u),v.state=a.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(T=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),T!==v.state&&zu.enqueueReplaceState(v,v.state,null),$o(a,u,v,p),Fo(),v.state=a.memoizedState),typeof v.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(t===null){v=a.stateNode;var b=a.memoizedProps,w=la(s,b);v.props=w;var L=v.context,V=s.contextType;T=Ia,typeof V=="object"&&V!==null&&(T=xt(V));var J=s.getDerivedStateFromProps;V=typeof J=="function"||typeof v.getSnapshotBeforeUpdate=="function",b=a.pendingProps!==b,V||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(b||L!==T)&&Uh(a,v,u,T),gi=!1;var O=a.memoizedState;v.state=O,$o(a,u,v,p),Fo(),L=a.memoizedState,b||O!==L||gi?(typeof J=="function"&&(Hu(a,s,J,u),L=a.memoizedState),(w=gi||Dh(a,s,w,u,O,L,T))?(V||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(a.flags|=4194308)):(typeof v.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=L),v.props=u,v.state=L,v.context=T,u=w):(typeof v.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{v=a.stateNode,gu(t,a),T=a.memoizedProps,V=la(s,T),v.props=V,J=a.pendingProps,O=v.context,L=s.contextType,w=Ia,typeof L=="object"&&L!==null&&(w=xt(L)),b=s.getDerivedStateFromProps,(L=typeof b=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(T!==J||O!==w)&&Uh(a,v,u,w),gi=!1,O=a.memoizedState,v.state=O,$o(a,u,v,p),Fo();var G=a.memoizedState;T!==J||O!==G||gi||t!==null&&t.dependencies!==null&&Ws(t.dependencies)?(typeof b=="function"&&(Hu(a,s,b,u),G=a.memoizedState),(V=gi||Dh(a,s,V,u,O,G,w)||t!==null&&t.dependencies!==null&&Ws(t.dependencies))?(L||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(u,G,w),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(u,G,w)),typeof v.componentDidUpdate=="function"&&(a.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof v.componentDidUpdate!="function"||T===t.memoizedProps&&O===t.memoizedState||(a.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&O===t.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=G),v.props=u,v.state=G,v.context=w,u=V):(typeof v.componentDidUpdate!="function"||T===t.memoizedProps&&O===t.memoizedState||(a.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&O===t.memoizedState||(a.flags|=1024),u=!1)}return v=u,vl(t,a),u=(a.flags&128)!==0,v||u?(v=a.stateNode,s=u&&typeof s.getDerivedStateFromError!="function"?null:v.render(),a.flags|=1,t!==null&&u?(a.child=oa(a,t.child,null,p),a.child=oa(a,null,s,p)):Ct(t,a,s,p),a.memoizedState=v.state,t=a.child):t=Jn(t,a,p),t}function Xh(t,a,s,u){return ji(),a.flags|=256,Ct(t,a,s,u),a.child}var Fu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $u(t){return{baseLanes:t,cachePool:Gf()}}function Ju(t,a,s){return t=t!==null?t.childLanes&~s:0,a&&(t|=Wt),t}function Qh(t,a,s){var u=a.pendingProps,p=!1,v=(a.flags&128)!==0,T;if((T=v)||(T=t!==null&&t.memoizedState===null?!1:(rt.current&2)!==0),T&&(p=!0,a.flags&=-129),T=(a.flags&32)!==0,a.flags&=-33,t===null){if(ke){if(p?Ei(a):_i(),(t=je)?(t=am(t,fn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(a.memoizedState={dehydrated:t,treeContext:fi!==null?{id:Nn,overflow:Rn}:null,retryLane:536870912,hydrationErrors:null},s=Rf(t),s.return=a,a.child=s,bt=a,je=null)):t=null,t===null)throw pi(a);return Nc(t)?a.lanes=32:a.lanes=536870912,null}var b=u.children;return u=u.fallback,p?(_i(),p=a.mode,b=yl({mode:"hidden",children:b},p),u=Wi(u,p,s,null),b.return=a,u.return=a,b.sibling=u,a.child=b,u=a.child,u.memoizedState=$u(s),u.childLanes=Ju(t,T,s),a.memoizedState=Fu,Qo(null,u)):(Ei(a),Yu(a,b))}var w=t.memoizedState;if(w!==null&&(b=w.dehydrated,b!==null)){if(v)a.flags&256?(Ei(a),a.flags&=-257,a=Ku(t,a,s)):a.memoizedState!==null?(_i(),a.child=t.child,a.flags|=128,a=null):(_i(),b=u.fallback,p=a.mode,u=yl({mode:"visible",children:u.children},p),b=Wi(b,p,s,null),b.flags|=2,u.return=a,b.return=a,u.sibling=b,a.child=u,oa(a,t.child,null,s),u=a.child,u.memoizedState=$u(s),u.childLanes=Ju(t,T,s),a.memoizedState=Fu,a=Qo(null,u));else if(Ei(a),Nc(b)){if(T=b.nextSibling&&b.nextSibling.dataset,T)var L=T.dgst;T=L,u=Error(o(419)),u.stack="",u.digest=T,Go({value:u,source:null,stack:null}),a=Ku(t,a,s)}else if(ft||La(t,a,s,!1),T=(s&t.childLanes)!==0,ft||T){if(T=Qe,T!==null&&(u=ci(T,s),u!==0&&u!==w.retryLane))throw w.retryLane=u,Zi(t,u),Ft(T,t,u),Vu;Ac(b)||Al(),a=Ku(t,a,s)}else Ac(b)?(a.flags|=192,a.child=t.child,a=null):(t=w.treeContext,je=pn(b.nextSibling),bt=a,ke=!0,hi=null,fn=!1,t!==null&&kf(a,t),a=Yu(a,u.children),a.flags|=4096);return a}return p?(_i(),b=u.fallback,p=a.mode,w=t.child,L=w.sibling,u=zn(w,{mode:"hidden",children:u.children}),u.subtreeFlags=w.subtreeFlags&65011712,L!==null?b=zn(L,b):(b=Wi(b,p,s,null),b.flags|=2),b.return=a,u.return=a,u.sibling=b,a.child=u,Qo(null,u),u=a.child,b=t.child.memoizedState,b===null?b=$u(s):(p=b.cachePool,p!==null?(w=ct._currentValue,p=p.parent!==w?{parent:w,pool:w}:p):p=Gf(),b={baseLanes:b.baseLanes|s,cachePool:p}),u.memoizedState=b,u.childLanes=Ju(t,T,s),a.memoizedState=Fu,Qo(t.child,u)):(Ei(a),s=t.child,t=s.sibling,s=zn(s,{mode:"visible",children:u.children}),s.return=a,s.sibling=null,t!==null&&(T=a.deletions,T===null?(a.deletions=[t],a.flags|=16):T.push(t)),a.child=s,a.memoizedState=null,s)}function Yu(t,a){return a=yl({mode:"visible",children:a},t.mode),a.return=t,t.child=a}function yl(t,a){return t=Kt(22,t,null,a),t.lanes=0,t}function Ku(t,a,s){return oa(a,t.child,null,s),t=Yu(a,a.pendingProps.children),t.flags|=2,a.memoizedState=null,t}function Zh(t,a,s){t.lanes|=a;var u=t.alternate;u!==null&&(u.lanes|=a),uu(t.return,a,s)}function Xu(t,a,s,u,p,v){var T=t.memoizedState;T===null?t.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:s,tailMode:p,treeForkCount:v}:(T.isBackwards=a,T.rendering=null,T.renderingStartTime=0,T.last=u,T.tail=s,T.tailMode=p,T.treeForkCount=v)}function Wh(t,a,s){var u=a.pendingProps,p=u.revealOrder,v=u.tail;u=u.children;var T=rt.current,b=(T&2)!==0;if(b?(T=T&1|2,a.flags|=128):T&=1,ie(rt,T),Ct(t,a,u,s),u=ke?Oo:0,!b&&t!==null&&(t.flags&128)!==0)e:for(t=a.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Zh(t,s,a);else if(t.tag===19)Zh(t,s,a);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===a)break e;for(;t.sibling===null;){if(t.return===null||t.return===a)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(p){case"forwards":for(s=a.child,p=null;s!==null;)t=s.alternate,t!==null&&sl(t)===null&&(p=s),s=s.sibling;s=p,s===null?(p=a.child,a.child=null):(p=s.sibling,s.sibling=null),Xu(a,!1,p,s,v,u);break;case"backwards":case"unstable_legacy-backwards":for(s=null,p=a.child,a.child=null;p!==null;){if(t=p.alternate,t!==null&&sl(t)===null){a.child=p;break}t=p.sibling,p.sibling=s,s=p,p=t}Xu(a,!0,s,null,v,u);break;case"together":Xu(a,!1,null,null,void 0,u);break;default:a.memoizedState=null}return a.child}function Jn(t,a,s){if(t!==null&&(a.dependencies=t.dependencies),bi|=a.lanes,(s&a.childLanes)===0)if(t!==null){if(La(t,a,s,!1),(s&a.childLanes)===0)return null}else return null;if(t!==null&&a.child!==t.child)throw Error(o(153));if(a.child!==null){for(t=a.child,s=zn(t,t.pendingProps),a.child=s,s.return=a;t.sibling!==null;)t=t.sibling,s=s.sibling=zn(t,t.pendingProps),s.return=a;s.sibling=null}return a.child}function Qu(t,a){return(t.lanes&a)!==0?!0:(t=t.dependencies,!!(t!==null&&Ws(t)))}function SE(t,a,s){switch(a.tag){case 3:lt(a,a.stateNode.containerInfo),mi(a,ct,t.memoizedState.cache),ji();break;case 27:case 5:oi(a);break;case 4:lt(a,a.stateNode.containerInfo);break;case 10:mi(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,Su(a),null;break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(Ei(a),a.flags|=128,null):(s&a.child.childLanes)!==0?Qh(t,a,s):(Ei(a),t=Jn(t,a,s),t!==null?t.sibling:null);Ei(a);break;case 19:var p=(t.flags&128)!==0;if(u=(s&a.childLanes)!==0,u||(La(t,a,s,!1),u=(s&a.childLanes)!==0),p){if(u)return Wh(t,a,s);a.flags|=128}if(p=a.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),ie(rt,rt.current),u)break;return null;case 22:return a.lanes=0,Fh(t,a,s,a.pendingProps);case 24:mi(a,ct,t.memoizedState.cache)}return Jn(t,a,s)}function jh(t,a,s){if(t!==null)if(t.memoizedProps!==a.pendingProps)ft=!0;else{if(!Qu(t,s)&&(a.flags&128)===0)return ft=!1,SE(t,a,s);ft=(t.flags&131072)!==0}else ft=!1,ke&&(a.flags&1048576)!==0&&If(a,Oo,a.index);switch(a.lanes=0,a.tag){case 16:e:{var u=a.pendingProps;if(t=ia(a.elementType),a.type=t,typeof t=="function")tu(t)?(u=la(t,u),a.tag=1,a=Kh(null,a,t,u,s)):(a.tag=0,a=Bu(null,a,t,u,s));else{if(t!=null){var p=t.$$typeof;if(p===K){a.tag=11,a=qh(null,a,t,u,s);break e}else if(p===W){a.tag=14,a=Vh(null,a,t,u,s);break e}}throw a=Be(t)||t,Error(o(306,a,""))}}return a;case 0:return Bu(t,a,a.type,a.pendingProps,s);case 1:return u=a.type,p=la(u,a.pendingProps),Kh(t,a,u,p,s);case 3:e:{if(lt(a,a.stateNode.containerInfo),t===null)throw Error(o(387));u=a.pendingProps;var v=a.memoizedState;p=v.element,gu(t,a),$o(a,u,null,s);var T=a.memoizedState;if(u=T.cache,mi(a,ct,u),u!==v.cache&&cu(a,[ct],s,!0),Fo(),u=T.element,v.isDehydrated)if(v={element:u,isDehydrated:!1,cache:T.cache},a.updateQueue.baseState=v,a.memoizedState=v,a.flags&256){a=Xh(t,a,u,s);break e}else if(u!==p){p=un(Error(o(424)),a),Go(p),a=Xh(t,a,u,s);break e}else{switch(t=a.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(je=pn(t.firstChild),bt=a,ke=!0,hi=null,fn=!0,s=Ff(a,null,u,s),a.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(ji(),u===p){a=Jn(t,a,s);break e}Ct(t,a,u,s)}a=a.child}return a;case 26:return vl(t,a),t===null?(s=cm(a.type,null,a.pendingProps,null))?a.memoizedState=s:ke||(s=a.type,t=a.pendingProps,u=Ul(xe.current).createElement(s),u[P]=a,u[X]=t,wt(u,s,t),Le(u),a.stateNode=u):a.memoizedState=cm(a.type,t.memoizedProps,a.pendingProps,t.memoizedState),null;case 27:return oi(a),t===null&&ke&&(u=a.stateNode=lm(a.type,a.pendingProps,xe.current),bt=a,fn=!0,p=je,Ni(a.type)?(Rc=p,je=pn(u.firstChild)):je=p),Ct(t,a,a.pendingProps.children,s),vl(t,a),t===null&&(a.flags|=4194304),a.child;case 5:return t===null&&ke&&((p=u=je)&&(u=ZE(u,a.type,a.pendingProps,fn),u!==null?(a.stateNode=u,bt=a,je=pn(u.firstChild),fn=!1,p=!0):p=!1),p||pi(a)),oi(a),p=a.type,v=a.pendingProps,T=t!==null?t.memoizedProps:null,u=v.children,xc(p,v)?u=null:T!==null&&xc(p,T)&&(a.flags|=32),a.memoizedState!==null&&(p=bu(t,a,fE,null,null,s),ds._currentValue=p),vl(t,a),Ct(t,a,u,s),a.child;case 6:return t===null&&ke&&((t=s=je)&&(s=WE(s,a.pendingProps,fn),s!==null?(a.stateNode=s,bt=a,je=null,t=!0):t=!1),t||pi(a)),null;case 13:return Qh(t,a,s);case 4:return lt(a,a.stateNode.containerInfo),u=a.pendingProps,t===null?a.child=oa(a,null,u,s):Ct(t,a,u,s),a.child;case 11:return qh(t,a,a.type,a.pendingProps,s);case 7:return Ct(t,a,a.pendingProps,s),a.child;case 8:return Ct(t,a,a.pendingProps.children,s),a.child;case 12:return Ct(t,a,a.pendingProps.children,s),a.child;case 10:return u=a.pendingProps,mi(a,a.type,u.value),Ct(t,a,u.children,s),a.child;case 9:return p=a.type._context,u=a.pendingProps.children,ta(a),p=xt(p),u=u(p),a.flags|=1,Ct(t,a,u,s),a.child;case 14:return Vh(t,a,a.type,a.pendingProps,s);case 15:return Bh(t,a,a.type,a.pendingProps,s);case 19:return Wh(t,a,s);case 31:return _E(t,a,s);case 22:return Fh(t,a,s,a.pendingProps);case 24:return ta(a),u=xt(ct),t===null?(p=hu(),p===null&&(p=Qe,v=du(),p.pooledCache=v,v.refCount++,v!==null&&(p.pooledCacheLanes|=s),p=v),a.memoizedState={parent:u,cache:p},mu(a),mi(a,ct,p)):((t.lanes&s)!==0&&(gu(t,a),$o(a,null,null,s),Fo()),p=t.memoizedState,v=a.memoizedState,p.parent!==u?(p={parent:u,cache:u},a.memoizedState=p,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=p),mi(a,ct,u)):(u=v.cache,mi(a,ct,u),u!==p.cache&&cu(a,[ct],s,!0))),Ct(t,a,a.pendingProps.children,s),a.child;case 29:throw a.pendingProps}throw Error(o(156,a.tag))}function Yn(t){t.flags|=4}function Zu(t,a,s,u,p){if((a=(t.mode&32)!==0)&&(a=!1),a){if(t.flags|=16777216,(p&335544128)===p)if(t.stateNode.complete)t.flags|=8192;else if(wp())t.flags|=8192;else throw aa=nl,pu}else t.flags&=-16777217}function ep(t,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!mm(a))if(wp())t.flags|=8192;else throw aa=nl,pu}function El(t,a){a!==null&&(t.flags|=4),t.flags&16384&&(a=t.tag!==22?Ls():536870912,t.lanes|=a,Ya|=a)}function Zo(t,a){if(!ke)switch(t.tailMode){case"hidden":a=t.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?a||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function et(t){var a=t.alternate!==null&&t.alternate.child===t.child,s=0,u=0;if(a)for(var p=t.child;p!==null;)s|=p.lanes|p.childLanes,u|=p.subtreeFlags&65011712,u|=p.flags&65011712,p.return=t,p=p.sibling;else for(p=t.child;p!==null;)s|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=t,p=p.sibling;return t.subtreeFlags|=u,t.childLanes=s,a}function TE(t,a,s){var u=a.pendingProps;switch(ou(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return et(a),null;case 1:return et(a),null;case 3:return s=a.stateNode,u=null,t!==null&&(u=t.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),Bn(ct),it(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(Ua(a)?Yn(a):t===null||t.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,lu())),et(a),null;case 26:var p=a.type,v=a.memoizedState;return t===null?(Yn(a),v!==null?(et(a),ep(a,v)):(et(a),Zu(a,p,null,u,s))):v?v!==t.memoizedState?(Yn(a),et(a),ep(a,v)):(et(a),a.flags&=-16777217):(t=t.memoizedProps,t!==u&&Yn(a),et(a),Zu(a,p,t,u,s)),null;case 27:if(va(a),s=xe.current,p=a.type,t!==null&&a.stateNode!=null)t.memoizedProps!==u&&Yn(a);else{if(!u){if(a.stateNode===null)throw Error(o(166));return et(a),null}t=oe.current,Ua(a)?Df(a):(t=lm(p,u,s),a.stateNode=t,Yn(a))}return et(a),null;case 5:if(va(a),p=a.type,t!==null&&a.stateNode!=null)t.memoizedProps!==u&&Yn(a);else{if(!u){if(a.stateNode===null)throw Error(o(166));return et(a),null}if(v=oe.current,Ua(a))Df(a);else{var T=Ul(xe.current);switch(v){case 1:v=T.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:v=T.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":v=T.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":v=T.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":v=T.createElement("div"),v.innerHTML="<script><\/script>",v=v.removeChild(v.firstChild);break;case"select":v=typeof u.is=="string"?T.createElement("select",{is:u.is}):T.createElement("select"),u.multiple?v.multiple=!0:u.size&&(v.size=u.size);break;default:v=typeof u.is=="string"?T.createElement(p,{is:u.is}):T.createElement(p)}}v[P]=a,v[X]=u;e:for(T=a.child;T!==null;){if(T.tag===5||T.tag===6)v.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===a)break e;for(;T.sibling===null;){if(T.return===null||T.return===a)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}a.stateNode=v;e:switch(wt(v,p,u),p){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Yn(a)}}return et(a),Zu(a,a.type,t===null?null:t.memoizedProps,a.pendingProps,s),null;case 6:if(t&&a.stateNode!=null)t.memoizedProps!==u&&Yn(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(o(166));if(t=xe.current,Ua(a)){if(t=a.stateNode,s=a.memoizedProps,u=null,p=bt,p!==null)switch(p.tag){case 27:case 5:u=p.memoizedProps}t[P]=a,t=!!(t.nodeValue===s||u!==null&&u.suppressHydrationWarning===!0||Qp(t.nodeValue,s)),t||pi(a,!0)}else t=Ul(t).createTextNode(u),t[P]=a,a.stateNode=t}return et(a),null;case 31:if(s=a.memoizedState,t===null||t.memoizedState!==null){if(u=Ua(a),s!==null){if(t===null){if(!u)throw Error(o(318));if(t=a.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(557));t[P]=a}else ji(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;et(a),t=!1}else s=lu(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return a.flags&256?(Qt(a),a):(Qt(a),null);if((a.flags&128)!==0)throw Error(o(558))}return et(a),null;case 13:if(u=a.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(p=Ua(a),u!==null&&u.dehydrated!==null){if(t===null){if(!p)throw Error(o(318));if(p=a.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(o(317));p[P]=a}else ji(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;et(a),p=!1}else p=lu(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=p),p=!0;if(!p)return a.flags&256?(Qt(a),a):(Qt(a),null)}return Qt(a),(a.flags&128)!==0?(a.lanes=s,a):(s=u!==null,t=t!==null&&t.memoizedState!==null,s&&(u=a.child,p=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(p=u.alternate.memoizedState.cachePool.pool),v=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(v=u.memoizedState.cachePool.pool),v!==p&&(u.flags|=2048)),s!==t&&s&&(a.child.flags|=8192),El(a,a.updateQueue),et(a),null);case 4:return it(),t===null&&Ec(a.stateNode.containerInfo),et(a),null;case 10:return Bn(a.type),et(a),null;case 19:if(B(rt),u=a.memoizedState,u===null)return et(a),null;if(p=(a.flags&128)!==0,v=u.rendering,v===null)if(p)Zo(u,!1);else{if(ot!==0||t!==null&&(t.flags&128)!==0)for(t=a.child;t!==null;){if(v=sl(t),v!==null){for(a.flags|=128,Zo(u,!1),t=v.updateQueue,a.updateQueue=t,El(a,t),a.subtreeFlags=0,t=s,s=a.child;s!==null;)Nf(s,t),s=s.sibling;return ie(rt,rt.current&1|2),ke&&qn(a,u.treeForkCount),a.child}t=t.sibling}u.tail!==null&&mt()>xl&&(a.flags|=128,p=!0,Zo(u,!1),a.lanes=4194304)}else{if(!p)if(t=sl(v),t!==null){if(a.flags|=128,p=!0,t=t.updateQueue,a.updateQueue=t,El(a,t),Zo(u,!0),u.tail===null&&u.tailMode==="hidden"&&!v.alternate&&!ke)return et(a),null}else 2*mt()-u.renderingStartTime>xl&&s!==536870912&&(a.flags|=128,p=!0,Zo(u,!1),a.lanes=4194304);u.isBackwards?(v.sibling=a.child,a.child=v):(t=u.last,t!==null?t.sibling=v:a.child=v,u.last=v)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=mt(),t.sibling=null,s=rt.current,ie(rt,p?s&1|2:s&1),ke&&qn(a,u.treeForkCount),t):(et(a),null);case 22:case 23:return Qt(a),_u(),u=a.memoizedState!==null,t!==null?t.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(s&536870912)!==0&&(a.flags&128)===0&&(et(a),a.subtreeFlags&6&&(a.flags|=8192)):et(a),s=a.updateQueue,s!==null&&El(a,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==s&&(a.flags|=2048),t!==null&&B(na),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),a.memoizedState.cache!==s&&(a.flags|=2048),Bn(ct),et(a),null;case 25:return null;case 30:return null}throw Error(o(156,a.tag))}function bE(t,a){switch(ou(a),a.tag){case 1:return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 3:return Bn(ct),it(),t=a.flags,(t&65536)!==0&&(t&128)===0?(a.flags=t&-65537|128,a):null;case 26:case 27:case 5:return va(a),null;case 31:if(a.memoizedState!==null){if(Qt(a),a.alternate===null)throw Error(o(340));ji()}return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 13:if(Qt(a),t=a.memoizedState,t!==null&&t.dehydrated!==null){if(a.alternate===null)throw Error(o(340));ji()}return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 19:return B(rt),null;case 4:return it(),null;case 10:return Bn(a.type),null;case 22:case 23:return Qt(a),_u(),t!==null&&B(na),t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 24:return Bn(ct),null;case 25:return null;default:return null}}function tp(t,a){switch(ou(a),a.tag){case 3:Bn(ct),it();break;case 26:case 27:case 5:va(a);break;case 4:it();break;case 31:a.memoizedState!==null&&Qt(a);break;case 13:Qt(a);break;case 19:B(rt);break;case 10:Bn(a.type);break;case 22:case 23:Qt(a),_u(),t!==null&&B(na);break;case 24:Bn(ct)}}function Wo(t,a){try{var s=a.updateQueue,u=s!==null?s.lastEffect:null;if(u!==null){var p=u.next;s=p;do{if((s.tag&t)===t){u=void 0;var v=s.create,T=s.inst;u=v(),T.destroy=u}s=s.next}while(s!==p)}}catch(b){$e(a,a.return,b)}}function Si(t,a,s){try{var u=a.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var v=p.next;u=v;do{if((u.tag&t)===t){var T=u.inst,b=T.destroy;if(b!==void 0){T.destroy=void 0,p=a;var w=s,L=b;try{L()}catch(V){$e(p,w,V)}}}u=u.next}while(u!==v)}}catch(V){$e(a,a.return,V)}}function np(t){var a=t.updateQueue;if(a!==null){var s=t.stateNode;try{Jf(a,s)}catch(u){$e(t,t.return,u)}}}function ip(t,a,s){s.props=la(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(u){$e(t,a,u)}}function jo(t,a){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var u=t.stateNode;break;case 30:u=t.stateNode;break;default:u=t.stateNode}typeof s=="function"?t.refCleanup=s(u):s.current=u}}catch(p){$e(t,a,p)}}function Mn(t,a){var s=t.ref,u=t.refCleanup;if(s!==null)if(typeof u=="function")try{u()}catch(p){$e(t,a,p)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(p){$e(t,a,p)}else s.current=null}function ap(t){var a=t.type,s=t.memoizedProps,u=t.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":s.autoFocus&&u.focus();break e;case"img":s.src?u.src=s.src:s.srcSet&&(u.srcset=s.srcSet)}}catch(p){$e(t,t.return,p)}}function Wu(t,a,s){try{var u=t.stateNode;$E(u,t.type,s,a),u[X]=a}catch(p){$e(t,t.return,p)}}function op(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ni(t.type)||t.tag===4}function ju(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||op(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ni(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ec(t,a,s){var u=t.tag;if(u===5||u===6)t=t.stateNode,a?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,a):(a=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,a.appendChild(t),s=s._reactRootContainer,s!=null||a.onclick!==null||(a.onclick=Gn));else if(u!==4&&(u===27&&Ni(t.type)&&(s=t.stateNode,a=null),t=t.child,t!==null))for(ec(t,a,s),t=t.sibling;t!==null;)ec(t,a,s),t=t.sibling}function _l(t,a,s){var u=t.tag;if(u===5||u===6)t=t.stateNode,a?s.insertBefore(t,a):s.appendChild(t);else if(u!==4&&(u===27&&Ni(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(_l(t,a,s),t=t.sibling;t!==null;)_l(t,a,s),t=t.sibling}function sp(t){var a=t.stateNode,s=t.memoizedProps;try{for(var u=t.type,p=a.attributes;p.length;)a.removeAttributeNode(p[0]);wt(a,u,s),a[P]=t,a[X]=s}catch(v){$e(t,t.return,v)}}var Kn=!1,ht=!1,tc=!1,lp=typeof WeakSet=="function"?WeakSet:Set,vt=null;function xE(t,a){if(t=t.containerInfo,Tc=ql,t=Ef(t),Kr(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var u=s.getSelection&&s.getSelection();if(u&&u.rangeCount!==0){s=u.anchorNode;var p=u.anchorOffset,v=u.focusNode;u=u.focusOffset;try{s.nodeType,v.nodeType}catch{s=null;break e}var T=0,b=-1,w=-1,L=0,V=0,J=t,O=null;t:for(;;){for(var G;J!==s||p!==0&&J.nodeType!==3||(b=T+p),J!==v||u!==0&&J.nodeType!==3||(w=T+u),J.nodeType===3&&(T+=J.nodeValue.length),(G=J.firstChild)!==null;)O=J,J=G;for(;;){if(J===t)break t;if(O===s&&++L===p&&(b=T),O===v&&++V===u&&(w=T),(G=J.nextSibling)!==null)break;J=O,O=J.parentNode}J=G}s=b===-1||w===-1?null:{start:b,end:w}}else s=null}s=s||{start:0,end:0}}else s=null;for(bc={focusedElem:t,selectionRange:s},ql=!1,vt=a;vt!==null;)if(a=vt,t=a.child,(a.subtreeFlags&1028)!==0&&t!==null)t.return=a,vt=t;else for(;vt!==null;){switch(a=vt,v=a.alternate,t=a.flags,a.tag){case 0:if((t&4)!==0&&(t=a.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)p=t[s],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&v!==null){t=void 0,s=a,p=v.memoizedProps,v=v.memoizedState,u=s.stateNode;try{var se=la(s.type,p);t=u.getSnapshotBeforeUpdate(se,v),u.__reactInternalSnapshotBeforeUpdate=t}catch(fe){$e(s,s.return,fe)}}break;case 3:if((t&1024)!==0){if(t=a.stateNode.containerInfo,s=t.nodeType,s===9)wc(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":wc(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(o(163))}if(t=a.sibling,t!==null){t.return=a.return,vt=t;break}vt=a.return}}function rp(t,a,s){var u=s.flags;switch(s.tag){case 0:case 11:case 15:Qn(t,s),u&4&&Wo(5,s);break;case 1:if(Qn(t,s),u&4)if(t=s.stateNode,a===null)try{t.componentDidMount()}catch(T){$e(s,s.return,T)}else{var p=la(s.type,a.memoizedProps);a=a.memoizedState;try{t.componentDidUpdate(p,a,t.__reactInternalSnapshotBeforeUpdate)}catch(T){$e(s,s.return,T)}}u&64&&np(s),u&512&&jo(s,s.return);break;case 3:if(Qn(t,s),u&64&&(t=s.updateQueue,t!==null)){if(a=null,s.child!==null)switch(s.child.tag){case 27:case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}try{Jf(t,a)}catch(T){$e(s,s.return,T)}}break;case 27:a===null&&u&4&&sp(s);case 26:case 5:Qn(t,s),a===null&&u&4&&ap(s),u&512&&jo(s,s.return);break;case 12:Qn(t,s);break;case 31:Qn(t,s),u&4&&dp(t,s);break;case 13:Qn(t,s),u&4&&fp(t,s),u&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=DE.bind(null,s),jE(t,s))));break;case 22:if(u=s.memoizedState!==null||Kn,!u){a=a!==null&&a.memoizedState!==null||ht,p=Kn;var v=ht;Kn=u,(ht=a)&&!v?Zn(t,s,(s.subtreeFlags&8772)!==0):Qn(t,s),Kn=p,ht=v}break;case 30:break;default:Qn(t,s)}}function up(t){var a=t.alternate;a!==null&&(t.alternate=null,up(a)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(a=t.stateNode,a!==null&&Pn(a)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var nt=null,zt=!1;function Xn(t,a,s){for(s=s.child;s!==null;)cp(t,a,s),s=s.sibling}function cp(t,a,s){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount(ui,s)}catch{}switch(s.tag){case 26:ht||Mn(s,a),Xn(t,a,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:ht||Mn(s,a);var u=nt,p=zt;Ni(s.type)&&(nt=s.stateNode,zt=!1),Xn(t,a,s),rs(s.stateNode),nt=u,zt=p;break;case 5:ht||Mn(s,a);case 6:if(u=nt,p=zt,nt=null,Xn(t,a,s),nt=u,zt=p,nt!==null)if(zt)try{(nt.nodeType===9?nt.body:nt.nodeName==="HTML"?nt.ownerDocument.body:nt).removeChild(s.stateNode)}catch(v){$e(s,a,v)}else try{nt.removeChild(s.stateNode)}catch(v){$e(s,a,v)}break;case 18:nt!==null&&(zt?(t=nt,nm(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),to(t)):nm(nt,s.stateNode));break;case 4:u=nt,p=zt,nt=s.stateNode.containerInfo,zt=!0,Xn(t,a,s),nt=u,zt=p;break;case 0:case 11:case 14:case 15:Si(2,s,a),ht||Si(4,s,a),Xn(t,a,s);break;case 1:ht||(Mn(s,a),u=s.stateNode,typeof u.componentWillUnmount=="function"&&ip(s,a,u)),Xn(t,a,s);break;case 21:Xn(t,a,s);break;case 22:ht=(u=ht)||s.memoizedState!==null,Xn(t,a,s),ht=u;break;default:Xn(t,a,s)}}function dp(t,a){if(a.memoizedState===null&&(t=a.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{to(t)}catch(s){$e(a,a.return,s)}}}function fp(t,a){if(a.memoizedState===null&&(t=a.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{to(t)}catch(s){$e(a,a.return,s)}}function CE(t){switch(t.tag){case 31:case 13:case 19:var a=t.stateNode;return a===null&&(a=t.stateNode=new lp),a;case 22:return t=t.stateNode,a=t._retryCache,a===null&&(a=t._retryCache=new lp),a;default:throw Error(o(435,t.tag))}}function Sl(t,a){var s=CE(t);a.forEach(function(u){if(!s.has(u)){s.add(u);var p=UE.bind(null,t,u);u.then(p,p)}})}function qt(t,a){var s=a.deletions;if(s!==null)for(var u=0;u<s.length;u++){var p=s[u],v=t,T=a,b=T;e:for(;b!==null;){switch(b.tag){case 27:if(Ni(b.type)){nt=b.stateNode,zt=!1;break e}break;case 5:nt=b.stateNode,zt=!1;break e;case 3:case 4:nt=b.stateNode.containerInfo,zt=!0;break e}b=b.return}if(nt===null)throw Error(o(160));cp(v,T,p),nt=null,zt=!1,v=p.alternate,v!==null&&(v.return=null),p.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)hp(a,t),a=a.sibling}var Sn=null;function hp(t,a){var s=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:qt(a,t),Vt(t),u&4&&(Si(3,t,t.return),Wo(3,t),Si(5,t,t.return));break;case 1:qt(a,t),Vt(t),u&512&&(ht||s===null||Mn(s,s.return)),u&64&&Kn&&(t=t.updateQueue,t!==null&&(u=t.callbacks,u!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?u:s.concat(u))));break;case 26:var p=Sn;if(qt(a,t),Vt(t),u&512&&(ht||s===null||Mn(s,s.return)),u&4){var v=s!==null?s.memoizedState:null;if(u=t.memoizedState,s===null)if(u===null)if(t.stateNode===null){e:{u=t.type,s=t.memoizedProps,p=p.ownerDocument||p;t:switch(u){case"title":v=p.getElementsByTagName("title")[0],(!v||v[kt]||v[P]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=p.createElement(u),p.head.insertBefore(v,p.querySelector("head > title"))),wt(v,u,s),v[P]=t,Le(v),u=v;break e;case"link":var T=hm("link","href",p).get(u+(s.href||""));if(T){for(var b=0;b<T.length;b++)if(v=T[b],v.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&v.getAttribute("rel")===(s.rel==null?null:s.rel)&&v.getAttribute("title")===(s.title==null?null:s.title)&&v.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){T.splice(b,1);break t}}v=p.createElement(u),wt(v,u,s),p.head.appendChild(v);break;case"meta":if(T=hm("meta","content",p).get(u+(s.content||""))){for(b=0;b<T.length;b++)if(v=T[b],v.getAttribute("content")===(s.content==null?null:""+s.content)&&v.getAttribute("name")===(s.name==null?null:s.name)&&v.getAttribute("property")===(s.property==null?null:s.property)&&v.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&v.getAttribute("charset")===(s.charSet==null?null:s.charSet)){T.splice(b,1);break t}}v=p.createElement(u),wt(v,u,s),p.head.appendChild(v);break;default:throw Error(o(468,u))}v[P]=t,Le(v),u=v}t.stateNode=u}else pm(p,t.type,t.stateNode);else t.stateNode=fm(p,u,t.memoizedProps);else v!==u?(v===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):v.count--,u===null?pm(p,t.type,t.stateNode):fm(p,u,t.memoizedProps)):u===null&&t.stateNode!==null&&Wu(t,t.memoizedProps,s.memoizedProps)}break;case 27:qt(a,t),Vt(t),u&512&&(ht||s===null||Mn(s,s.return)),s!==null&&u&4&&Wu(t,t.memoizedProps,s.memoizedProps);break;case 5:if(qt(a,t),Vt(t),u&512&&(ht||s===null||Mn(s,s.return)),t.flags&32){p=t.stateNode;try{xa(p,"")}catch(se){$e(t,t.return,se)}}u&4&&t.stateNode!=null&&(p=t.memoizedProps,Wu(t,p,s!==null?s.memoizedProps:p)),u&1024&&(tc=!0);break;case 6:if(qt(a,t),Vt(t),u&4){if(t.stateNode===null)throw Error(o(162));u=t.memoizedProps,s=t.stateNode;try{s.nodeValue=u}catch(se){$e(t,t.return,se)}}break;case 3:if(Ol=null,p=Sn,Sn=Ll(a.containerInfo),qt(a,t),Sn=p,Vt(t),u&4&&s!==null&&s.memoizedState.isDehydrated)try{to(a.containerInfo)}catch(se){$e(t,t.return,se)}tc&&(tc=!1,pp(t));break;case 4:u=Sn,Sn=Ll(t.stateNode.containerInfo),qt(a,t),Vt(t),Sn=u;break;case 12:qt(a,t),Vt(t);break;case 31:qt(a,t),Vt(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,Sl(t,u)));break;case 13:qt(a,t),Vt(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(bl=mt()),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,Sl(t,u)));break;case 22:p=t.memoizedState!==null;var w=s!==null&&s.memoizedState!==null,L=Kn,V=ht;if(Kn=L||p,ht=V||w,qt(a,t),ht=V,Kn=L,Vt(t),u&8192)e:for(a=t.stateNode,a._visibility=p?a._visibility&-2:a._visibility|1,p&&(s===null||w||Kn||ht||ra(t)),s=null,a=t;;){if(a.tag===5||a.tag===26){if(s===null){w=s=a;try{if(v=w.stateNode,p)T=v.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{b=w.stateNode;var J=w.memoizedProps.style,O=J!=null&&J.hasOwnProperty("display")?J.display:null;b.style.display=O==null||typeof O=="boolean"?"":(""+O).trim()}}catch(se){$e(w,w.return,se)}}}else if(a.tag===6){if(s===null){w=a;try{w.stateNode.nodeValue=p?"":w.memoizedProps}catch(se){$e(w,w.return,se)}}}else if(a.tag===18){if(s===null){w=a;try{var G=w.stateNode;p?im(G,!0):im(w.stateNode,!1)}catch(se){$e(w,w.return,se)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===t)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;a.sibling===null;){if(a.return===null||a.return===t)break e;s===a&&(s=null),a=a.return}s===a&&(s=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=t.updateQueue,u!==null&&(s=u.retryQueue,s!==null&&(u.retryQueue=null,Sl(t,s))));break;case 19:qt(a,t),Vt(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,Sl(t,u)));break;case 30:break;case 21:break;default:qt(a,t),Vt(t)}}function Vt(t){var a=t.flags;if(a&2){try{for(var s,u=t.return;u!==null;){if(op(u)){s=u;break}u=u.return}if(s==null)throw Error(o(160));switch(s.tag){case 27:var p=s.stateNode,v=ju(t);_l(t,v,p);break;case 5:var T=s.stateNode;s.flags&32&&(xa(T,""),s.flags&=-33);var b=ju(t);_l(t,b,T);break;case 3:case 4:var w=s.stateNode.containerInfo,L=ju(t);ec(t,L,w);break;default:throw Error(o(161))}}catch(V){$e(t,t.return,V)}t.flags&=-3}a&4096&&(t.flags&=-4097)}function pp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var a=t;pp(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),t=t.sibling}}function Qn(t,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)rp(t,a.alternate,a),a=a.sibling}function ra(t){for(t=t.child;t!==null;){var a=t;switch(a.tag){case 0:case 11:case 14:case 15:Si(4,a,a.return),ra(a);break;case 1:Mn(a,a.return);var s=a.stateNode;typeof s.componentWillUnmount=="function"&&ip(a,a.return,s),ra(a);break;case 27:rs(a.stateNode);case 26:case 5:Mn(a,a.return),ra(a);break;case 22:a.memoizedState===null&&ra(a);break;case 30:ra(a);break;default:ra(a)}t=t.sibling}}function Zn(t,a,s){for(s=s&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,p=t,v=a,T=v.flags;switch(v.tag){case 0:case 11:case 15:Zn(p,v,s),Wo(4,v);break;case 1:if(Zn(p,v,s),u=v,p=u.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(L){$e(u,u.return,L)}if(u=v,p=u.updateQueue,p!==null){var b=u.stateNode;try{var w=p.shared.hiddenCallbacks;if(w!==null)for(p.shared.hiddenCallbacks=null,p=0;p<w.length;p++)$f(w[p],b)}catch(L){$e(u,u.return,L)}}s&&T&64&&np(v),jo(v,v.return);break;case 27:sp(v);case 26:case 5:Zn(p,v,s),s&&u===null&&T&4&&ap(v),jo(v,v.return);break;case 12:Zn(p,v,s);break;case 31:Zn(p,v,s),s&&T&4&&dp(p,v);break;case 13:Zn(p,v,s),s&&T&4&&fp(p,v);break;case 22:v.memoizedState===null&&Zn(p,v,s),jo(v,v.return);break;case 30:break;default:Zn(p,v,s)}a=a.sibling}}function nc(t,a){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(t=a.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Ho(s))}function ic(t,a){t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&Ho(t))}function Tn(t,a,s,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)mp(t,a,s,u),a=a.sibling}function mp(t,a,s,u){var p=a.flags;switch(a.tag){case 0:case 11:case 15:Tn(t,a,s,u),p&2048&&Wo(9,a);break;case 1:Tn(t,a,s,u);break;case 3:Tn(t,a,s,u),p&2048&&(t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&Ho(t)));break;case 12:if(p&2048){Tn(t,a,s,u),t=a.stateNode;try{var v=a.memoizedProps,T=v.id,b=v.onPostCommit;typeof b=="function"&&b(T,a.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(w){$e(a,a.return,w)}}else Tn(t,a,s,u);break;case 31:Tn(t,a,s,u);break;case 13:Tn(t,a,s,u);break;case 23:break;case 22:v=a.stateNode,T=a.alternate,a.memoizedState!==null?v._visibility&2?Tn(t,a,s,u):es(t,a):v._visibility&2?Tn(t,a,s,u):(v._visibility|=2,Fa(t,a,s,u,(a.subtreeFlags&10256)!==0||!1)),p&2048&&nc(T,a);break;case 24:Tn(t,a,s,u),p&2048&&ic(a.alternate,a);break;default:Tn(t,a,s,u)}}function Fa(t,a,s,u,p){for(p=p&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var v=t,T=a,b=s,w=u,L=T.flags;switch(T.tag){case 0:case 11:case 15:Fa(v,T,b,w,p),Wo(8,T);break;case 23:break;case 22:var V=T.stateNode;T.memoizedState!==null?V._visibility&2?Fa(v,T,b,w,p):es(v,T):(V._visibility|=2,Fa(v,T,b,w,p)),p&&L&2048&&nc(T.alternate,T);break;case 24:Fa(v,T,b,w,p),p&&L&2048&&ic(T.alternate,T);break;default:Fa(v,T,b,w,p)}a=a.sibling}}function es(t,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var s=t,u=a,p=u.flags;switch(u.tag){case 22:es(s,u),p&2048&&nc(u.alternate,u);break;case 24:es(s,u),p&2048&&ic(u.alternate,u);break;default:es(s,u)}a=a.sibling}}var ts=8192;function $a(t,a,s){if(t.subtreeFlags&ts)for(t=t.child;t!==null;)gp(t,a,s),t=t.sibling}function gp(t,a,s){switch(t.tag){case 26:$a(t,a,s),t.flags&ts&&t.memoizedState!==null&&d_(s,Sn,t.memoizedState,t.memoizedProps);break;case 5:$a(t,a,s);break;case 3:case 4:var u=Sn;Sn=Ll(t.stateNode.containerInfo),$a(t,a,s),Sn=u;break;case 22:t.memoizedState===null&&(u=t.alternate,u!==null&&u.memoizedState!==null?(u=ts,ts=16777216,$a(t,a,s),ts=u):$a(t,a,s));break;default:$a(t,a,s)}}function vp(t){var a=t.alternate;if(a!==null&&(t=a.child,t!==null)){a.child=null;do a=t.sibling,t.sibling=null,t=a;while(t!==null)}}function ns(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var u=a[s];vt=u,Ep(u,t)}vp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)yp(t),t=t.sibling}function yp(t){switch(t.tag){case 0:case 11:case 15:ns(t),t.flags&2048&&Si(9,t,t.return);break;case 3:ns(t);break;case 12:ns(t);break;case 22:var a=t.stateNode;t.memoizedState!==null&&a._visibility&2&&(t.return===null||t.return.tag!==13)?(a._visibility&=-3,Tl(t)):ns(t);break;default:ns(t)}}function Tl(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var s=0;s<a.length;s++){var u=a[s];vt=u,Ep(u,t)}vp(t)}for(t=t.child;t!==null;){switch(a=t,a.tag){case 0:case 11:case 15:Si(8,a,a.return),Tl(a);break;case 22:s=a.stateNode,s._visibility&2&&(s._visibility&=-3,Tl(a));break;default:Tl(a)}t=t.sibling}}function Ep(t,a){for(;vt!==null;){var s=vt;switch(s.tag){case 0:case 11:case 15:Si(8,s,a);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var u=s.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Ho(s.memoizedState.cache)}if(u=s.child,u!==null)u.return=s,vt=u;else e:for(s=t;vt!==null;){u=vt;var p=u.sibling,v=u.return;if(up(u),u===s){vt=null;break e}if(p!==null){p.return=v,vt=p;break e}vt=v}}}var wE={getCacheForType:function(t){var a=xt(ct),s=a.data.get(t);return s===void 0&&(s=t(),a.data.set(t,s)),s},cacheSignal:function(){return xt(ct).controller.signal}},AE=typeof WeakMap=="function"?WeakMap:Map,qe=0,Qe=null,we=null,Re=0,Fe=0,Zt=null,Ti=!1,Ja=!1,ac=!1,Wn=0,ot=0,bi=0,ua=0,oc=0,Wt=0,Ya=0,is=null,Bt=null,sc=!1,bl=0,_p=0,xl=1/0,Cl=null,xi=null,gt=0,Ci=null,Ka=null,jn=0,lc=0,rc=null,Sp=null,as=0,uc=null;function jt(){return(qe&2)!==0&&Re!==0?Re&-Re:A.T!==null?mc():Co()}function Tp(){if(Wt===0)if((Re&536870912)===0||ke){var t=Fi;Fi<<=1,(Fi&3932160)===0&&(Fi=262144),Wt=t}else Wt=536870912;return t=Xt.current,t!==null&&(t.flags|=32),Wt}function Ft(t,a,s){(t===Qe&&(Fe===2||Fe===9)||t.cancelPendingCommit!==null)&&(Xa(t,0),wi(t,Re,Wt,!1)),Ln(t,s),((qe&2)===0||t!==Qe)&&(t===Qe&&((qe&2)===0&&(ua|=s),ot===4&&wi(t,Re,Wt,!1)),In(t))}function bp(t,a,s){if((qe&6)!==0)throw Error(o(327));var u=!s&&(a&127)===0&&(a&t.expiredLanes)===0||En(t,a),p=u?ME(t,a):dc(t,a,!0),v=u;do{if(p===0){Ja&&!u&&wi(t,a,0,!1);break}else{if(s=t.current.alternate,v&&!NE(s)){p=dc(t,a,!1),v=!1;continue}if(p===2){if(v=a,t.errorRecoveryDisabledLanes&v)var T=0;else T=t.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){a=T;e:{var b=t;p=is;var w=b.current.memoizedState.isDehydrated;if(w&&(Xa(b,T).flags|=256),T=dc(b,T,!1),T!==2){if(ac&&!w){b.errorRecoveryDisabledLanes|=v,ua|=v,p=4;break e}v=Bt,Bt=p,v!==null&&(Bt===null?Bt=v:Bt.push.apply(Bt,v))}p=T}if(v=!1,p!==2)continue}}if(p===1){Xa(t,0),wi(t,a,0,!0);break}e:{switch(u=t,v=p,v){case 0:case 1:throw Error(o(345));case 4:if((a&4194048)!==a)break;case 6:wi(u,a,Wt,!Ti);break e;case 2:Bt=null;break;case 3:case 5:break;default:throw Error(o(329))}if((a&62914560)===a&&(p=bl+300-mt(),10<p)){if(wi(u,a,Wt,!Ti),Ta(u,0,!0)!==0)break e;jn=a,u.timeoutHandle=em(xp.bind(null,u,s,Bt,Cl,sc,a,Wt,ua,Ya,Ti,v,"Throttled",-0,0),p);break e}xp(u,s,Bt,Cl,sc,a,Wt,ua,Ya,Ti,v,null,-0,0)}}break}while(!0);In(t)}function xp(t,a,s,u,p,v,T,b,w,L,V,J,O,G){if(t.timeoutHandle=-1,J=a.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Gn},gp(a,v,J);var se=(v&62914560)===v?bl-mt():(v&4194048)===v?_p-mt():0;if(se=f_(J,se),se!==null){jn=v,t.cancelPendingCommit=se(kp.bind(null,t,a,v,s,u,p,T,b,w,V,J,null,O,G)),wi(t,v,T,!L);return}}kp(t,a,v,s,u,p,T,b,w)}function NE(t){for(var a=t;;){var s=a.tag;if((s===0||s===11||s===15)&&a.flags&16384&&(s=a.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var u=0;u<s.length;u++){var p=s[u],v=p.getSnapshot;p=p.value;try{if(!Yt(v(),p))return!1}catch{return!1}}if(s=a.child,a.subtreeFlags&16384&&s!==null)s.return=a,a=s;else{if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function wi(t,a,s,u){a&=~oc,a&=~ua,t.suspendedLanes|=a,t.pingedLanes&=~a,u&&(t.warmLanes|=a),u=t.expirationTimes;for(var p=a;0<p;){var v=31-It(p),T=1<<v;u[v]=-1,p&=~T}s!==0&&Ji(t,s,a)}function wl(){return(qe&6)===0?(os(0),!1):!0}function cc(){if(we!==null){if(Fe===0)var t=we.return;else t=we,Vn=ea=null,wu(t),Ha=null,qo=0,t=we;for(;t!==null;)tp(t.alternate,t),t=t.return;we=null}}function Xa(t,a){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,KE(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),jn=0,cc(),Qe=t,we=s=zn(t.current,null),Re=a,Fe=0,Zt=null,Ti=!1,Ja=En(t,a),ac=!1,Ya=Wt=oc=ua=bi=ot=0,Bt=is=null,sc=!1,(a&8)!==0&&(a|=a&32);var u=t.entangledLanes;if(u!==0)for(t=t.entanglements,u&=a;0<u;){var p=31-It(u),v=1<<p;a|=t[p],u&=~v}return Wn=a,Ys(),s}function Cp(t,a){Se=null,A.H=Xo,a===Ga||a===tl?(a=qf(),Fe=3):a===pu?(a=qf(),Fe=4):Fe=a===Vu?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Zt=a,we===null&&(ot=1,ml(t,un(a,t.current)))}function wp(){var t=Xt.current;return t===null?!0:(Re&4194048)===Re?hn===null:(Re&62914560)===Re||(Re&536870912)!==0?t===hn:!1}function Ap(){var t=A.H;return A.H=Xo,t===null?Xo:t}function Np(){var t=A.A;return A.A=wE,t}function Al(){ot=4,Ti||(Re&4194048)!==Re&&Xt.current!==null||(Ja=!0),(bi&134217727)===0&&(ua&134217727)===0||Qe===null||wi(Qe,Re,Wt,!1)}function dc(t,a,s){var u=qe;qe|=2;var p=Ap(),v=Np();(Qe!==t||Re!==a)&&(Cl=null,Xa(t,a)),a=!1;var T=ot;e:do try{if(Fe!==0&&we!==null){var b=we,w=Zt;switch(Fe){case 8:cc(),T=6;break e;case 3:case 2:case 9:case 6:Xt.current===null&&(a=!0);var L=Fe;if(Fe=0,Zt=null,Qa(t,b,w,L),s&&Ja){T=0;break e}break;default:L=Fe,Fe=0,Zt=null,Qa(t,b,w,L)}}RE(),T=ot;break}catch(V){Cp(t,V)}while(!0);return a&&t.shellSuspendCounter++,Vn=ea=null,qe=u,A.H=p,A.A=v,we===null&&(Qe=null,Re=0,Ys()),T}function RE(){for(;we!==null;)Rp(we)}function ME(t,a){var s=qe;qe|=2;var u=Ap(),p=Np();Qe!==t||Re!==a?(Cl=null,xl=mt()+500,Xa(t,a)):Ja=En(t,a);e:do try{if(Fe!==0&&we!==null){a=we;var v=Zt;t:switch(Fe){case 1:Fe=0,Zt=null,Qa(t,a,v,1);break;case 2:case 9:if(Hf(v)){Fe=0,Zt=null,Mp(a);break}a=function(){Fe!==2&&Fe!==9||Qe!==t||(Fe=7),In(t)},v.then(a,a);break e;case 3:Fe=7;break e;case 4:Fe=5;break e;case 7:Hf(v)?(Fe=0,Zt=null,Mp(a)):(Fe=0,Zt=null,Qa(t,a,v,7));break;case 5:var T=null;switch(we.tag){case 26:T=we.memoizedState;case 5:case 27:var b=we;if(T?mm(T):b.stateNode.complete){Fe=0,Zt=null;var w=b.sibling;if(w!==null)we=w;else{var L=b.return;L!==null?(we=L,Nl(L)):we=null}break t}}Fe=0,Zt=null,Qa(t,a,v,5);break;case 6:Fe=0,Zt=null,Qa(t,a,v,6);break;case 8:cc(),ot=6;break e;default:throw Error(o(462))}}IE();break}catch(V){Cp(t,V)}while(!0);return Vn=ea=null,A.H=u,A.A=p,qe=s,we!==null?0:(Qe=null,Re=0,Ys(),ot)}function IE(){for(;we!==null&&!St();)Rp(we)}function Rp(t){var a=jh(t.alternate,t,Wn);t.memoizedProps=t.pendingProps,a===null?Nl(t):we=a}function Mp(t){var a=t,s=a.alternate;switch(a.tag){case 15:case 0:a=Yh(s,a,a.pendingProps,a.type,void 0,Re);break;case 11:a=Yh(s,a,a.pendingProps,a.type.render,a.ref,Re);break;case 5:wu(a);default:tp(s,a),a=we=Nf(a,Wn),a=jh(s,a,Wn)}t.memoizedProps=t.pendingProps,a===null?Nl(t):we=a}function Qa(t,a,s,u){Vn=ea=null,wu(a),Ha=null,qo=0;var p=a.return;try{if(EE(t,p,a,s,Re)){ot=1,ml(t,un(s,t.current)),we=null;return}}catch(v){if(p!==null)throw we=p,v;ot=1,ml(t,un(s,t.current)),we=null;return}a.flags&32768?(ke||u===1?t=!0:Ja||(Re&536870912)!==0?t=!1:(Ti=t=!0,(u===2||u===9||u===3||u===6)&&(u=Xt.current,u!==null&&u.tag===13&&(u.flags|=16384))),Ip(a,t)):Nl(a)}function Nl(t){var a=t;do{if((a.flags&32768)!==0){Ip(a,Ti);return}t=a.return;var s=TE(a.alternate,a,Wn);if(s!==null){we=s;return}if(a=a.sibling,a!==null){we=a;return}we=a=t}while(a!==null);ot===0&&(ot=5)}function Ip(t,a){do{var s=bE(t.alternate,t);if(s!==null){s.flags&=32767,we=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!a&&(t=t.sibling,t!==null)){we=t;return}we=t=s}while(t!==null);ot=6,we=null}function kp(t,a,s,u,p,v,T,b,w){t.cancelPendingCommit=null;do Rl();while(gt!==0);if((qe&6)!==0)throw Error(o(327));if(a!==null){if(a===t.current)throw Error(o(177));if(v=a.lanes|a.childLanes,v|=jr,Mr(t,s,v,T,b,w),t===Qe&&(we=Qe=null,Re=0),Ka=a,Ci=t,jn=s,lc=v,rc=p,Sp=u,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,LE(qi,function(){return Op(),null})):(t.callbackNode=null,t.callbackPriority=0),u=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||u){u=A.T,A.T=null,p=$.p,$.p=2,T=qe,qe|=4;try{xE(t,a,s)}finally{qe=T,$.p=p,A.T=u}}gt=1,Dp(),Up(),Lp()}}function Dp(){if(gt===1){gt=0;var t=Ci,a=Ka,s=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||s){s=A.T,A.T=null;var u=$.p;$.p=2;var p=qe;qe|=4;try{hp(a,t);var v=bc,T=Ef(t.containerInfo),b=v.focusedElem,w=v.selectionRange;if(T!==b&&b&&b.ownerDocument&&yf(b.ownerDocument.documentElement,b)){if(w!==null&&Kr(b)){var L=w.start,V=w.end;if(V===void 0&&(V=L),"selectionStart"in b)b.selectionStart=L,b.selectionEnd=Math.min(V,b.value.length);else{var J=b.ownerDocument||document,O=J&&J.defaultView||window;if(O.getSelection){var G=O.getSelection(),se=b.textContent.length,fe=Math.min(w.start,se),Ke=w.end===void 0?fe:Math.min(w.end,se);!G.extend&&fe>Ke&&(T=Ke,Ke=fe,fe=T);var k=vf(b,fe),M=vf(b,Ke);if(k&&M&&(G.rangeCount!==1||G.anchorNode!==k.node||G.anchorOffset!==k.offset||G.focusNode!==M.node||G.focusOffset!==M.offset)){var U=J.createRange();U.setStart(k.node,k.offset),G.removeAllRanges(),fe>Ke?(G.addRange(U),G.extend(M.node,M.offset)):(U.setEnd(M.node,M.offset),G.addRange(U))}}}}for(J=[],G=b;G=G.parentNode;)G.nodeType===1&&J.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<J.length;b++){var F=J[b];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}ql=!!Tc,bc=Tc=null}finally{qe=p,$.p=u,A.T=s}}t.current=a,gt=2}}function Up(){if(gt===2){gt=0;var t=Ci,a=Ka,s=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||s){s=A.T,A.T=null;var u=$.p;$.p=2;var p=qe;qe|=4;try{rp(t,a.alternate,a)}finally{qe=p,$.p=u,A.T=s}}gt=3}}function Lp(){if(gt===4||gt===3){gt=0,Dn();var t=Ci,a=Ka,s=jn,u=Sp;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?gt=5:(gt=0,Ka=Ci=null,Pp(t,t.pendingLanes));var p=t.pendingLanes;if(p===0&&(xi=null),xo(s),a=a.stateNode,Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot(ui,a,void 0,(a.current.flags&128)===128)}catch{}if(u!==null){a=A.T,p=$.p,$.p=2,A.T=null;try{for(var v=t.onRecoverableError,T=0;T<u.length;T++){var b=u[T];v(b.value,{componentStack:b.stack})}}finally{A.T=a,$.p=p}}(jn&3)!==0&&Rl(),In(t),p=t.pendingLanes,(s&261930)!==0&&(p&42)!==0?t===uc?as++:(as=0,uc=t):as=0,os(0)}}function Pp(t,a){(t.pooledCacheLanes&=a)===0&&(a=t.pooledCache,a!=null&&(t.pooledCache=null,Ho(a)))}function Rl(){return Dp(),Up(),Lp(),Op()}function Op(){if(gt!==5)return!1;var t=Ci,a=lc;lc=0;var s=xo(jn),u=A.T,p=$.p;try{$.p=32>s?32:s,A.T=null,s=rc,rc=null;var v=Ci,T=jn;if(gt=0,Ka=Ci=null,jn=0,(qe&6)!==0)throw Error(o(331));var b=qe;if(qe|=4,yp(v.current),mp(v,v.current,T,s),qe=b,os(0,!1),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot(ui,v)}catch{}return!0}finally{$.p=p,A.T=u,Pp(t,a)}}function Gp(t,a,s){a=un(s,a),a=qu(t.stateNode,a,2),t=yi(t,a,2),t!==null&&(Ln(t,2),In(t))}function $e(t,a,s){if(t.tag===3)Gp(t,t,s);else for(;a!==null;){if(a.tag===3){Gp(a,t,s);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(xi===null||!xi.has(u))){t=un(s,t),s=Hh(2),u=yi(a,s,2),u!==null&&(zh(s,u,a,t),Ln(u,2),In(u));break}}a=a.return}}function fc(t,a,s){var u=t.pingCache;if(u===null){u=t.pingCache=new AE;var p=new Set;u.set(a,p)}else p=u.get(a),p===void 0&&(p=new Set,u.set(a,p));p.has(s)||(ac=!0,p.add(s),t=kE.bind(null,t,a,s),a.then(t,t))}function kE(t,a,s){var u=t.pingCache;u!==null&&u.delete(a),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,Qe===t&&(Re&s)===s&&(ot===4||ot===3&&(Re&62914560)===Re&&300>mt()-bl?(qe&2)===0&&Xa(t,0):oc|=s,Ya===Re&&(Ya=0)),In(t)}function Hp(t,a){a===0&&(a=Ls()),t=Zi(t,a),t!==null&&(Ln(t,a),In(t))}function DE(t){var a=t.memoizedState,s=0;a!==null&&(s=a.retryLane),Hp(t,s)}function UE(t,a){var s=0;switch(t.tag){case 31:case 13:var u=t.stateNode,p=t.memoizedState;p!==null&&(s=p.retryLane);break;case 19:u=t.stateNode;break;case 22:u=t.stateNode._retryCache;break;default:throw Error(o(314))}u!==null&&u.delete(a),Hp(t,s)}function LE(t,a){return si(t,a)}var Ml=null,Za=null,hc=!1,Il=!1,pc=!1,Ai=0;function In(t){t!==Za&&t.next===null&&(Za===null?Ml=Za=t:Za=Za.next=t),Il=!0,hc||(hc=!0,OE())}function os(t,a){if(!pc&&Il){pc=!0;do for(var s=!1,u=Ml;u!==null;){if(t!==0){var p=u.pendingLanes;if(p===0)var v=0;else{var T=u.suspendedLanes,b=u.pingedLanes;v=(1<<31-It(42|t)+1)-1,v&=p&~(T&~b),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(s=!0,Bp(u,v))}else v=Re,v=Ta(u,u===Qe?v:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(v&3)===0||En(u,v)||(s=!0,Bp(u,v));u=u.next}while(s);pc=!1}}function PE(){zp()}function zp(){Il=hc=!1;var t=0;Ai!==0&&YE()&&(t=Ai);for(var a=mt(),s=null,u=Ml;u!==null;){var p=u.next,v=qp(u,a);v===0?(u.next=null,s===null?Ml=p:s.next=p,p===null&&(Za=s)):(s=u,(t!==0||(v&3)!==0)&&(Il=!0)),u=p}gt!==0&&gt!==5||os(t),Ai!==0&&(Ai=0)}function qp(t,a){for(var s=t.suspendedLanes,u=t.pingedLanes,p=t.expirationTimes,v=t.pendingLanes&-62914561;0<v;){var T=31-It(v),b=1<<T,w=p[T];w===-1?((b&s)===0||(b&u)!==0)&&(p[T]=Rr(b,a)):w<=a&&(t.expiredLanes|=b),v&=~b}if(a=Qe,s=Re,s=Ta(t,t===a?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u=t.callbackNode,s===0||t===a&&(Fe===2||Fe===9)||t.cancelPendingCommit!==null)return u!==null&&u!==null&&li(u),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||En(t,s)){if(a=s&-s,a===t.callbackPriority)return a;switch(u!==null&&li(u),xo(s)){case 2:case 8:s=Ds;break;case 32:s=qi;break;case 268435456:s=ri;break;default:s=qi}return u=Vp.bind(null,t),s=si(s,u),t.callbackPriority=a,t.callbackNode=s,a}return u!==null&&u!==null&&li(u),t.callbackPriority=2,t.callbackNode=null,2}function Vp(t,a){if(gt!==0&&gt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(Rl()&&t.callbackNode!==s)return null;var u=Re;return u=Ta(t,t===Qe?u:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u===0?null:(bp(t,u,a),qp(t,mt()),t.callbackNode!=null&&t.callbackNode===s?Vp.bind(null,t):null)}function Bp(t,a){if(Rl())return null;bp(t,a,!0)}function OE(){XE(function(){(qe&6)!==0?si(Sa,PE):zp()})}function mc(){if(Ai===0){var t=Pa;t===0&&(t=Bi,Bi<<=1,(Bi&261888)===0&&(Bi=256)),Ai=t}return Ai}function Fp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Hs(""+t)}function $p(t,a){var s=a.ownerDocument.createElement("input");return s.name=a.name,s.value=a.value,t.id&&s.setAttribute("form",t.id),a.parentNode.insertBefore(s,a),t=new FormData(t),s.parentNode.removeChild(s),t}function GE(t,a,s,u,p){if(a==="submit"&&s&&s.stateNode===p){var v=Fp((p[X]||null).action),T=u.submitter;T&&(a=(a=T[X]||null)?Fp(a.formAction):T.getAttribute("formAction"),a!==null&&(v=a,T=null));var b=new Bs("action","action",null,u,p);t.push({event:b,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ai!==0){var w=T?$p(p,T):new FormData(p);Lu(s,{pending:!0,data:w,method:p.method,action:v},null,w)}}else typeof v=="function"&&(b.preventDefault(),w=T?$p(p,T):new FormData(p),Lu(s,{pending:!0,data:w,method:p.method,action:v},v,w))},currentTarget:p}]})}}for(var gc=0;gc<Wr.length;gc++){var vc=Wr[gc],HE=vc.toLowerCase(),zE=vc[0].toUpperCase()+vc.slice(1);_n(HE,"on"+zE)}_n(Tf,"onAnimationEnd"),_n(bf,"onAnimationIteration"),_n(xf,"onAnimationStart"),_n("dblclick","onDoubleClick"),_n("focusin","onFocus"),_n("focusout","onBlur"),_n(nE,"onTransitionRun"),_n(iE,"onTransitionStart"),_n(aE,"onTransitionCancel"),_n(Cf,"onTransitionEnd"),Yi("onMouseEnter",["mouseout","mouseover"]),Yi("onMouseLeave",["mouseout","mouseover"]),Yi("onPointerEnter",["pointerout","pointerover"]),Yi("onPointerLeave",["pointerout","pointerover"]),on("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),on("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),on("onBeforeInput",["compositionend","keypress","textInput","paste"]),on("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),on("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),on("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ss="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ss));function Jp(t,a){a=(a&4)!==0;for(var s=0;s<t.length;s++){var u=t[s],p=u.event;u=u.listeners;e:{var v=void 0;if(a)for(var T=u.length-1;0<=T;T--){var b=u[T],w=b.instance,L=b.currentTarget;if(b=b.listener,w!==v&&p.isPropagationStopped())break e;v=b,p.currentTarget=L;try{v(p)}catch(V){Js(V)}p.currentTarget=null,v=w}else for(T=0;T<u.length;T++){if(b=u[T],w=b.instance,L=b.currentTarget,b=b.listener,w!==v&&p.isPropagationStopped())break e;v=b,p.currentTarget=L;try{v(p)}catch(V){Js(V)}p.currentTarget=null,v=w}}}}function Ae(t,a){var s=a[z];s===void 0&&(s=a[z]=new Set);var u=t+"__bubble";s.has(u)||(Yp(a,t,2,!1),s.add(u))}function yc(t,a,s){var u=0;a&&(u|=4),Yp(s,t,u,a)}var kl="_reactListening"+Math.random().toString(36).slice(2);function Ec(t){if(!t[kl]){t[kl]=!0,Gt.forEach(function(s){s!=="selectionchange"&&(qE.has(s)||yc(s,!1,t),yc(s,!0,t))});var a=t.nodeType===9?t:t.ownerDocument;a===null||a[kl]||(a[kl]=!0,yc("selectionchange",!1,a))}}function Yp(t,a,s,u){switch(Tm(a)){case 2:var p=m_;break;case 8:p=g_;break;default:p=Uc}s=p.bind(null,a,s,t),p=void 0,!Hr||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(p=!0),u?p!==void 0?t.addEventListener(a,s,{capture:!0,passive:p}):t.addEventListener(a,s,!0):p!==void 0?t.addEventListener(a,s,{passive:p}):t.addEventListener(a,s,!1)}function _c(t,a,s,u,p){var v=u;if((a&1)===0&&(a&2)===0&&u!==null)e:for(;;){if(u===null)return;var T=u.tag;if(T===3||T===4){var b=u.stateNode.containerInfo;if(b===p)break;if(T===4)for(T=u.return;T!==null;){var w=T.tag;if((w===3||w===4)&&T.stateNode.containerInfo===p)return;T=T.return}for(;b!==null;){if(T=an(b),T===null)return;if(w=T.tag,w===5||w===6||w===26||w===27){u=v=T;continue e}b=b.parentNode}}u=u.return}Zd(function(){var L=v,V=Or(s),J=[];e:{var O=wf.get(t);if(O!==void 0){var G=Bs,se=t;switch(t){case"keypress":if(qs(s)===0)break e;case"keydown":case"keyup":G=Uy;break;case"focusin":se="focus",G=Br;break;case"focusout":se="blur",G=Br;break;case"beforeblur":case"afterblur":G=Br;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=ef;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Ty;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=Oy;break;case Tf:case bf:case xf:G=Cy;break;case Cf:G=Hy;break;case"scroll":case"scrollend":G=_y;break;case"wheel":G=qy;break;case"copy":case"cut":case"paste":G=Ay;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=nf;break;case"toggle":case"beforetoggle":G=By}var fe=(a&4)!==0,Ke=!fe&&(t==="scroll"||t==="scrollend"),k=fe?O!==null?O+"Capture":null:O;fe=[];for(var M=L,U;M!==null;){var F=M;if(U=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||U===null||k===null||(F=No(M,k),F!=null&&fe.push(ls(M,F,U))),Ke)break;M=M.return}0<fe.length&&(O=new G(O,se,null,s,V),J.push({event:O,listeners:fe}))}}if((a&7)===0){e:{if(O=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",O&&s!==Pr&&(se=s.relatedTarget||s.fromElement)&&(an(se)||se[Ee]))break e;if((G||O)&&(O=V.window===V?V:(O=V.ownerDocument)?O.defaultView||O.parentWindow:window,G?(se=s.relatedTarget||s.toElement,G=L,se=se?an(se):null,se!==null&&(Ke=r(se),fe=se.tag,se!==Ke||fe!==5&&fe!==27&&fe!==6)&&(se=null)):(G=null,se=L),G!==se)){if(fe=ef,F="onMouseLeave",k="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(fe=nf,F="onPointerLeave",k="onPointerEnter",M="pointer"),Ke=G==null?O:j(G),U=se==null?O:j(se),O=new fe(F,M+"leave",G,s,V),O.target=Ke,O.relatedTarget=U,F=null,an(V)===L&&(fe=new fe(k,M+"enter",se,s,V),fe.target=U,fe.relatedTarget=Ke,F=fe),Ke=F,G&&se)t:{for(fe=VE,k=G,M=se,U=0,F=k;F;F=fe(F))U++;F=0;for(var ce=M;ce;ce=fe(ce))F++;for(;0<U-F;)k=fe(k),U--;for(;0<F-U;)M=fe(M),F--;for(;U--;){if(k===M||M!==null&&k===M.alternate){fe=k;break t}k=fe(k),M=fe(M)}fe=null}else fe=null;G!==null&&Kp(J,O,G,fe,!1),se!==null&&Ke!==null&&Kp(J,Ke,se,fe,!0)}}e:{if(O=L?j(L):window,G=O.nodeName&&O.nodeName.toLowerCase(),G==="select"||G==="input"&&O.type==="file")var Oe=df;else if(uf(O))if(ff)Oe=jy;else{Oe=Zy;var le=Qy}else G=O.nodeName,!G||G.toLowerCase()!=="input"||O.type!=="checkbox"&&O.type!=="radio"?L&&Lr(L.elementType)&&(Oe=df):Oe=Wy;if(Oe&&(Oe=Oe(t,L))){cf(J,Oe,s,V);break e}le&&le(t,O,L),t==="focusout"&&L&&O.type==="number"&&L.memoizedProps.value!=null&&Ur(O,"number",O.value)}switch(le=L?j(L):window,t){case"focusin":(uf(le)||le.contentEditable==="true")&&(Na=le,Xr=L,Po=null);break;case"focusout":Po=Xr=Na=null;break;case"mousedown":Qr=!0;break;case"contextmenu":case"mouseup":case"dragend":Qr=!1,_f(J,s,V);break;case"selectionchange":if(tE)break;case"keydown":case"keyup":_f(J,s,V)}var be;if($r)e:{switch(t){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else Aa?lf(t,s)&&(Me="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(Me="onCompositionStart");Me&&(af&&s.locale!=="ko"&&(Aa||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&Aa&&(be=Wd()):(di=V,zr="value"in di?di.value:di.textContent,Aa=!0)),le=Dl(L,Me),0<le.length&&(Me=new tf(Me,t,null,s,V),J.push({event:Me,listeners:le}),be?Me.data=be:(be=rf(s),be!==null&&(Me.data=be)))),(be=$y?Jy(t,s):Yy(t,s))&&(Me=Dl(L,"onBeforeInput"),0<Me.length&&(le=new tf("onBeforeInput","beforeinput",null,s,V),J.push({event:le,listeners:Me}),le.data=be)),GE(J,t,L,s,V)}Jp(J,a)})}function ls(t,a,s){return{instance:t,listener:a,currentTarget:s}}function Dl(t,a){for(var s=a+"Capture",u=[];t!==null;){var p=t,v=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||v===null||(p=No(t,s),p!=null&&u.unshift(ls(t,p,v)),p=No(t,a),p!=null&&u.push(ls(t,p,v))),t.tag===3)return u;t=t.return}return[]}function VE(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Kp(t,a,s,u,p){for(var v=a._reactName,T=[];s!==null&&s!==u;){var b=s,w=b.alternate,L=b.stateNode;if(b=b.tag,w!==null&&w===u)break;b!==5&&b!==26&&b!==27||L===null||(w=L,p?(L=No(s,v),L!=null&&T.unshift(ls(s,L,w))):p||(L=No(s,v),L!=null&&T.push(ls(s,L,w)))),s=s.return}T.length!==0&&t.push({event:a,listeners:T})}var BE=/\r\n?/g,FE=/\u0000|\uFFFD/g;function Xp(t){return(typeof t=="string"?t:""+t).replace(BE,`
`).replace(FE,"")}function Qp(t,a){return a=Xp(a),Xp(t)===a}function Ye(t,a,s,u,p,v){switch(s){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||xa(t,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&xa(t,""+u);break;case"className":Os(t,"class",u);break;case"tabIndex":Os(t,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Os(t,s,u);break;case"style":Xd(t,u,v);break;case"data":if(a!=="object"){Os(t,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||s!=="href")){t.removeAttribute(s);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(s);break}u=Hs(""+u),t.setAttribute(s,u);break;case"action":case"formAction":if(typeof u=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(s==="formAction"?(a!=="input"&&Ye(t,a,"name",p.name,p,null),Ye(t,a,"formEncType",p.formEncType,p,null),Ye(t,a,"formMethod",p.formMethod,p,null),Ye(t,a,"formTarget",p.formTarget,p,null)):(Ye(t,a,"encType",p.encType,p,null),Ye(t,a,"method",p.method,p,null),Ye(t,a,"target",p.target,p,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(s);break}u=Hs(""+u),t.setAttribute(s,u);break;case"onClick":u!=null&&(t.onclick=Gn);break;case"onScroll":u!=null&&Ae("scroll",t);break;case"onScrollEnd":u!=null&&Ae("scrollend",t);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(o(61));if(s=u.__html,s!=null){if(p.children!=null)throw Error(o(60));t.innerHTML=s}}break;case"multiple":t.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":t.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){t.removeAttribute("xlink:href");break}s=Hs(""+u),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(s,""+u):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":u===!0?t.setAttribute(s,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(s,u):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?t.setAttribute(s,u):t.removeAttribute(s);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?t.removeAttribute(s):t.setAttribute(s,u);break;case"popover":Ae("beforetoggle",t),Ae("toggle",t),Ps(t,"popover",u);break;case"xlinkActuate":On(t,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":On(t,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":On(t,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":On(t,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":On(t,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":On(t,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":On(t,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":On(t,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":On(t,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Ps(t,"is",u);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=yy.get(s)||s,Ps(t,s,u))}}function Sc(t,a,s,u,p,v){switch(s){case"style":Xd(t,u,v);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(o(61));if(s=u.__html,s!=null){if(p.children!=null)throw Error(o(60));t.innerHTML=s}}break;case"children":typeof u=="string"?xa(t,u):(typeof u=="number"||typeof u=="bigint")&&xa(t,""+u);break;case"onScroll":u!=null&&Ae("scroll",t);break;case"onScrollEnd":u!=null&&Ae("scrollend",t);break;case"onClick":u!=null&&(t.onclick=Gn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Dt.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(p=s.endsWith("Capture"),a=s.slice(2,p?s.length-7:void 0),v=t[X]||null,v=v!=null?v[s]:null,typeof v=="function"&&t.removeEventListener(a,v,p),typeof u=="function")){typeof v!="function"&&v!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(a,u,p);break e}s in t?t[s]=u:u===!0?t.setAttribute(s,""):Ps(t,s,u)}}}function wt(t,a,s){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ae("error",t),Ae("load",t);var u=!1,p=!1,v;for(v in s)if(s.hasOwnProperty(v)){var T=s[v];if(T!=null)switch(v){case"src":u=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,a));default:Ye(t,a,v,T,s,null)}}p&&Ye(t,a,"srcSet",s.srcSet,s,null),u&&Ye(t,a,"src",s.src,s,null);return;case"input":Ae("invalid",t);var b=v=T=p=null,w=null,L=null;for(u in s)if(s.hasOwnProperty(u)){var V=s[u];if(V!=null)switch(u){case"name":p=V;break;case"type":T=V;break;case"checked":w=V;break;case"defaultChecked":L=V;break;case"value":v=V;break;case"defaultValue":b=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(o(137,a));break;default:Ye(t,a,u,V,s,null)}}$d(t,v,b,w,L,T,p,!1);return;case"select":Ae("invalid",t),u=T=v=null;for(p in s)if(s.hasOwnProperty(p)&&(b=s[p],b!=null))switch(p){case"value":v=b;break;case"defaultValue":T=b;break;case"multiple":u=b;default:Ye(t,a,p,b,s,null)}a=v,s=T,t.multiple=!!u,a!=null?ba(t,!!u,a,!1):s!=null&&ba(t,!!u,s,!0);return;case"textarea":Ae("invalid",t),v=p=u=null;for(T in s)if(s.hasOwnProperty(T)&&(b=s[T],b!=null))switch(T){case"value":u=b;break;case"defaultValue":p=b;break;case"children":v=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(o(91));break;default:Ye(t,a,T,b,s,null)}Yd(t,u,p,v);return;case"option":for(w in s)if(s.hasOwnProperty(w)&&(u=s[w],u!=null))switch(w){case"selected":t.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Ye(t,a,w,u,s,null)}return;case"dialog":Ae("beforetoggle",t),Ae("toggle",t),Ae("cancel",t),Ae("close",t);break;case"iframe":case"object":Ae("load",t);break;case"video":case"audio":for(u=0;u<ss.length;u++)Ae(ss[u],t);break;case"image":Ae("error",t),Ae("load",t);break;case"details":Ae("toggle",t);break;case"embed":case"source":case"link":Ae("error",t),Ae("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in s)if(s.hasOwnProperty(L)&&(u=s[L],u!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,a));default:Ye(t,a,L,u,s,null)}return;default:if(Lr(a)){for(V in s)s.hasOwnProperty(V)&&(u=s[V],u!==void 0&&Sc(t,a,V,u,s,void 0));return}}for(b in s)s.hasOwnProperty(b)&&(u=s[b],u!=null&&Ye(t,a,b,u,s,null))}function $E(t,a,s,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,v=null,T=null,b=null,w=null,L=null,V=null;for(G in s){var J=s[G];if(s.hasOwnProperty(G)&&J!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":w=J;default:u.hasOwnProperty(G)||Ye(t,a,G,null,u,J)}}for(var O in u){var G=u[O];if(J=s[O],u.hasOwnProperty(O)&&(G!=null||J!=null))switch(O){case"type":v=G;break;case"name":p=G;break;case"checked":L=G;break;case"defaultChecked":V=G;break;case"value":T=G;break;case"defaultValue":b=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(o(137,a));break;default:G!==J&&Ye(t,a,O,G,u,J)}}Dr(t,T,b,w,L,V,v,p);return;case"select":G=T=b=O=null;for(v in s)if(w=s[v],s.hasOwnProperty(v)&&w!=null)switch(v){case"value":break;case"multiple":G=w;default:u.hasOwnProperty(v)||Ye(t,a,v,null,u,w)}for(p in u)if(v=u[p],w=s[p],u.hasOwnProperty(p)&&(v!=null||w!=null))switch(p){case"value":O=v;break;case"defaultValue":b=v;break;case"multiple":T=v;default:v!==w&&Ye(t,a,p,v,u,w)}a=b,s=T,u=G,O!=null?ba(t,!!s,O,!1):!!u!=!!s&&(a!=null?ba(t,!!s,a,!0):ba(t,!!s,s?[]:"",!1));return;case"textarea":G=O=null;for(b in s)if(p=s[b],s.hasOwnProperty(b)&&p!=null&&!u.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Ye(t,a,b,null,u,p)}for(T in u)if(p=u[T],v=s[T],u.hasOwnProperty(T)&&(p!=null||v!=null))switch(T){case"value":O=p;break;case"defaultValue":G=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(o(91));break;default:p!==v&&Ye(t,a,T,p,u,v)}Jd(t,O,G);return;case"option":for(var se in s)if(O=s[se],s.hasOwnProperty(se)&&O!=null&&!u.hasOwnProperty(se))switch(se){case"selected":t.selected=!1;break;default:Ye(t,a,se,null,u,O)}for(w in u)if(O=u[w],G=s[w],u.hasOwnProperty(w)&&O!==G&&(O!=null||G!=null))switch(w){case"selected":t.selected=O&&typeof O!="function"&&typeof O!="symbol";break;default:Ye(t,a,w,O,u,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var fe in s)O=s[fe],s.hasOwnProperty(fe)&&O!=null&&!u.hasOwnProperty(fe)&&Ye(t,a,fe,null,u,O);for(L in u)if(O=u[L],G=s[L],u.hasOwnProperty(L)&&O!==G&&(O!=null||G!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(o(137,a));break;default:Ye(t,a,L,O,u,G)}return;default:if(Lr(a)){for(var Ke in s)O=s[Ke],s.hasOwnProperty(Ke)&&O!==void 0&&!u.hasOwnProperty(Ke)&&Sc(t,a,Ke,void 0,u,O);for(V in u)O=u[V],G=s[V],!u.hasOwnProperty(V)||O===G||O===void 0&&G===void 0||Sc(t,a,V,O,u,G);return}}for(var k in s)O=s[k],s.hasOwnProperty(k)&&O!=null&&!u.hasOwnProperty(k)&&Ye(t,a,k,null,u,O);for(J in u)O=u[J],G=s[J],!u.hasOwnProperty(J)||O===G||O==null&&G==null||Ye(t,a,J,O,u,G)}function Zp(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function JE(){if(typeof performance.getEntriesByType=="function"){for(var t=0,a=0,s=performance.getEntriesByType("resource"),u=0;u<s.length;u++){var p=s[u],v=p.transferSize,T=p.initiatorType,b=p.duration;if(v&&b&&Zp(T)){for(T=0,b=p.responseEnd,u+=1;u<s.length;u++){var w=s[u],L=w.startTime;if(L>b)break;var V=w.transferSize,J=w.initiatorType;V&&Zp(J)&&(w=w.responseEnd,T+=V*(w<b?1:(b-L)/(w-L)))}if(--u,a+=8*(v+T)/(p.duration/1e3),t++,10<t)break}}if(0<t)return a/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Tc=null,bc=null;function Ul(t){return t.nodeType===9?t:t.ownerDocument}function Wp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function jp(t,a){if(t===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&a==="foreignObject"?0:t}function xc(t,a){return t==="textarea"||t==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Cc=null;function YE(){var t=window.event;return t&&t.type==="popstate"?t===Cc?!1:(Cc=t,!0):(Cc=null,!1)}var em=typeof setTimeout=="function"?setTimeout:void 0,KE=typeof clearTimeout=="function"?clearTimeout:void 0,tm=typeof Promise=="function"?Promise:void 0,XE=typeof queueMicrotask=="function"?queueMicrotask:typeof tm<"u"?function(t){return tm.resolve(null).then(t).catch(QE)}:em;function QE(t){setTimeout(function(){throw t})}function Ni(t){return t==="head"}function nm(t,a){var s=a,u=0;do{var p=s.nextSibling;if(t.removeChild(s),p&&p.nodeType===8)if(s=p.data,s==="/$"||s==="/&"){if(u===0){t.removeChild(p),to(a);return}u--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")u++;else if(s==="html")rs(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,rs(s);for(var v=s.firstChild;v;){var T=v.nextSibling,b=v.nodeName;v[kt]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&v.rel.toLowerCase()==="stylesheet"||s.removeChild(v),v=T}}else s==="body"&&rs(t.ownerDocument.body);s=p}while(s);to(a)}function im(t,a){var s=t;t=0;do{var u=s.nextSibling;if(s.nodeType===1?a?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(a?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),u&&u.nodeType===8)if(s=u.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=u}while(s)}function wc(t){var a=t.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var s=a;switch(a=a.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":wc(s),Pn(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function ZE(t,a,s,u){for(;t.nodeType===1;){var p=s;if(t.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(u){if(!t[kt])switch(a){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(v=t.getAttribute("rel"),v==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(v!==p.rel||t.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||t.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||t.getAttribute("title")!==(p.title==null?null:p.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(v=t.getAttribute("src"),(v!==(p.src==null?null:p.src)||t.getAttribute("type")!==(p.type==null?null:p.type)||t.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&v&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(a==="input"&&t.type==="hidden"){var v=p.name==null?null:""+p.name;if(p.type==="hidden"&&t.getAttribute("name")===v)return t}else return t;if(t=pn(t.nextSibling),t===null)break}return null}function WE(t,a,s){if(a==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=pn(t.nextSibling),t===null))return null;return t}function am(t,a){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=pn(t.nextSibling),t===null))return null;return t}function Ac(t){return t.data==="$?"||t.data==="$~"}function Nc(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function jE(t,a){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=a;else if(t.data!=="$?"||s.readyState!=="loading")a();else{var u=function(){a(),s.removeEventListener("DOMContentLoaded",u)};s.addEventListener("DOMContentLoaded",u),t._reactRetry=u}}function pn(t){for(;t!=null;t=t.nextSibling){var a=t.nodeType;if(a===1||a===3)break;if(a===8){if(a=t.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return t}var Rc=null;function om(t){t=t.nextSibling;for(var a=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(a===0)return pn(t.nextSibling);a--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||a++}t=t.nextSibling}return null}function sm(t){t=t.previousSibling;for(var a=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(a===0)return t;a--}else s!=="/$"&&s!=="/&"||a++}t=t.previousSibling}return null}function lm(t,a,s){switch(a=Ul(s),t){case"html":if(t=a.documentElement,!t)throw Error(o(452));return t;case"head":if(t=a.head,!t)throw Error(o(453));return t;case"body":if(t=a.body,!t)throw Error(o(454));return t;default:throw Error(o(451))}}function rs(t){for(var a=t.attributes;a.length;)t.removeAttributeNode(a[0]);Pn(t)}var mn=new Map,rm=new Set;function Ll(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ei=$.d;$.d={f:e_,r:t_,D:n_,C:i_,L:a_,m:o_,X:l_,S:s_,M:r_};function e_(){var t=ei.f(),a=wl();return t||a}function t_(t){var a=Jt(t);a!==null&&a.tag===5&&a.type==="form"?Ch(a):ei.r(t)}var Wa=typeof document>"u"?null:document;function um(t,a,s){var u=Wa;if(u&&typeof a=="string"&&a){var p=ln(a);p='link[rel="'+t+'"][href="'+p+'"]',typeof s=="string"&&(p+='[crossorigin="'+s+'"]'),rm.has(p)||(rm.add(p),t={rel:t,crossOrigin:s,href:a},u.querySelector(p)===null&&(a=u.createElement("link"),wt(a,"link",t),Le(a),u.head.appendChild(a)))}}function n_(t){ei.D(t),um("dns-prefetch",t,null)}function i_(t,a){ei.C(t,a),um("preconnect",t,a)}function a_(t,a,s){ei.L(t,a,s);var u=Wa;if(u&&t&&a){var p='link[rel="preload"][as="'+ln(a)+'"]';a==="image"&&s&&s.imageSrcSet?(p+='[imagesrcset="'+ln(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(p+='[imagesizes="'+ln(s.imageSizes)+'"]')):p+='[href="'+ln(t)+'"]';var v=p;switch(a){case"style":v=ja(t);break;case"script":v=eo(t)}mn.has(v)||(t=_({rel:"preload",href:a==="image"&&s&&s.imageSrcSet?void 0:t,as:a},s),mn.set(v,t),u.querySelector(p)!==null||a==="style"&&u.querySelector(us(v))||a==="script"&&u.querySelector(cs(v))||(a=u.createElement("link"),wt(a,"link",t),Le(a),u.head.appendChild(a)))}}function o_(t,a){ei.m(t,a);var s=Wa;if(s&&t){var u=a&&typeof a.as=="string"?a.as:"script",p='link[rel="modulepreload"][as="'+ln(u)+'"][href="'+ln(t)+'"]',v=p;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=eo(t)}if(!mn.has(v)&&(t=_({rel:"modulepreload",href:t},a),mn.set(v,t),s.querySelector(p)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(cs(v)))return}u=s.createElement("link"),wt(u,"link",t),Le(u),s.head.appendChild(u)}}}function s_(t,a,s){ei.S(t,a,s);var u=Wa;if(u&&t){var p=pe(u).hoistableStyles,v=ja(t);a=a||"default";var T=p.get(v);if(!T){var b={loading:0,preload:null};if(T=u.querySelector(us(v)))b.loading=5;else{t=_({rel:"stylesheet",href:t,"data-precedence":a},s),(s=mn.get(v))&&Mc(t,s);var w=T=u.createElement("link");Le(w),wt(w,"link",t),w._p=new Promise(function(L,V){w.onload=L,w.onerror=V}),w.addEventListener("load",function(){b.loading|=1}),w.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Pl(T,a,u)}T={type:"stylesheet",instance:T,count:1,state:b},p.set(v,T)}}}function l_(t,a){ei.X(t,a);var s=Wa;if(s&&t){var u=pe(s).hoistableScripts,p=eo(t),v=u.get(p);v||(v=s.querySelector(cs(p)),v||(t=_({src:t,async:!0},a),(a=mn.get(p))&&Ic(t,a),v=s.createElement("script"),Le(v),wt(v,"link",t),s.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},u.set(p,v))}}function r_(t,a){ei.M(t,a);var s=Wa;if(s&&t){var u=pe(s).hoistableScripts,p=eo(t),v=u.get(p);v||(v=s.querySelector(cs(p)),v||(t=_({src:t,async:!0,type:"module"},a),(a=mn.get(p))&&Ic(t,a),v=s.createElement("script"),Le(v),wt(v,"link",t),s.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},u.set(p,v))}}function cm(t,a,s,u){var p=(p=xe.current)?Ll(p):null;if(!p)throw Error(o(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(a=ja(s.href),s=pe(p).hoistableStyles,u=s.get(a),u||(u={type:"style",instance:null,count:0,state:null},s.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=ja(s.href);var v=pe(p).hoistableStyles,T=v.get(t);if(T||(p=p.ownerDocument||p,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(t,T),(v=p.querySelector(us(t)))&&!v._p&&(T.instance=v,T.state.loading=5),mn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},mn.set(t,s),v||u_(p,t,s,T.state))),a&&u===null)throw Error(o(528,""));return T}if(a&&u!==null)throw Error(o(529,""));return null;case"script":return a=s.async,s=s.src,typeof s=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=eo(s),s=pe(p).hoistableScripts,u=s.get(a),u||(u={type:"script",instance:null,count:0,state:null},s.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,t))}}function ja(t){return'href="'+ln(t)+'"'}function us(t){return'link[rel="stylesheet"]['+t+"]"}function dm(t){return _({},t,{"data-precedence":t.precedence,precedence:null})}function u_(t,a,s,u){t.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=t.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),wt(a,"link",s),Le(a),t.head.appendChild(a))}function eo(t){return'[src="'+ln(t)+'"]'}function cs(t){return"script[async]"+t}function fm(t,a,s){if(a.count++,a.instance===null)switch(a.type){case"style":var u=t.querySelector('style[data-href~="'+ln(s.href)+'"]');if(u)return a.instance=u,Le(u),u;var p=_({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return u=(t.ownerDocument||t).createElement("style"),Le(u),wt(u,"style",p),Pl(u,s.precedence,t),a.instance=u;case"stylesheet":p=ja(s.href);var v=t.querySelector(us(p));if(v)return a.state.loading|=4,a.instance=v,Le(v),v;u=dm(s),(p=mn.get(p))&&Mc(u,p),v=(t.ownerDocument||t).createElement("link"),Le(v);var T=v;return T._p=new Promise(function(b,w){T.onload=b,T.onerror=w}),wt(v,"link",u),a.state.loading|=4,Pl(v,s.precedence,t),a.instance=v;case"script":return v=eo(s.src),(p=t.querySelector(cs(v)))?(a.instance=p,Le(p),p):(u=s,(p=mn.get(v))&&(u=_({},s),Ic(u,p)),t=t.ownerDocument||t,p=t.createElement("script"),Le(p),wt(p,"link",u),t.head.appendChild(p),a.instance=p);case"void":return null;default:throw Error(o(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,Pl(u,s.precedence,t));return a.instance}function Pl(t,a,s){for(var u=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=u.length?u[u.length-1]:null,v=p,T=0;T<u.length;T++){var b=u[T];if(b.dataset.precedence===a)v=b;else if(v!==p)break}v?v.parentNode.insertBefore(t,v.nextSibling):(a=s.nodeType===9?s.head:s,a.insertBefore(t,a.firstChild))}function Mc(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.title==null&&(t.title=a.title)}function Ic(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.integrity==null&&(t.integrity=a.integrity)}var Ol=null;function hm(t,a,s){if(Ol===null){var u=new Map,p=Ol=new Map;p.set(s,u)}else p=Ol,u=p.get(s),u||(u=new Map,p.set(s,u));if(u.has(t))return u;for(u.set(t,null),s=s.getElementsByTagName(t),p=0;p<s.length;p++){var v=s[p];if(!(v[kt]||v[P]||t==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var T=v.getAttribute(a)||"";T=t+T;var b=u.get(T);b?b.push(v):u.set(T,[v])}}return u}function pm(t,a,s){t=t.ownerDocument||t,t.head.insertBefore(s,a==="title"?t.querySelector("head > title"):null)}function c_(t,a,s){if(s===1||a.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return t=a.disabled,typeof a.precedence=="string"&&t==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function mm(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function d_(t,a,s,u){if(s.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var p=ja(u.href),v=a.querySelector(us(p));if(v){a=v._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(t.count++,t=Gl.bind(t),a.then(t,t)),s.state.loading|=4,s.instance=v,Le(v);return}v=a.ownerDocument||a,u=dm(u),(p=mn.get(p))&&Mc(u,p),v=v.createElement("link"),Le(v);var T=v;T._p=new Promise(function(b,w){T.onload=b,T.onerror=w}),wt(v,"link",u),s.instance=v}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,a),(a=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=Gl.bind(t),a.addEventListener("load",s),a.addEventListener("error",s))}}var kc=0;function f_(t,a){return t.stylesheets&&t.count===0&&zl(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var u=setTimeout(function(){if(t.stylesheets&&zl(t,t.stylesheets),t.unsuspend){var v=t.unsuspend;t.unsuspend=null,v()}},6e4+a);0<t.imgBytes&&kc===0&&(kc=62500*JE());var p=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&zl(t,t.stylesheets),t.unsuspend)){var v=t.unsuspend;t.unsuspend=null,v()}},(t.imgBytes>kc?50:800)+a);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(u),clearTimeout(p)}}:null}function Gl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)zl(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Hl=null;function zl(t,a){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Hl=new Map,a.forEach(h_,t),Hl=null,Gl.call(t))}function h_(t,a){if(!(a.state.loading&4)){var s=Hl.get(t);if(s)var u=s.get(null);else{s=new Map,Hl.set(t,s);for(var p=t.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<p.length;v++){var T=p[v];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(s.set(T.dataset.precedence,T),u=T)}u&&s.set(null,u)}p=a.instance,T=p.getAttribute("data-precedence"),v=s.get(T)||u,v===u&&s.set(null,p),s.set(T,p),this.count++,u=Gl.bind(this),p.addEventListener("load",u),p.addEventListener("error",u),v?v.parentNode.insertBefore(p,v.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(p,t.firstChild)),a.state.loading|=4}}var ds={$$typeof:Y,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function p_(t,a,s,u,p,v,T,b,w){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=An(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=An(0),this.hiddenUpdates=An(null),this.identifierPrefix=u,this.onUncaughtError=p,this.onCaughtError=v,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function gm(t,a,s,u,p,v,T,b,w,L,V,J){return t=new p_(t,a,s,T,w,L,V,J,b),a=1,v===!0&&(a|=24),v=Kt(3,null,null,a),t.current=v,v.stateNode=t,a=du(),a.refCount++,t.pooledCache=a,a.refCount++,v.memoizedState={element:u,isDehydrated:s,cache:a},mu(v),t}function vm(t){return t?(t=Ia,t):Ia}function ym(t,a,s,u,p,v){p=vm(p),u.context===null?u.context=p:u.pendingContext=p,u=vi(a),u.payload={element:s},v=v===void 0?null:v,v!==null&&(u.callback=v),s=yi(t,u,a),s!==null&&(Ft(s,t,a),Bo(s,t,a))}function Em(t,a){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<a?s:a}}function Dc(t,a){Em(t,a),(t=t.alternate)&&Em(t,a)}function _m(t){if(t.tag===13||t.tag===31){var a=Zi(t,67108864);a!==null&&Ft(a,t,67108864),Dc(t,67108864)}}function Sm(t){if(t.tag===13||t.tag===31){var a=jt();a=bo(a);var s=Zi(t,a);s!==null&&Ft(s,t,a),Dc(t,a)}}var ql=!0;function m_(t,a,s,u){var p=A.T;A.T=null;var v=$.p;try{$.p=2,Uc(t,a,s,u)}finally{$.p=v,A.T=p}}function g_(t,a,s,u){var p=A.T;A.T=null;var v=$.p;try{$.p=8,Uc(t,a,s,u)}finally{$.p=v,A.T=p}}function Uc(t,a,s,u){if(ql){var p=Lc(u);if(p===null)_c(t,a,u,Vl,s),bm(t,u);else if(y_(p,t,a,s,u))u.stopPropagation();else if(bm(t,u),a&4&&-1<v_.indexOf(t)){for(;p!==null;){var v=Jt(p);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var T=Un(v.pendingLanes);if(T!==0){var b=v;for(b.pendingLanes|=2,b.entangledLanes|=2;T;){var w=1<<31-It(T);b.entanglements[1]|=w,T&=~w}In(v),(qe&6)===0&&(xl=mt()+500,os(0))}}break;case 31:case 13:b=Zi(v,2),b!==null&&Ft(b,v,2),wl(),Dc(v,2)}if(v=Lc(u),v===null&&_c(t,a,u,Vl,s),v===p)break;p=v}p!==null&&u.stopPropagation()}else _c(t,a,u,null,s)}}function Lc(t){return t=Or(t),Pc(t)}var Vl=null;function Pc(t){if(Vl=null,t=an(t),t!==null){var a=r(t);if(a===null)t=null;else{var s=a.tag;if(s===13){if(t=d(a),t!==null)return t;t=null}else if(s===31){if(t=h(a),t!==null)return t;t=null}else if(s===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;t=null}else a!==t&&(t=null)}}return Vl=t,null}function Tm(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Cr()){case Sa:return 2;case Ds:return 8;case qi:case Vi:return 32;case ri:return 268435456;default:return 32}default:return 32}}var Oc=!1,Ri=null,Mi=null,Ii=null,fs=new Map,hs=new Map,ki=[],v_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bm(t,a){switch(t){case"focusin":case"focusout":Ri=null;break;case"dragenter":case"dragleave":Mi=null;break;case"mouseover":case"mouseout":Ii=null;break;case"pointerover":case"pointerout":fs.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":hs.delete(a.pointerId)}}function ps(t,a,s,u,p,v){return t===null||t.nativeEvent!==v?(t={blockedOn:a,domEventName:s,eventSystemFlags:u,nativeEvent:v,targetContainers:[p]},a!==null&&(a=Jt(a),a!==null&&_m(a)),t):(t.eventSystemFlags|=u,a=t.targetContainers,p!==null&&a.indexOf(p)===-1&&a.push(p),t)}function y_(t,a,s,u,p){switch(a){case"focusin":return Ri=ps(Ri,t,a,s,u,p),!0;case"dragenter":return Mi=ps(Mi,t,a,s,u,p),!0;case"mouseover":return Ii=ps(Ii,t,a,s,u,p),!0;case"pointerover":var v=p.pointerId;return fs.set(v,ps(fs.get(v)||null,t,a,s,u,p)),!0;case"gotpointercapture":return v=p.pointerId,hs.set(v,ps(hs.get(v)||null,t,a,s,u,p)),!0}return!1}function xm(t){var a=an(t.target);if(a!==null){var s=r(a);if(s!==null){if(a=s.tag,a===13){if(a=d(s),a!==null){t.blockedOn=a,wo(t.priority,function(){Sm(s)});return}}else if(a===31){if(a=h(s),a!==null){t.blockedOn=a,wo(t.priority,function(){Sm(s)});return}}else if(a===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Bl(t){if(t.blockedOn!==null)return!1;for(var a=t.targetContainers;0<a.length;){var s=Lc(t.nativeEvent);if(s===null){s=t.nativeEvent;var u=new s.constructor(s.type,s);Pr=u,s.target.dispatchEvent(u),Pr=null}else return a=Jt(s),a!==null&&_m(a),t.blockedOn=s,!1;a.shift()}return!0}function Cm(t,a,s){Bl(t)&&s.delete(a)}function E_(){Oc=!1,Ri!==null&&Bl(Ri)&&(Ri=null),Mi!==null&&Bl(Mi)&&(Mi=null),Ii!==null&&Bl(Ii)&&(Ii=null),fs.forEach(Cm),hs.forEach(Cm)}function Fl(t,a){t.blockedOn===a&&(t.blockedOn=null,Oc||(Oc=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,E_)))}var $l=null;function wm(t){$l!==t&&($l=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){$l===t&&($l=null);for(var a=0;a<t.length;a+=3){var s=t[a],u=t[a+1],p=t[a+2];if(typeof u!="function"){if(Pc(u||s)===null)continue;break}var v=Jt(s);v!==null&&(t.splice(a,3),a-=3,Lu(v,{pending:!0,data:p,method:s.method,action:u},u,p))}}))}function to(t){function a(w){return Fl(w,t)}Ri!==null&&Fl(Ri,t),Mi!==null&&Fl(Mi,t),Ii!==null&&Fl(Ii,t),fs.forEach(a),hs.forEach(a);for(var s=0;s<ki.length;s++){var u=ki[s];u.blockedOn===t&&(u.blockedOn=null)}for(;0<ki.length&&(s=ki[0],s.blockedOn===null);)xm(s),s.blockedOn===null&&ki.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(u=0;u<s.length;u+=3){var p=s[u],v=s[u+1],T=p[X]||null;if(typeof v=="function")T||wm(s);else if(T){var b=null;if(v&&v.hasAttribute("formAction")){if(p=v,T=v[X]||null)b=T.formAction;else if(Pc(p)!==null)continue}else b=T.action;typeof b=="function"?s[u+1]=b:(s.splice(u,3),u-=3),wm(s)}}}function Am(){function t(v){v.canIntercept&&v.info==="react-transition"&&v.intercept({handler:function(){return new Promise(function(T){return p=T})},focusReset:"manual",scroll:"manual"})}function a(){p!==null&&(p(),p=null),u||setTimeout(s,20)}function s(){if(!u&&!navigation.transition){var v=navigation.currentEntry;v&&v.url!=null&&navigation.navigate(v.url,{state:v.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,p=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(s,100),function(){u=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),p!==null&&(p(),p=null)}}}function Gc(t){this._internalRoot=t}Jl.prototype.render=Gc.prototype.render=function(t){var a=this._internalRoot;if(a===null)throw Error(o(409));var s=a.current,u=jt();ym(s,u,t,a,null,null)},Jl.prototype.unmount=Gc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var a=t.containerInfo;ym(t.current,2,null,t,null,null),wl(),a[Ee]=null}};function Jl(t){this._internalRoot=t}Jl.prototype.unstable_scheduleHydration=function(t){if(t){var a=Co();t={blockedOn:null,target:t,priority:a};for(var s=0;s<ki.length&&a!==0&&a<ki[s].priority;s++);ki.splice(s,0,t),s===0&&xm(t)}};var Nm=e.version;if(Nm!=="19.2.4")throw Error(o(527,Nm,"19.2.4"));$.findDOMNode=function(t){var a=t._reactInternals;if(a===void 0)throw typeof t.render=="function"?Error(o(188)):(t=Object.keys(t).join(","),Error(o(268,t)));return t=m(a),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var __={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:A,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yl.isDisabled&&Yl.supportsFiber)try{ui=Yl.inject(__),Nt=Yl}catch{}}return ms.createRoot=function(t,a){if(!l(t))throw Error(o(299));var s=!1,u="",p=Lh,v=Ph,T=Oh;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError)),a=gm(t,1,!1,null,null,s,u,null,p,v,T,Am),t[Ee]=a.current,Ec(t),new Gc(a)},ms.hydrateRoot=function(t,a,s){if(!l(t))throw Error(o(299));var u=!1,p="",v=Lh,T=Ph,b=Oh,w=null;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(p=s.identifierPrefix),s.onUncaughtError!==void 0&&(v=s.onUncaughtError),s.onCaughtError!==void 0&&(T=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError),s.formState!==void 0&&(w=s.formState)),a=gm(t,1,!0,a,s??null,u,p,w,v,T,b,Am),a.context=vm(null),s=a.current,u=jt(),u=bo(u),p=vi(u),p.callback=null,yi(s,p,u),s=u,a.current.lanes=s,Ln(a,s),In(a),t[Ee]=a.current,Ec(t),new Jl(a)},ms.version="19.2.4",ms}var Pm;function R_(){if(Pm)return zc.exports;Pm=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),zc.exports=N_(),zc.exports}var M_=R_();const I_=Cd(M_);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k_=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Q0=(...n)=>n.filter((e,i,o)=>!!e&&e.trim()!==""&&o.indexOf(e)===i).join(" ").trim();/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var D_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U_=ne.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:r,iconNode:d,...h},g)=>ne.createElement("svg",{ref:g,...D_,width:e,height:e,stroke:n,strokeWidth:o?Number(i)*24/Number(e):i,className:Q0("lucide",l),...h},[...d.map(([m,y])=>ne.createElement(m,y)),...Array.isArray(r)?r:[r]]));/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=(n,e)=>{const i=ne.forwardRef(({className:o,...l},r)=>ne.createElement(U_,{ref:r,iconNode:e,className:Q0(`lucide-${k_(n)}`,o),...l}));return i.displayName=`${n}`,i};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L_=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],P_=de("Activity",L_);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O_=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],G_=de("Archive",O_);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H_=[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]],z_=de("ArrowUpNarrowWide",H_);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q_=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],V_=de("BadgeCheck",q_);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B_=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],Om=de("Banknote",B_);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F_=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]],$_=de("BrainCircuit",F_);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J_=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Y_=de("Briefcase",J_);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K_=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],X_=de("Building2",K_);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q_=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],Gm=de("CalendarDays",Q_);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z_=[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M17 14h-6",key:"bkmgh3"}],["path",{d:"M13 18H7",key:"bb0bb7"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 18h.01",key:"1bdyru"}]],W_=de("CalendarRange",Z_);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j_=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Z0=de("Check",j_);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eS=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],gs=de("ChevronDown",eS);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tS=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],nS=de("ChevronLeft",tS);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iS=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],aS=de("ChevronRight",iS);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oS=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],sS=de("ClipboardCheck",oS);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lS=[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]],Hm=de("Cpu",lS);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rS=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Fc=de("Download",rS);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 13v-1h6v1",key:"1bb014"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"M11 18h2",key:"12mj7e"}]],$c=de("FileType",uS);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cS=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],dS=de("FileWarning",cS);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m14.5 12.5-5 5",key:"b62r18"}],["path",{d:"m9.5 12.5 5 5",key:"1rk7el"}]],hS=de("FileX",fS);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pS=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],zm=de("Flame",pS);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mS=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],qm=de("FolderOpen",mS);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]],vS=de("Gauge",gS);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yS=[["path",{d:"m14.5 12.5-8 8a2.119 2.119 0 1 1-3-3l8-8",key:"15492f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m9 7 8 8",key:"5jnvq1"}],["path",{d:"m21 11-8-8",key:"z4y7zo"}]],ES=de("Gavel",yS);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _S=[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["line",{x1:"3",x2:"9",y1:"12",y2:"12",key:"1dyftd"}],["line",{x1:"15",x2:"21",y1:"12",y2:"12",key:"oup4p8"}]],SS=de("GitCommitHorizontal",_S);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TS=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],bS=de("HardDrive",TS);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],CS=de("History",xS);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]],Vm=de("Hourglass",wS);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AS=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],Bm=de("Inbox",AS);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NS=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],RS=de("LayoutDashboard",NS);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MS=[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]],bs=de("ListTodo",MS);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IS=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],ws=de("LoaderCircle",IS);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kS=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],DS=de("Lock",kS);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const US=[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],LS=de("Mic",US);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PS=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],OS=de("Pencil",PS);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Jc=de("Plus",GS);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HS=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],zS=de("RefreshCw",HS);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qS=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],VS=de("Save",qS);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BS=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],FS=de("Search",BS);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $S=[["path",{d:"M3.714 3.048a.498.498 0 0 0-.683.627l2.843 7.627a2 2 0 0 1 0 1.396l-2.842 7.627a.498.498 0 0 0 .682.627l18-8.5a.5.5 0 0 0 0-.904z",key:"117uat"}],["path",{d:"M6 12h16",key:"s4cdu5"}]],JS=de("SendHorizontal",$S);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YS=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Fm=de("Settings",YS);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KS=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],$m=de("ShieldAlert",KS);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XS=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],QS=de("ShieldCheck",XS);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZS=[["path",{d:"m10 20-1.25-2.5L6 18",key:"18frcb"}],["path",{d:"M10 4 8.75 6.5 6 6",key:"7mghy3"}],["path",{d:"m14 20 1.25-2.5L18 18",key:"1chtki"}],["path",{d:"m14 4 1.25 2.5L18 6",key:"1b4wsy"}],["path",{d:"m17 21-3-6h-4",key:"15hhxa"}],["path",{d:"m17 3-3 6 1.5 3",key:"11697g"}],["path",{d:"M2 12h6.5L10 9",key:"kv9z4n"}],["path",{d:"m20 10-1.5 2 1.5 2",key:"1swlpi"}],["path",{d:"M22 12h-6.5L14 15",key:"1mxi28"}],["path",{d:"m4 10 1.5 2L4 14",key:"k9enpj"}],["path",{d:"m7 21 3-6-1.5-3",key:"j8hb9u"}],["path",{d:"m7 3 3 6h4",key:"1otusx"}]],WS=de("Snowflake",ZS);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jS=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],Yc=de("Sparkles",jS);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],tT=de("Square",eT);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],iT=de("Target",nT);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aT=[["path",{d:"M10 2h4",key:"n1abiw"}],["path",{d:"M12 14v-4",key:"1evpnu"}],["path",{d:"M4 13a8 8 0 0 1 8-7 8 8 0 1 1-5.3 14L4 17.6",key:"1ts96g"}],["path",{d:"M9 17H4v5",key:"8t5av"}]],oT=de("TimerReset",aT);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],lT=de("Timer",sT);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],W0=de("Trash2",rT);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],cT=de("TriangleAlert",uT);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],j0=de("User",dT);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fT=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Jm=de("Wallet",fT);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],td=de("X",hT);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],mT=de("Zap",pT);var Xe=(n=>(n.OPEN="Open",n.CLOSED="Closed",n.PENDING="Pending",n))(Xe||{}),He=(n=>(n.MISSING="Missing",n.OPEN="Open",n.SUBMITTED="Submitted",n.PENDING="Pending",n.PAID="Paid",n.INTEND_NOT_TO_BILL="Intend Not to Bill",n))(He||{});const gT=Object.prototype.toString,vT=n=>gT.call(n)==="[object Error]",yT=new Set(["network error","Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed","fetch failed","terminated"," A network error occurred.","Network connection lost"]);function ET(n){if(!(n&&vT(n)&&n.name==="TypeError"&&typeof n.message=="string"))return!1;const{message:i,stack:o}=n;return i==="Load failed"?o===void 0||"__sentry_captured__"in n:i.startsWith("error sending request for url")?!0:yT.has(i)}function _T(n){if(typeof n=="number"){if(n<0)throw new TypeError("Expected `retries` to be a non-negative number.");if(Number.isNaN(n))throw new TypeError("Expected `retries` to be a valid number or Infinity, got NaN.")}else if(n!==void 0)throw new TypeError("Expected `retries` to be a number or Infinity.")}function Kl(n,e,{min:i=0,allowInfinity:o=!1}={}){if(e!==void 0){if(typeof e!="number"||Number.isNaN(e))throw new TypeError(`Expected \`${n}\` to be a number${o?" or Infinity":""}.`);if(!o&&!Number.isFinite(e))throw new TypeError(`Expected \`${n}\` to be a finite number.`);if(e<i)throw new TypeError(`Expected \`${n}\` to be  ${i}.`)}}class ev extends Error{constructor(e){super(),e instanceof Error?(this.originalError=e,{message:e}=e):(this.originalError=new Error(e),this.originalError.stack=this.stack),this.name="AbortError",this.message=e}}function ST(n,e){const i=Math.max(1,n+1),o=e.randomize?Math.random()+1:1;let l=Math.round(o*e.minTimeout*e.factor**(i-1));return l=Math.min(l,e.maxTimeout),l}function Ym(n,e){return Number.isFinite(e)?e-(performance.now()-n):e}async function TT({error:n,attemptNumber:e,retriesConsumed:i,startTime:o,options:l}){var C,N,D,I;const r=n instanceof Error?n:new TypeError(`Non-error was thrown: "${n}". You should only throw errors.`);if(r instanceof ev)throw r.originalError;const d=Number.isFinite(l.retries)?Math.max(0,l.retries-i):l.retries,h=l.maxRetryTime??Number.POSITIVE_INFINITY,g=Object.freeze({error:r,attemptNumber:e,retriesLeft:d,retriesConsumed:i});if(await l.onFailedAttempt(g),Ym(o,h)<=0)throw r;const m=await l.shouldConsumeRetry(g),y=Ym(o,h);if(y<=0||d<=0)throw r;if(r instanceof TypeError&&!ET(r)){if(m)throw r;return(C=l.signal)==null||C.throwIfAborted(),!1}if(!await l.shouldRetry(g))throw r;if(!m)return(N=l.signal)==null||N.throwIfAborted(),!1;const _=ST(i,l),S=Math.min(_,y);return(D=l.signal)==null||D.throwIfAborted(),S>0&&await new Promise((H,Q)=>{var Z,q;const Y=()=>{var W;clearTimeout(K),(W=l.signal)==null||W.removeEventListener("abort",Y),Q(l.signal.reason)},K=setTimeout(()=>{var W;(W=l.signal)==null||W.removeEventListener("abort",Y),H()},S);l.unref&&((Z=K.unref)==null||Z.call(K)),(q=l.signal)==null||q.addEventListener("abort",Y,{once:!0})}),(I=l.signal)==null||I.throwIfAborted(),!0}async function bT(n,e={}){var r,d,h;if(e={...e},_T(e.retries),Object.hasOwn(e,"forever"))throw new Error("The `forever` option is no longer supported. For many use-cases, you can set `retries: Infinity` instead.");e.retries??(e.retries=10),e.factor??(e.factor=2),e.minTimeout??(e.minTimeout=1e3),e.maxTimeout??(e.maxTimeout=Number.POSITIVE_INFINITY),e.maxRetryTime??(e.maxRetryTime=Number.POSITIVE_INFINITY),e.randomize??(e.randomize=!1),e.onFailedAttempt??(e.onFailedAttempt=()=>{}),e.shouldRetry??(e.shouldRetry=()=>!0),e.shouldConsumeRetry??(e.shouldConsumeRetry=()=>!0),Kl("factor",e.factor,{min:0,allowInfinity:!1}),Kl("minTimeout",e.minTimeout,{min:0,allowInfinity:!1}),Kl("maxTimeout",e.maxTimeout,{min:0,allowInfinity:!0}),Kl("maxRetryTime",e.maxRetryTime,{min:0,allowInfinity:!0}),e.factor>0||(e.factor=1),(r=e.signal)==null||r.throwIfAborted();let i=0,o=0;const l=performance.now();for(;!Number.isFinite(e.retries)||o<=e.retries;){i++;try{(d=e.signal)==null||d.throwIfAborted();const g=await n(i);return(h=e.signal)==null||h.throwIfAborted(),g}catch(g){await TT({error:g,attemptNumber:i,retriesConsumed:o,startTime:l,options:e})&&o++}}throw new Error("Retry attempts exhausted without throwing an error.")}var xT={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let CT,wT;function AT(){return{geminiUrl:CT,vertexUrl:wT}}function NT(n,e,i,o){var l,r;if(!(n!=null&&n.baseUrl)){const d=AT();return e?(l=d.vertexUrl)!==null&&l!==void 0?l:i:(r=d.geminiUrl)!==null&&r!==void 0?r:o}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ii{}function ae(n,e){const i=/\{([^}]+)\}/g;return n.replace(i,(o,l)=>{if(Object.prototype.hasOwnProperty.call(e,l)){const r=e[l];return r!=null?String(r):""}else throw new Error(`Key '${l}' not found in valueMap.`)})}function f(n,e,i){for(let r=0;r<e.length-1;r++){const d=e[r];if(d.endsWith("[]")){const h=d.slice(0,-2);if(!(h in n))if(Array.isArray(i))n[h]=Array.from({length:i.length},()=>({}));else throw new Error(`Value must be a list given an array path ${d}`);if(Array.isArray(n[h])){const g=n[h];if(Array.isArray(i))for(let m=0;m<g.length;m++){const y=g[m];f(y,e.slice(r+1),i[m])}else for(const m of g)f(m,e.slice(r+1),i)}return}else if(d.endsWith("[0]")){const h=d.slice(0,-3);h in n||(n[h]=[{}]);const g=n[h];f(g[0],e.slice(r+1),i);return}(!n[d]||typeof n[d]!="object")&&(n[d]={}),n=n[d]}const o=e[e.length-1],l=n[o];if(l!==void 0){if(!i||typeof i=="object"&&Object.keys(i).length===0||i===l)return;if(typeof l=="object"&&typeof i=="object"&&l!==null&&i!==null)Object.assign(l,i);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else o==="_self"&&typeof i=="object"&&i!==null&&!Array.isArray(i)?Object.assign(n,i):n[o]=i}function c(n,e,i=void 0){try{if(e.length===1&&e[0]==="_self")return n;for(let o=0;o<e.length;o++){if(typeof n!="object"||n===null)return i;const l=e[o];if(l.endsWith("[]")){const r=l.slice(0,-2);if(r in n){const d=n[r];return Array.isArray(d)?d.map(h=>c(h,e.slice(o+1),i)):i}else return i}else n=n[l]}return n}catch(o){if(o instanceof TypeError)return i;throw o}}function RT(n,e){for(const[i,o]of Object.entries(e)){const l=i.split("."),r=o.split("."),d=new Set;let h=-1;for(let g=0;g<l.length;g++)if(l[g]==="*"){h=g;break}if(h!==-1&&r.length>h)for(let g=h;g<r.length;g++){const m=r[g];m!=="*"&&!m.endsWith("[]")&&!m.endsWith("[0]")&&d.add(m)}nd(n,l,r,0,d)}}function nd(n,e,i,o,l){if(o>=e.length||typeof n!="object"||n===null)return;const r=e[o];if(r.endsWith("[]")){const d=r.slice(0,-2),h=n;if(d in h&&Array.isArray(h[d]))for(const g of h[d])nd(g,e,i,o+1,l)}else if(r==="*"){if(typeof n=="object"&&n!==null&&!Array.isArray(n)){const d=n,h=Object.keys(d).filter(m=>!m.startsWith("_")&&!l.has(m)),g={};for(const m of h)g[m]=d[m];for(const[m,y]of Object.entries(g)){const _=[];for(const S of i.slice(o))S==="*"?_.push(m):_.push(S);f(d,_,y)}for(const m of h)delete d[m]}}else{const d=n;r in d&&nd(d[r],e,i,o+1,l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ad(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function MT(n){const e={},i=c(n,["operationName"]);i!=null&&f(e,["operationName"],i);const o=c(n,["resourceName"]);return o!=null&&f(e,["_url","resourceName"],o),e}function IT(n){const e={},i=c(n,["name"]);i!=null&&f(e,["name"],i);const o=c(n,["metadata"]);o!=null&&f(e,["metadata"],o);const l=c(n,["done"]);l!=null&&f(e,["done"],l);const r=c(n,["error"]);r!=null&&f(e,["error"],r);const d=c(n,["response","generateVideoResponse"]);return d!=null&&f(e,["response"],DT(d)),e}function kT(n){const e={},i=c(n,["name"]);i!=null&&f(e,["name"],i);const o=c(n,["metadata"]);o!=null&&f(e,["metadata"],o);const l=c(n,["done"]);l!=null&&f(e,["done"],l);const r=c(n,["error"]);r!=null&&f(e,["error"],r);const d=c(n,["response"]);return d!=null&&f(e,["response"],UT(d)),e}function DT(n){const e={},i=c(n,["generatedSamples"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(d=>LT(d))),f(e,["generatedVideos"],r)}const o=c(n,["raiMediaFilteredCount"]);o!=null&&f(e,["raiMediaFilteredCount"],o);const l=c(n,["raiMediaFilteredReasons"]);return l!=null&&f(e,["raiMediaFilteredReasons"],l),e}function UT(n){const e={},i=c(n,["videos"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(d=>PT(d))),f(e,["generatedVideos"],r)}const o=c(n,["raiMediaFilteredCount"]);o!=null&&f(e,["raiMediaFilteredCount"],o);const l=c(n,["raiMediaFilteredReasons"]);return l!=null&&f(e,["raiMediaFilteredReasons"],l),e}function LT(n){const e={},i=c(n,["video"]);return i!=null&&f(e,["video"],VT(i)),e}function PT(n){const e={},i=c(n,["_self"]);return i!=null&&f(e,["video"],BT(i)),e}function OT(n){const e={},i=c(n,["operationName"]);return i!=null&&f(e,["_url","operationName"],i),e}function GT(n){const e={},i=c(n,["operationName"]);return i!=null&&f(e,["_url","operationName"],i),e}function HT(n){const e={},i=c(n,["name"]);i!=null&&f(e,["name"],i);const o=c(n,["metadata"]);o!=null&&f(e,["metadata"],o);const l=c(n,["done"]);l!=null&&f(e,["done"],l);const r=c(n,["error"]);r!=null&&f(e,["error"],r);const d=c(n,["response"]);return d!=null&&f(e,["response"],zT(d)),e}function zT(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const o=c(n,["parent"]);o!=null&&f(e,["parent"],o);const l=c(n,["documentName"]);return l!=null&&f(e,["documentName"],l),e}function tv(n){const e={},i=c(n,["name"]);i!=null&&f(e,["name"],i);const o=c(n,["metadata"]);o!=null&&f(e,["metadata"],o);const l=c(n,["done"]);l!=null&&f(e,["done"],l);const r=c(n,["error"]);r!=null&&f(e,["error"],r);const d=c(n,["response"]);return d!=null&&f(e,["response"],qT(d)),e}function qT(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const o=c(n,["parent"]);o!=null&&f(e,["parent"],o);const l=c(n,["documentName"]);return l!=null&&f(e,["documentName"],l),e}function VT(n){const e={},i=c(n,["uri"]);i!=null&&f(e,["uri"],i);const o=c(n,["encodedVideo"]);o!=null&&f(e,["videoBytes"],Ad(o));const l=c(n,["encoding"]);return l!=null&&f(e,["mimeType"],l),e}function BT(n){const e={},i=c(n,["gcsUri"]);i!=null&&f(e,["uri"],i);const o=c(n,["bytesBase64Encoded"]);o!=null&&f(e,["videoBytes"],Ad(o));const l=c(n,["mimeType"]);return l!=null&&f(e,["mimeType"],l),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Km;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Km||(Km={}));var Xm;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(Xm||(Xm={}));var Qm;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(Qm||(Qm={}));var We;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(We||(We={}));var Zm;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Zm||(Zm={}));var Wm;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(Wm||(Wm={}));var jm;(function(n){n.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",n.HTTP_IN_QUERY="HTTP_IN_QUERY",n.HTTP_IN_HEADER="HTTP_IN_HEADER",n.HTTP_IN_PATH="HTTP_IN_PATH",n.HTTP_IN_BODY="HTTP_IN_BODY",n.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(jm||(jm={}));var eg;(function(n){n.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",n.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",n.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",n.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(eg||(eg={}));var tg;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(tg||(tg={}));var ng;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(ng||(ng={}));var ig;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})(ig||(ig={}));var ag;(function(n){n.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH",n.MINIMAL="MINIMAL"})(ag||(ag={}));var og;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(og||(og={}));var sg;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(sg||(sg={}));var lg;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(lg||(lg={}));var rg;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",n.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",n.NO_IMAGE="NO_IMAGE",n.IMAGE_RECITATION="IMAGE_RECITATION",n.IMAGE_OTHER="IMAGE_OTHER"})(rg||(rg={}));var ug;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(ug||(ug={}));var cg;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(cg||(cg={}));var dg;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(dg||(dg={}));var fg;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY",n.MODEL_ARMOR="MODEL_ARMOR",n.JAILBREAK="JAILBREAK"})(fg||(fg={}));var hg;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(hg||(hg={}));var rr;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(rr||(rr={}));var pg;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(pg||(pg={}));var mg;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(mg||(mg={}));var gg;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(gg||(gg={}));var id;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(id||(id={}));var vg;(function(n){n.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",n.TUNING_TASK_I2V="TUNING_TASK_I2V",n.TUNING_TASK_T2V="TUNING_TASK_T2V",n.TUNING_TASK_R2V="TUNING_TASK_R2V"})(vg||(vg={}));var yg;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",n.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(yg||(yg={}));var ad;(function(n){n.COLLECTION="COLLECTION"})(ad||(ad={}));var Eg;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(Eg||(Eg={}));var _g;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(_g||(_g={}));var Sg;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(Sg||(Sg={}));var Tg;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(Tg||(Tg={}));var bg;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(bg||(bg={}));var xg;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(xg||(xg={}));var Cg;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Cg||(Cg={}));var wg;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(wg||(wg={}));var Ag;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Ag||(Ag={}));var Ng;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})(Ng||(Ng={}));var Rg;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})(Rg||(Rg={}));var Mg;(function(n){n.INSERT="INSERT",n.REMOVE="REMOVE",n.REMOVE_STATIC="REMOVE_STATIC",n.OUTPAINT="OUTPAINT"})(Mg||(Mg={}));var Ig;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(Ig||(Ig={}));var kg;(function(n){n.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",n.PREFERENCE_TUNING="PREFERENCE_TUNING",n.DISTILLATION="DISTILLATION"})(kg||(kg={}));var Dg;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.STATE_PENDING="STATE_PENDING",n.STATE_ACTIVE="STATE_ACTIVE",n.STATE_FAILED="STATE_FAILED"})(Dg||(Dg={}));var Ug;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(Ug||(Ug={}));var Lg;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED",n.REGISTERED="REGISTERED"})(Lg||(Lg={}));var Pg;(function(n){n.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.RESPONSE_REJECTED="RESPONSE_REJECTED",n.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Pg||(Pg={}));var Og;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(Og||(Og={}));var Gg;(function(n){n.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",n.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",n.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(Gg||(Gg={}));var Hg;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.ACTIVITY_START="ACTIVITY_START",n.ACTIVITY_END="ACTIVITY_END"})(Hg||(Hg={}));var zg;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(zg||(zg={}));var qg;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(qg||(qg={}));var Vg;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(Vg||(Vg={}));var Bg;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Bg||(Bg={}));var Fg;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Fg||(Fg={}));var $g;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})($g||($g={}));var fo;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(fo||(fo={}));class od{constructor(e){const i={};for(const o of e.headers.entries())i[o[0]]=o[1];this.headers=i,this.responseInternal=e}json(){return this.responseInternal.json()}}class vs{get text(){var e,i,o,l,r,d,h,g;if(((l=(o=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let m="",y=!1;const _=[];for(const S of(g=(h=(d=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)!==null&&g!==void 0?g:[]){for(const[C,N]of Object.entries(S))C!=="text"&&C!=="thought"&&C!=="thoughtSignature"&&(N!==null||N!==void 0)&&_.push(C);if(typeof S.text=="string"){if(typeof S.thought=="boolean"&&S.thought)continue;y=!0,m+=S.text}}return _.length>0&&console.warn(`there are non-text parts ${_} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),y?m:void 0}get data(){var e,i,o,l,r,d,h,g;if(((l=(o=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let m="";const y=[];for(const _ of(g=(h=(d=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)!==null&&g!==void 0?g:[]){for(const[S,C]of Object.entries(_))S!=="inlineData"&&(C!==null||C!==void 0)&&y.push(S);_.inlineData&&typeof _.inlineData.data=="string"&&(m+=atob(_.inlineData.data))}return y.length>0&&console.warn(`there are non-data parts ${y} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),m.length>0?btoa(m):void 0}get functionCalls(){var e,i,o,l,r,d,h,g;if(((l=(o=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const m=(g=(h=(d=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)===null||g===void 0?void 0:g.filter(y=>y.functionCall).map(y=>y.functionCall).filter(y=>y!==void 0);if((m==null?void 0:m.length)!==0)return m}get executableCode(){var e,i,o,l,r,d,h,g,m;if(((l=(o=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const y=(g=(h=(d=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)===null||g===void 0?void 0:g.filter(_=>_.executableCode).map(_=>_.executableCode).filter(_=>_!==void 0);if((y==null?void 0:y.length)!==0)return(m=y==null?void 0:y[0])===null||m===void 0?void 0:m.code}get codeExecutionResult(){var e,i,o,l,r,d,h,g,m;if(((l=(o=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const y=(g=(h=(d=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)===null||g===void 0?void 0:g.filter(_=>_.codeExecutionResult).map(_=>_.codeExecutionResult).filter(_=>_!==void 0);if((y==null?void 0:y.length)!==0)return(m=y==null?void 0:y[0])===null||m===void 0?void 0:m.output}}class Jg{}class Yg{}class FT{}class $T{}class JT{}class YT{}class Kg{}class Xg{}class Qg{}class KT{}class ur{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const o=new ur;let l;const r=e;return i?l=kT(r):l=IT(r),Object.assign(o,l),o}}class Zg{}class Wg{}class jg{}class e0{}class XT{}class QT{}class ZT{}class Nd{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const o=new Nd,r=HT(e);return Object.assign(o,r),o}}class WT{}class jT{}class eb{}class tb{}class t0{}class nb{get text(){var e,i,o;let l="",r=!1;const d=[];for(const h of(o=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&o!==void 0?o:[]){for(const[g,m]of Object.entries(h))g!=="text"&&g!=="thought"&&m!==null&&d.push(g);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;r=!0,l+=h.text}}return d.length>0&&console.warn(`there are non-text parts ${d} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),r?l:void 0}get data(){var e,i,o;let l="";const r=[];for(const d of(o=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&o!==void 0?o:[]){for(const[h,g]of Object.entries(d))h!=="inlineData"&&g!==null&&r.push(h);d.inlineData&&typeof d.inlineData.data=="string"&&(l+=atob(d.inlineData.data))}return r.length>0&&console.warn(`there are non-data parts ${r} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),l.length>0?btoa(l):void 0}}class ib{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Rd{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const o=new Rd,r=tv(e);return Object.assign(o,r),o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ze(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const i=e.split("/",2);return`publishers/${i[0]}/models/${i[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function nv(n,e){const i=ze(n,e);return i?i.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${i}`:i.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${i}`:i:""}function iv(n){return Array.isArray(n)?n.map(e=>cr(e)):[cr(n)]}function cr(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function av(n){const e=cr(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function ov(n){const e=cr(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function n0(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function sv(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>n0(e)):[n0(n)]}function sd(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function i0(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function a0(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function Mt(n){if(n==null)throw new Error("ContentUnion is required");return sd(n)?n:{role:"user",parts:sv(n)}}function Md(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(i=>{const o=Mt(i);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(n.isVertexAI()){const i=Mt(e);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]}return Array.isArray(e)?e.map(i=>Mt(i)):[Mt(e)]}function vn(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(i0(n)||a0(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Mt(n)]}const e=[],i=[],o=sd(n[0]);for(const l of n){const r=sd(l);if(r!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(r)e.push(l);else{if(i0(l)||a0(l))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");i.push(l)}}return o||e.push({role:"user",parts:sv(i)}),e}function ab(n,e){n.includes("null")&&(e.nullable=!0);const i=n.filter(o=>o!=="null");if(i.length===1)e.type=Object.values(We).includes(i[0].toUpperCase())?i[0].toUpperCase():We.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const o of i)e.anyOf.push({type:Object.values(We).includes(o.toUpperCase())?o.toUpperCase():We.TYPE_UNSPECIFIED})}}function po(n){const e={},i=["items"],o=["anyOf"],l=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const r=n.anyOf;r!=null&&r.length==2&&(r[0].type==="null"?(e.nullable=!0,n=r[1]):r[1].type==="null"&&(e.nullable=!0,n=r[0])),n.type instanceof Array&&ab(n.type,e);for(const[d,h]of Object.entries(n))if(h!=null)if(d=="type"){if(h==="null")throw new Error("type: null can not be the only possible type for the field.");if(h instanceof Array)continue;e.type=Object.values(We).includes(h.toUpperCase())?h.toUpperCase():We.TYPE_UNSPECIFIED}else if(i.includes(d))e[d]=po(h);else if(o.includes(d)){const g=[];for(const m of h){if(m.type=="null"){e.nullable=!0;continue}g.push(po(m))}e[d]=g}else if(l.includes(d)){const g={};for(const[m,y]of Object.entries(h))g[m]=po(y);e[d]=g}else{if(d==="additionalProperties")continue;e[d]=h}return e}function Id(n){return po(n)}function kd(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function Dd(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function Eo(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=po(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=po(e.response));return n}function _o(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const i of n)e.push(i);return e}function ob(n,e,i,o=1){const l=!e.startsWith(`${i}/`)&&e.split("/").length===o;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${i}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:l?`projects/${n.getProject()}/locations/${n.getLocation()}/${i}/${e}`:e:l?`${i}/${e}`:e}function ai(n,e){if(typeof e!="string")throw new Error("name must be a string");return ob(n,e,"cachedContents")}function lv(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function Gi(n){return Ad(n)}function sb(n){return n!=null&&typeof n=="object"&&"name"in n}function lb(n){return n!=null&&typeof n=="object"&&"video"in n}function rb(n){return n!=null&&typeof n=="object"&&"uri"in n}function rv(n){var e;let i;if(sb(n)&&(i=n.name),!(rb(n)&&(i=n.uri,i===void 0))&&!(lb(n)&&(i=(e=n.video)===null||e===void 0?void 0:e.uri,i===void 0))){if(typeof n=="string"&&(i=n),i===void 0)throw new Error("Could not extract file name from the provided input.");if(i.startsWith("https://")){const l=i.split("files/")[1].match(/[a-z0-9]+/);if(l===null)throw new Error(`Could not extract file name from URI ${i}`);i=l[0]}else i.startsWith("files/")&&(i=i.split("files/")[1]);return i}}function uv(n,e){let i;return n.isVertexAI()?i=e?"publishers/google/models":"models":i=e?"models":"tunedModels",i}function cv(n){for(const e of["models","tunedModels","publisherModels"])if(ub(n,e))return n[e];return[]}function ub(n,e){return n!==null&&typeof n=="object"&&e in n}function cb(n,e={}){const i=n,o={name:i.name,description:i.description,parametersJsonSchema:i.inputSchema};return i.outputSchema&&(o.responseJsonSchema=i.outputSchema),e.behavior&&(o.behavior=e.behavior),{functionDeclarations:[o]}}function db(n,e={}){const i=[],o=new Set;for(const l of n){const r=l.name;if(o.has(r))throw new Error(`Duplicate function name ${r} found in MCP tools. Please ensure function names are unique.`);o.add(r);const d=cb(l,e);d.functionDeclarations&&i.push(...d.functionDeclarations)}return{functionDeclarations:i}}function dv(n,e){let i;if(typeof e=="string")if(n.isVertexAI())if(e.startsWith("gs://"))i={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))i={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))i={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(n.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");i={inlinedRequests:e}}else i=e;const o=[i.gcsUri,i.bigqueryUri].filter(Boolean).length,l=[i.inlinedRequests,i.fileName].filter(Boolean).length;if(n.isVertexAI()){if(l>0||o!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(o>0||l!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return i}function fb(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function fv(n){if(typeof n!="object"||n===null)return{};const e=n,i=e.inlinedResponses;if(typeof i!="object"||i===null)return n;const l=i.inlinedResponses;if(!Array.isArray(l)||l.length===0)return n;let r=!1;for(const d of l){if(typeof d!="object"||d===null)continue;const g=d.response;if(typeof g!="object"||g===null)continue;if(g.embedding!==void 0){r=!0;break}}return r&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),n}function So(n,e){const i=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(i))return i.split("/").pop();throw new Error(`Invalid batch job name: ${i}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(i))return i.split("/").pop();if(/^\d+$/.test(i))return i;throw new Error(`Invalid batch job name: ${i}.`)}function hv(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hb(n){const e={},i=c(n,["responsesFile"]);i!=null&&f(e,["fileName"],i);const o=c(n,["inlinedResponses","inlinedResponses"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(d=>Yb(d))),f(e,["inlinedResponses"],r)}const l=c(n,["inlinedEmbedContentResponses","inlinedResponses"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(d=>d)),f(e,["inlinedEmbedContentResponses"],r)}return e}function pb(n){const e={},i=c(n,["predictionsFormat"]);i!=null&&f(e,["format"],i);const o=c(n,["gcsDestination","outputUriPrefix"]);o!=null&&f(e,["gcsUri"],o);const l=c(n,["bigqueryDestination","outputUri"]);return l!=null&&f(e,["bigqueryUri"],l),e}function mb(n){const e={},i=c(n,["format"]);i!=null&&f(e,["predictionsFormat"],i);const o=c(n,["gcsUri"]);o!=null&&f(e,["gcsDestination","outputUriPrefix"],o);const l=c(n,["bigqueryUri"]);if(l!=null&&f(e,["bigqueryDestination","outputUri"],l),c(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(c(n,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function sr(n){const e={},i=c(n,["name"]);i!=null&&f(e,["name"],i);const o=c(n,["metadata","displayName"]);o!=null&&f(e,["displayName"],o);const l=c(n,["metadata","state"]);l!=null&&f(e,["state"],hv(l));const r=c(n,["metadata","createTime"]);r!=null&&f(e,["createTime"],r);const d=c(n,["metadata","endTime"]);d!=null&&f(e,["endTime"],d);const h=c(n,["metadata","updateTime"]);h!=null&&f(e,["updateTime"],h);const g=c(n,["metadata","model"]);g!=null&&f(e,["model"],g);const m=c(n,["metadata","output"]);return m!=null&&f(e,["dest"],hb(fv(m))),e}function ld(n){const e={},i=c(n,["name"]);i!=null&&f(e,["name"],i);const o=c(n,["displayName"]);o!=null&&f(e,["displayName"],o);const l=c(n,["state"]);l!=null&&f(e,["state"],hv(l));const r=c(n,["error"]);r!=null&&f(e,["error"],r);const d=c(n,["createTime"]);d!=null&&f(e,["createTime"],d);const h=c(n,["startTime"]);h!=null&&f(e,["startTime"],h);const g=c(n,["endTime"]);g!=null&&f(e,["endTime"],g);const m=c(n,["updateTime"]);m!=null&&f(e,["updateTime"],m);const y=c(n,["model"]);y!=null&&f(e,["model"],y);const _=c(n,["inputConfig"]);_!=null&&f(e,["src"],gb(_));const S=c(n,["outputConfig"]);S!=null&&f(e,["dest"],pb(fv(S)));const C=c(n,["completionStats"]);return C!=null&&f(e,["completionStats"],C),e}function gb(n){const e={},i=c(n,["instancesFormat"]);i!=null&&f(e,["format"],i);const o=c(n,["gcsSource","uris"]);o!=null&&f(e,["gcsUri"],o);const l=c(n,["bigquerySource","inputUri"]);return l!=null&&f(e,["bigqueryUri"],l),e}function vb(n,e){const i={};if(c(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(c(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const o=c(e,["fileName"]);o!=null&&f(i,["fileName"],o);const l=c(e,["inlinedRequests"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(d=>Jb(n,d))),f(i,["requests","requests"],r)}return i}function yb(n){const e={},i=c(n,["format"]);i!=null&&f(e,["instancesFormat"],i);const o=c(n,["gcsUri"]);o!=null&&f(e,["gcsSource","uris"],o);const l=c(n,["bigqueryUri"]);if(l!=null&&f(e,["bigquerySource","inputUri"],l),c(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Eb(n){const e={},i=c(n,["data"]);if(i!=null&&f(e,["data"],i),c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(n,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}function _b(n,e){const i={},o=c(e,["name"]);return o!=null&&f(i,["_url","name"],So(n,o)),i}function Sb(n,e){const i={},o=c(e,["name"]);return o!=null&&f(i,["_url","name"],So(n,o)),i}function Tb(n){const e={},i=c(n,["content"]);i!=null&&f(e,["content"],i);const o=c(n,["citationMetadata"]);o!=null&&f(e,["citationMetadata"],bb(o));const l=c(n,["tokenCount"]);l!=null&&f(e,["tokenCount"],l);const r=c(n,["finishReason"]);r!=null&&f(e,["finishReason"],r);const d=c(n,["avgLogprobs"]);d!=null&&f(e,["avgLogprobs"],d);const h=c(n,["groundingMetadata"]);h!=null&&f(e,["groundingMetadata"],h);const g=c(n,["index"]);g!=null&&f(e,["index"],g);const m=c(n,["logprobsResult"]);m!=null&&f(e,["logprobsResult"],m);const y=c(n,["safetyRatings"]);if(y!=null){let S=y;Array.isArray(S)&&(S=S.map(C=>C)),f(e,["safetyRatings"],S)}const _=c(n,["urlContextMetadata"]);return _!=null&&f(e,["urlContextMetadata"],_),e}function bb(n){const e={},i=c(n,["citationSources"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),f(e,["citations"],o)}return e}function pv(n){const e={},i=c(n,["parts"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(r=>ex(r))),f(e,["parts"],l)}const o=c(n,["role"]);return o!=null&&f(e,["role"],o),e}function xb(n,e){const i={},o=c(n,["displayName"]);if(e!==void 0&&o!=null&&f(e,["batch","displayName"],o),c(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return i}function Cb(n,e){const i={},o=c(n,["displayName"]);e!==void 0&&o!=null&&f(e,["displayName"],o);const l=c(n,["dest"]);return e!==void 0&&l!=null&&f(e,["outputConfig"],mb(fb(l))),i}function o0(n,e){const i={},o=c(e,["model"]);o!=null&&f(i,["_url","model"],ze(n,o));const l=c(e,["src"]);l!=null&&f(i,["batch","inputConfig"],vb(n,dv(n,l)));const r=c(e,["config"]);return r!=null&&xb(r,i),i}function wb(n,e){const i={},o=c(e,["model"]);o!=null&&f(i,["model"],ze(n,o));const l=c(e,["src"]);l!=null&&f(i,["inputConfig"],yb(dv(n,l)));const r=c(e,["config"]);return r!=null&&Cb(r,i),i}function Ab(n,e){const i={},o=c(n,["displayName"]);return e!==void 0&&o!=null&&f(e,["batch","displayName"],o),i}function Nb(n,e){const i={},o=c(e,["model"]);o!=null&&f(i,["_url","model"],ze(n,o));const l=c(e,["src"]);l!=null&&f(i,["batch","inputConfig"],Lb(n,l));const r=c(e,["config"]);return r!=null&&Ab(r,i),i}function Rb(n,e){const i={},o=c(e,["name"]);return o!=null&&f(i,["_url","name"],So(n,o)),i}function Mb(n,e){const i={},o=c(e,["name"]);return o!=null&&f(i,["_url","name"],So(n,o)),i}function Ib(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const o=c(n,["name"]);o!=null&&f(e,["name"],o);const l=c(n,["done"]);l!=null&&f(e,["done"],l);const r=c(n,["error"]);return r!=null&&f(e,["error"],r),e}function kb(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const o=c(n,["name"]);o!=null&&f(e,["name"],o);const l=c(n,["done"]);l!=null&&f(e,["done"],l);const r=c(n,["error"]);return r!=null&&f(e,["error"],r),e}function Db(n,e){const i={},o=c(e,["contents"]);if(o!=null){let r=Md(n,o);Array.isArray(r)&&(r=r.map(d=>d)),f(i,["requests[]","request","content"],r)}const l=c(e,["config"]);return l!=null&&(f(i,["_self"],Ub(l,i)),RT(i,{"requests[].*":"requests[].request.*"})),i}function Ub(n,e){const i={},o=c(n,["taskType"]);e!==void 0&&o!=null&&f(e,["requests[]","taskType"],o);const l=c(n,["title"]);e!==void 0&&l!=null&&f(e,["requests[]","title"],l);const r=c(n,["outputDimensionality"]);if(e!==void 0&&r!=null&&f(e,["requests[]","outputDimensionality"],r),c(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function Lb(n,e){const i={},o=c(e,["fileName"]);o!=null&&f(i,["file_name"],o);const l=c(e,["inlinedRequests"]);return l!=null&&f(i,["requests"],Db(n,l)),i}function Pb(n){const e={};if(c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=c(n,["fileUri"]);i!=null&&f(e,["fileUri"],i);const o=c(n,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}function Ob(n){const e={},i=c(n,["id"]);i!=null&&f(e,["id"],i);const o=c(n,["args"]);o!=null&&f(e,["args"],o);const l=c(n,["name"]);if(l!=null&&f(e,["name"],l),c(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Gb(n){const e={},i=c(n,["allowedFunctionNames"]);i!=null&&f(e,["allowedFunctionNames"],i);const o=c(n,["mode"]);if(o!=null&&f(e,["mode"],o),c(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Hb(n,e,i){const o={},l=c(e,["systemInstruction"]);i!==void 0&&l!=null&&f(i,["systemInstruction"],pv(Mt(l)));const r=c(e,["temperature"]);r!=null&&f(o,["temperature"],r);const d=c(e,["topP"]);d!=null&&f(o,["topP"],d);const h=c(e,["topK"]);h!=null&&f(o,["topK"],h);const g=c(e,["candidateCount"]);g!=null&&f(o,["candidateCount"],g);const m=c(e,["maxOutputTokens"]);m!=null&&f(o,["maxOutputTokens"],m);const y=c(e,["stopSequences"]);y!=null&&f(o,["stopSequences"],y);const _=c(e,["responseLogprobs"]);_!=null&&f(o,["responseLogprobs"],_);const S=c(e,["logprobs"]);S!=null&&f(o,["logprobs"],S);const C=c(e,["presencePenalty"]);C!=null&&f(o,["presencePenalty"],C);const N=c(e,["frequencyPenalty"]);N!=null&&f(o,["frequencyPenalty"],N);const D=c(e,["seed"]);D!=null&&f(o,["seed"],D);const I=c(e,["responseMimeType"]);I!=null&&f(o,["responseMimeType"],I);const H=c(e,["responseSchema"]);H!=null&&f(o,["responseSchema"],Id(H));const Q=c(e,["responseJsonSchema"]);if(Q!=null&&f(o,["responseJsonSchema"],Q),c(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const Y=c(e,["safetySettings"]);if(i!==void 0&&Y!=null){let Ve=Y;Array.isArray(Ve)&&(Ve=Ve.map(Be=>tx(Be))),f(i,["safetySettings"],Ve)}const K=c(e,["tools"]);if(i!==void 0&&K!=null){let Ve=_o(K);Array.isArray(Ve)&&(Ve=Ve.map(Be=>ix(Eo(Be)))),f(i,["tools"],Ve)}const Z=c(e,["toolConfig"]);if(i!==void 0&&Z!=null&&f(i,["toolConfig"],nx(Z)),c(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const q=c(e,["cachedContent"]);i!==void 0&&q!=null&&f(i,["cachedContent"],ai(n,q));const W=c(e,["responseModalities"]);W!=null&&f(o,["responseModalities"],W);const me=c(e,["mediaResolution"]);me!=null&&f(o,["mediaResolution"],me);const ee=c(e,["speechConfig"]);if(ee!=null&&f(o,["speechConfig"],kd(ee)),c(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const re=c(e,["thinkingConfig"]);re!=null&&f(o,["thinkingConfig"],re);const Te=c(e,["imageConfig"]);Te!=null&&f(o,["imageConfig"],$b(Te));const Pe=c(e,["enableEnhancedCivicAnswers"]);if(Pe!=null&&f(o,["enableEnhancedCivicAnswers"],Pe),c(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return o}function zb(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const o=c(n,["candidates"]);if(o!=null){let g=o;Array.isArray(g)&&(g=g.map(m=>Tb(m))),f(e,["candidates"],g)}const l=c(n,["modelVersion"]);l!=null&&f(e,["modelVersion"],l);const r=c(n,["promptFeedback"]);r!=null&&f(e,["promptFeedback"],r);const d=c(n,["responseId"]);d!=null&&f(e,["responseId"],d);const h=c(n,["usageMetadata"]);return h!=null&&f(e,["usageMetadata"],h),e}function qb(n,e){const i={},o=c(e,["name"]);return o!=null&&f(i,["_url","name"],So(n,o)),i}function Vb(n,e){const i={},o=c(e,["name"]);return o!=null&&f(i,["_url","name"],So(n,o)),i}function Bb(n){const e={};if(c(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=c(n,["enableWidget"]);return i!=null&&f(e,["enableWidget"],i),e}function Fb(n){const e={};if(c(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=c(n,["timeRangeFilter"]);return i!=null&&f(e,["timeRangeFilter"],i),e}function $b(n){const e={},i=c(n,["aspectRatio"]);i!=null&&f(e,["aspectRatio"],i);const o=c(n,["imageSize"]);if(o!=null&&f(e,["imageSize"],o),c(n,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(c(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(c(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Jb(n,e){const i={},o=c(e,["model"]);o!=null&&f(i,["request","model"],ze(n,o));const l=c(e,["contents"]);if(l!=null){let h=vn(l);Array.isArray(h)&&(h=h.map(g=>pv(g))),f(i,["request","contents"],h)}const r=c(e,["metadata"]);r!=null&&f(i,["metadata"],r);const d=c(e,["config"]);return d!=null&&f(i,["request","generationConfig"],Hb(n,d,c(i,["request"],{}))),i}function Yb(n){const e={},i=c(n,["response"]);i!=null&&f(e,["response"],zb(i));const o=c(n,["metadata"]);o!=null&&f(e,["metadata"],o);const l=c(n,["error"]);return l!=null&&f(e,["error"],l),e}function Kb(n,e){const i={},o=c(n,["pageSize"]);e!==void 0&&o!=null&&f(e,["_query","pageSize"],o);const l=c(n,["pageToken"]);if(e!==void 0&&l!=null&&f(e,["_query","pageToken"],l),c(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return i}function Xb(n,e){const i={},o=c(n,["pageSize"]);e!==void 0&&o!=null&&f(e,["_query","pageSize"],o);const l=c(n,["pageToken"]);e!==void 0&&l!=null&&f(e,["_query","pageToken"],l);const r=c(n,["filter"]);return e!==void 0&&r!=null&&f(e,["_query","filter"],r),i}function Qb(n){const e={},i=c(n,["config"]);return i!=null&&Kb(i,e),e}function Zb(n){const e={},i=c(n,["config"]);return i!=null&&Xb(i,e),e}function Wb(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const o=c(n,["nextPageToken"]);o!=null&&f(e,["nextPageToken"],o);const l=c(n,["operations"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(d=>sr(d))),f(e,["batchJobs"],r)}return e}function jb(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const o=c(n,["nextPageToken"]);o!=null&&f(e,["nextPageToken"],o);const l=c(n,["batchPredictionJobs"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(d=>ld(d))),f(e,["batchJobs"],r)}return e}function ex(n){const e={},i=c(n,["mediaResolution"]);i!=null&&f(e,["mediaResolution"],i);const o=c(n,["codeExecutionResult"]);o!=null&&f(e,["codeExecutionResult"],o);const l=c(n,["executableCode"]);l!=null&&f(e,["executableCode"],l);const r=c(n,["fileData"]);r!=null&&f(e,["fileData"],Pb(r));const d=c(n,["functionCall"]);d!=null&&f(e,["functionCall"],Ob(d));const h=c(n,["functionResponse"]);h!=null&&f(e,["functionResponse"],h);const g=c(n,["inlineData"]);g!=null&&f(e,["inlineData"],Eb(g));const m=c(n,["text"]);m!=null&&f(e,["text"],m);const y=c(n,["thought"]);y!=null&&f(e,["thought"],y);const _=c(n,["thoughtSignature"]);_!=null&&f(e,["thoughtSignature"],_);const S=c(n,["videoMetadata"]);return S!=null&&f(e,["videoMetadata"],S),e}function tx(n){const e={},i=c(n,["category"]);if(i!=null&&f(e,["category"],i),c(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=c(n,["threshold"]);return o!=null&&f(e,["threshold"],o),e}function nx(n){const e={},i=c(n,["retrievalConfig"]);i!=null&&f(e,["retrievalConfig"],i);const o=c(n,["functionCallingConfig"]);return o!=null&&f(e,["functionCallingConfig"],Gb(o)),e}function ix(n){const e={};if(c(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=c(n,["computerUse"]);i!=null&&f(e,["computerUse"],i);const o=c(n,["fileSearch"]);o!=null&&f(e,["fileSearch"],o);const l=c(n,["codeExecution"]);if(l!=null&&f(e,["codeExecution"],l),c(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const r=c(n,["functionDeclarations"]);if(r!=null){let y=r;Array.isArray(y)&&(y=y.map(_=>_)),f(e,["functionDeclarations"],y)}const d=c(n,["googleMaps"]);d!=null&&f(e,["googleMaps"],Bb(d));const h=c(n,["googleSearch"]);h!=null&&f(e,["googleSearch"],Fb(h));const g=c(n,["googleSearchRetrieval"]);g!=null&&f(e,["googleSearchRetrieval"],g);const m=c(n,["urlContext"]);return m!=null&&f(e,["urlContext"],m),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ni;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents",n.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",n.PAGED_ITEM_DOCUMENTS="documents"})(ni||(ni={}));class pa{constructor(e,i,o,l){this.pageInternal=[],this.paramsInternal={},this.requestInternal=i,this.init(e,o,l)}init(e,i,o){var l,r;this.nameInternal=e,this.pageInternal=i[this.nameInternal]||[],this.sdkHttpResponseInternal=i==null?void 0:i.sdkHttpResponse,this.idxInternal=0;let d={config:{}};!o||Object.keys(o).length===0?d={config:{}}:typeof o=="object"?d=Object.assign({},o):d=o,d.config&&(d.config.pageToken=i.nextPageToken),this.paramsInternal=d,this.pageInternalSize=(r=(l=d.config)===null||l===void 0?void 0:l.pageSize)!==null&&r!==void 0?r:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ax extends ii{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new pa(ni.PAGED_ITEM_BATCH_JOBS,o=>this.listInternal(o),await this.listInternal(i),i),this.create=async i=>(this.apiClient.isVertexAI()&&(i.config=this.formatDestination(i.src,i.config)),this.createInternal(i)),this.createEmbeddings=async i=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(i)}}createInlinedGenerateContentRequest(e){const i=o0(this.apiClient,e),o=i._url,l=ae("{model}:batchGenerateContent",o),h=i.batch.inputConfig.requests,g=h.requests,m=[];for(const y of g){const _=Object.assign({},y);if(_.systemInstruction){const S=_.systemInstruction;delete _.systemInstruction;const C=_.request;C.systemInstruction=S,_.request=C}m.push(_)}return h.requests=m,delete i.config,delete i._url,delete i._query,{path:l,body:i}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,i){const o=i?Object.assign({},i):{},l=Date.now().toString();if(o.displayName||(o.displayName=`genaiBatchJob_${l}`),o.dest===void 0){const r=this.getGcsUri(e),d=this.getBigqueryUri(e);if(r)r.endsWith(".jsonl")?o.dest=`${r.slice(0,-6)}/dest`:o.dest=`${r}_dest_${l}`;else if(d)o.dest=`${d}_dest_${l}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return o}async createInternal(e){var i,o,l,r;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=wb(this.apiClient,e);return h=ae("batchPredictionJobs",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),d.then(y=>ld(y))}else{const m=o0(this.apiClient,e);return h=ae("{model}:batchGenerateContent",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),d.then(y=>sr(y))}}async createEmbeddingsInternal(e){var i,o;let l,r="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Nb(this.apiClient,e);return r=ae("{model}:asyncBatchEmbedContent",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),l.then(g=>sr(g))}}async get(e){var i,o,l,r;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=Vb(this.apiClient,e);return h=ae("batchPredictionJobs/{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),d.then(y=>ld(y))}else{const m=qb(this.apiClient,e);return h=ae("batches/{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),d.then(y=>sr(y))}}async cancel(e){var i,o,l,r;let d="",h={};if(this.apiClient.isVertexAI()){const g=Sb(this.apiClient,e);d=ae("batchPredictionJobs/{name}:cancel",g._url),h=g._query,delete g._url,delete g._query,await this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{const g=_b(this.apiClient,e);d=ae("batches/{name}:cancel",g._url),h=g._query,delete g._url,delete g._query,await this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var i,o,l,r;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=Zb(e);return h=ae("batchPredictionJobs",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const _=jb(y),S=new t0;return Object.assign(S,_),S})}else{const m=Qb(e);return h=ae("batches",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const _=Wb(y),S=new t0;return Object.assign(S,_),S})}}async delete(e){var i,o,l,r;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=Mb(this.apiClient,e);return h=ae("batchPredictionJobs/{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>kb(y))}else{const m=Rb(this.apiClient,e);return h=ae("batches/{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>Ib(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ox(n){const e={},i=c(n,["data"]);if(i!=null&&f(e,["data"],i),c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(n,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}function s0(n){const e={},i=c(n,["parts"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(r=>Nx(r))),f(e,["parts"],l)}const o=c(n,["role"]);return o!=null&&f(e,["role"],o),e}function sx(n,e){const i={},o=c(n,["ttl"]);e!==void 0&&o!=null&&f(e,["ttl"],o);const l=c(n,["expireTime"]);e!==void 0&&l!=null&&f(e,["expireTime"],l);const r=c(n,["displayName"]);e!==void 0&&r!=null&&f(e,["displayName"],r);const d=c(n,["contents"]);if(e!==void 0&&d!=null){let y=vn(d);Array.isArray(y)&&(y=y.map(_=>s0(_))),f(e,["contents"],y)}const h=c(n,["systemInstruction"]);e!==void 0&&h!=null&&f(e,["systemInstruction"],s0(Mt(h)));const g=c(n,["tools"]);if(e!==void 0&&g!=null){let y=g;Array.isArray(y)&&(y=y.map(_=>Mx(_))),f(e,["tools"],y)}const m=c(n,["toolConfig"]);if(e!==void 0&&m!=null&&f(e,["toolConfig"],Rx(m)),c(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return i}function lx(n,e){const i={},o=c(n,["ttl"]);e!==void 0&&o!=null&&f(e,["ttl"],o);const l=c(n,["expireTime"]);e!==void 0&&l!=null&&f(e,["expireTime"],l);const r=c(n,["displayName"]);e!==void 0&&r!=null&&f(e,["displayName"],r);const d=c(n,["contents"]);if(e!==void 0&&d!=null){let _=vn(d);Array.isArray(_)&&(_=_.map(S=>S)),f(e,["contents"],_)}const h=c(n,["systemInstruction"]);e!==void 0&&h!=null&&f(e,["systemInstruction"],Mt(h));const g=c(n,["tools"]);if(e!==void 0&&g!=null){let _=g;Array.isArray(_)&&(_=_.map(S=>Ix(S))),f(e,["tools"],_)}const m=c(n,["toolConfig"]);e!==void 0&&m!=null&&f(e,["toolConfig"],m);const y=c(n,["kmsKeyName"]);return e!==void 0&&y!=null&&f(e,["encryption_spec","kmsKeyName"],y),i}function rx(n,e){const i={},o=c(e,["model"]);o!=null&&f(i,["model"],nv(n,o));const l=c(e,["config"]);return l!=null&&sx(l,i),i}function ux(n,e){const i={},o=c(e,["model"]);o!=null&&f(i,["model"],nv(n,o));const l=c(e,["config"]);return l!=null&&lx(l,i),i}function cx(n,e){const i={},o=c(e,["name"]);return o!=null&&f(i,["_url","name"],ai(n,o)),i}function dx(n,e){const i={},o=c(e,["name"]);return o!=null&&f(i,["_url","name"],ai(n,o)),i}function fx(n){const e={},i=c(n,["sdkHttpResponse"]);return i!=null&&f(e,["sdkHttpResponse"],i),e}function hx(n){const e={},i=c(n,["sdkHttpResponse"]);return i!=null&&f(e,["sdkHttpResponse"],i),e}function px(n){const e={};if(c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=c(n,["fileUri"]);i!=null&&f(e,["fileUri"],i);const o=c(n,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}function mx(n){const e={},i=c(n,["id"]);i!=null&&f(e,["id"],i);const o=c(n,["args"]);o!=null&&f(e,["args"],o);const l=c(n,["name"]);if(l!=null&&f(e,["name"],l),c(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function gx(n){const e={},i=c(n,["allowedFunctionNames"]);i!=null&&f(e,["allowedFunctionNames"],i);const o=c(n,["mode"]);if(o!=null&&f(e,["mode"],o),c(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function vx(n){const e={},i=c(n,["description"]);i!=null&&f(e,["description"],i);const o=c(n,["name"]);o!=null&&f(e,["name"],o);const l=c(n,["parameters"]);l!=null&&f(e,["parameters"],l);const r=c(n,["parametersJsonSchema"]);r!=null&&f(e,["parametersJsonSchema"],r);const d=c(n,["response"]);d!=null&&f(e,["response"],d);const h=c(n,["responseJsonSchema"]);if(h!=null&&f(e,["responseJsonSchema"],h),c(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function yx(n,e){const i={},o=c(e,["name"]);return o!=null&&f(i,["_url","name"],ai(n,o)),i}function Ex(n,e){const i={},o=c(e,["name"]);return o!=null&&f(i,["_url","name"],ai(n,o)),i}function _x(n){const e={};if(c(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=c(n,["enableWidget"]);return i!=null&&f(e,["enableWidget"],i),e}function Sx(n){const e={};if(c(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=c(n,["timeRangeFilter"]);return i!=null&&f(e,["timeRangeFilter"],i),e}function Tx(n,e){const i={},o=c(n,["pageSize"]);e!==void 0&&o!=null&&f(e,["_query","pageSize"],o);const l=c(n,["pageToken"]);return e!==void 0&&l!=null&&f(e,["_query","pageToken"],l),i}function bx(n,e){const i={},o=c(n,["pageSize"]);e!==void 0&&o!=null&&f(e,["_query","pageSize"],o);const l=c(n,["pageToken"]);return e!==void 0&&l!=null&&f(e,["_query","pageToken"],l),i}function xx(n){const e={},i=c(n,["config"]);return i!=null&&Tx(i,e),e}function Cx(n){const e={},i=c(n,["config"]);return i!=null&&bx(i,e),e}function wx(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const o=c(n,["nextPageToken"]);o!=null&&f(e,["nextPageToken"],o);const l=c(n,["cachedContents"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(d=>d)),f(e,["cachedContents"],r)}return e}function Ax(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const o=c(n,["nextPageToken"]);o!=null&&f(e,["nextPageToken"],o);const l=c(n,["cachedContents"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(d=>d)),f(e,["cachedContents"],r)}return e}function Nx(n){const e={},i=c(n,["mediaResolution"]);i!=null&&f(e,["mediaResolution"],i);const o=c(n,["codeExecutionResult"]);o!=null&&f(e,["codeExecutionResult"],o);const l=c(n,["executableCode"]);l!=null&&f(e,["executableCode"],l);const r=c(n,["fileData"]);r!=null&&f(e,["fileData"],px(r));const d=c(n,["functionCall"]);d!=null&&f(e,["functionCall"],mx(d));const h=c(n,["functionResponse"]);h!=null&&f(e,["functionResponse"],h);const g=c(n,["inlineData"]);g!=null&&f(e,["inlineData"],ox(g));const m=c(n,["text"]);m!=null&&f(e,["text"],m);const y=c(n,["thought"]);y!=null&&f(e,["thought"],y);const _=c(n,["thoughtSignature"]);_!=null&&f(e,["thoughtSignature"],_);const S=c(n,["videoMetadata"]);return S!=null&&f(e,["videoMetadata"],S),e}function Rx(n){const e={},i=c(n,["retrievalConfig"]);i!=null&&f(e,["retrievalConfig"],i);const o=c(n,["functionCallingConfig"]);return o!=null&&f(e,["functionCallingConfig"],gx(o)),e}function Mx(n){const e={};if(c(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=c(n,["computerUse"]);i!=null&&f(e,["computerUse"],i);const o=c(n,["fileSearch"]);o!=null&&f(e,["fileSearch"],o);const l=c(n,["codeExecution"]);if(l!=null&&f(e,["codeExecution"],l),c(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const r=c(n,["functionDeclarations"]);if(r!=null){let y=r;Array.isArray(y)&&(y=y.map(_=>_)),f(e,["functionDeclarations"],y)}const d=c(n,["googleMaps"]);d!=null&&f(e,["googleMaps"],_x(d));const h=c(n,["googleSearch"]);h!=null&&f(e,["googleSearch"],Sx(h));const g=c(n,["googleSearchRetrieval"]);g!=null&&f(e,["googleSearchRetrieval"],g);const m=c(n,["urlContext"]);return m!=null&&f(e,["urlContext"],m),e}function Ix(n){const e={},i=c(n,["retrieval"]);i!=null&&f(e,["retrieval"],i);const o=c(n,["computerUse"]);if(o!=null&&f(e,["computerUse"],o),c(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=c(n,["codeExecution"]);l!=null&&f(e,["codeExecution"],l);const r=c(n,["enterpriseWebSearch"]);r!=null&&f(e,["enterpriseWebSearch"],r);const d=c(n,["functionDeclarations"]);if(d!=null){let _=d;Array.isArray(_)&&(_=_.map(S=>vx(S))),f(e,["functionDeclarations"],_)}const h=c(n,["googleMaps"]);h!=null&&f(e,["googleMaps"],h);const g=c(n,["googleSearch"]);g!=null&&f(e,["googleSearch"],g);const m=c(n,["googleSearchRetrieval"]);m!=null&&f(e,["googleSearchRetrieval"],m);const y=c(n,["urlContext"]);return y!=null&&f(e,["urlContext"],y),e}function kx(n,e){const i={},o=c(n,["ttl"]);e!==void 0&&o!=null&&f(e,["ttl"],o);const l=c(n,["expireTime"]);return e!==void 0&&l!=null&&f(e,["expireTime"],l),i}function Dx(n,e){const i={},o=c(n,["ttl"]);e!==void 0&&o!=null&&f(e,["ttl"],o);const l=c(n,["expireTime"]);return e!==void 0&&l!=null&&f(e,["expireTime"],l),i}function Ux(n,e){const i={},o=c(e,["name"]);o!=null&&f(i,["_url","name"],ai(n,o));const l=c(e,["config"]);return l!=null&&kx(l,i),i}function Lx(n,e){const i={},o=c(e,["name"]);o!=null&&f(i,["_url","name"],ai(n,o));const l=c(e,["config"]);return l!=null&&Dx(l,i),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Px extends ii{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new pa(ni.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(i),i)}async create(e){var i,o,l,r;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=ux(this.apiClient,e);return h=ae("cachedContents",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),d.then(y=>y)}else{const m=rx(this.apiClient,e);return h=ae("cachedContents",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),d.then(y=>y)}}async get(e){var i,o,l,r;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=Ex(this.apiClient,e);return h=ae("{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),d.then(y=>y)}else{const m=yx(this.apiClient,e);return h=ae("{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),d.then(y=>y)}}async delete(e){var i,o,l,r;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=dx(this.apiClient,e);return h=ae("{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const _=hx(y),S=new jg;return Object.assign(S,_),S})}else{const m=cx(this.apiClient,e);return h=ae("{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const _=fx(y),S=new jg;return Object.assign(S,_),S})}}async update(e){var i,o,l,r;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=Lx(this.apiClient,e);return h=ae("{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),d.then(y=>y)}else{const m=Ux(this.apiClient,e);return h=ae("{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),d.then(y=>y)}}async listInternal(e){var i,o,l,r;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=Cx(e);return h=ae("cachedContents",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const _=Ax(y),S=new e0;return Object.assign(S,_),S})}else{const m=xx(e);return h=ae("cachedContents",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const _=wx(y),S=new e0;return Object.assign(S,_),S})}}}function dr(n,e){var i={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&e.indexOf(o)<0&&(i[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)e.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(i[o[l]]=n[o[l]]);return i}function l0(n){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&n[e],o=0;if(i)return i.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&o>=n.length&&(n=void 0),{value:n&&n[o++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ve(n){return this instanceof ve?(this.v=n,this):new ve(n)}function xn(n,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=i.apply(n,e||[]),l,r=[];return l=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",d),l[Symbol.asyncIterator]=function(){return this},l;function d(C){return function(N){return Promise.resolve(N).then(C,_)}}function h(C,N){o[C]&&(l[C]=function(D){return new Promise(function(I,H){r.push([C,D,I,H])>1||g(C,D)})},N&&(l[C]=N(l[C])))}function g(C,N){try{m(o[C](N))}catch(D){S(r[0][3],D)}}function m(C){C.value instanceof ve?Promise.resolve(C.value.v).then(y,_):S(r[0][2],C)}function y(C){g("next",C)}function _(C){g("throw",C)}function S(C,N){C(N),r.shift(),r.length&&g(r[0][0],r[0][1])}}function Cn(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],i;return e?e.call(n):(n=typeof l0=="function"?l0(n):n[Symbol.iterator](),i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i);function o(r){i[r]=n[r]&&function(d){return new Promise(function(h,g){d=n[r](d),l(h,g,d.done,d.value)})}}function l(r,d,h,g){Promise.resolve(g).then(function(m){r({value:m,done:h})},d)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ox(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const i=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return i===void 0?!1:mv(i)}function mv(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function Gx(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function r0(n){if(n===void 0||n.length===0)return[];const e=[],i=n.length;let o=0;for(;o<i;)if(n[o].role==="user")e.push(n[o]),o++;else{const l=[];let r=!0;for(;o<i&&n[o].role==="model";)l.push(n[o]),r&&!mv(n[o])&&(r=!1),o++;r?e.push(...l):e.pop()}return e}class Hx{constructor(e,i){this.modelsModule=e,this.apiClient=i}create(e){return new zx(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class zx{constructor(e,i,o,l={},r=[]){this.apiClient=e,this.modelsModule=i,this.model=o,this.config=l,this.history=r,this.sendPromise=Promise.resolve(),Gx(r)}async sendMessage(e){var i;await this.sendPromise;const o=Mt(e.message),l=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(i=e.config)!==null&&i!==void 0?i:this.config});return this.sendPromise=(async()=>{var r,d,h;const g=await l,m=(d=(r=g.candidates)===null||r===void 0?void 0:r[0])===null||d===void 0?void 0:d.content,y=g.automaticFunctionCallingHistory,_=this.getHistory(!0).length;let S=[];y!=null&&(S=(h=y.slice(_))!==null&&h!==void 0?h:[]);const C=m?[m]:[];this.recordHistory(o,C,S)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),l}async sendMessageStream(e){var i;await this.sendPromise;const o=Mt(e.message),l=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(i=e.config)!==null&&i!==void 0?i:this.config});this.sendPromise=l.then(()=>{}).catch(()=>{});const r=await l;return this.processStreamResponse(r,o)}getHistory(e=!1){const i=e?r0(this.history):this.history;return structuredClone(i)}processStreamResponse(e,i){return xn(this,arguments,function*(){var l,r,d,h,g,m;const y=[];try{for(var _=!0,S=Cn(e),C;C=yield ve(S.next()),l=C.done,!l;_=!0){h=C.value,_=!1;const N=h;if(Ox(N)){const D=(m=(g=N.candidates)===null||g===void 0?void 0:g[0])===null||m===void 0?void 0:m.content;D!==void 0&&y.push(D)}yield yield ve(N)}}catch(N){r={error:N}}finally{try{!_&&!l&&(d=S.return)&&(yield ve(d.call(S)))}finally{if(r)throw r.error}}this.recordHistory(i,y)})}recordHistory(e,i,o){let l=[];i.length>0&&i.every(r=>r.role!==void 0)?l=i:l.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...r0(o)):this.history.push(e),this.history.push(...l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Rs extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Rs.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qx(n){const e={},i=c(n,["file"]);return i!=null&&f(e,["file"],i),e}function Vx(n){const e={},i=c(n,["sdkHttpResponse"]);return i!=null&&f(e,["sdkHttpResponse"],i),e}function Bx(n){const e={},i=c(n,["name"]);return i!=null&&f(e,["_url","file"],rv(i)),e}function Fx(n){const e={},i=c(n,["sdkHttpResponse"]);return i!=null&&f(e,["sdkHttpResponse"],i),e}function $x(n){const e={},i=c(n,["name"]);return i!=null&&f(e,["_url","file"],rv(i)),e}function Jx(n){const e={},i=c(n,["uris"]);return i!=null&&f(e,["uris"],i),e}function Yx(n,e){const i={},o=c(n,["pageSize"]);e!==void 0&&o!=null&&f(e,["_query","pageSize"],o);const l=c(n,["pageToken"]);return e!==void 0&&l!=null&&f(e,["_query","pageToken"],l),i}function Kx(n){const e={},i=c(n,["config"]);return i!=null&&Yx(i,e),e}function Xx(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const o=c(n,["nextPageToken"]);o!=null&&f(e,["nextPageToken"],o);const l=c(n,["files"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(d=>d)),f(e,["files"],r)}return e}function Qx(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const o=c(n,["files"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(r=>r)),f(e,["files"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Zx extends ii{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new pa(ni.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(i),i)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(i=>i)}async download(e){await this.apiClient.downloadFile(e)}async registerFiles(e){throw new Error("registerFiles is only supported in Node.js environments.")}async _registerFiles(e){return this.registerFilesInternal(e)}async listInternal(e){var i,o;let l,r="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Kx(e);return r=ae("files",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:g.headers},y})),l.then(g=>{const m=Xx(g),y=new WT;return Object.assign(y,m),y})}}async createInternal(e){var i,o;let l,r="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=qx(e);return r=ae("upload/v1beta/files",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),l.then(g=>{const m=Vx(g),y=new jT;return Object.assign(y,m),y})}}async get(e){var i,o;let l,r="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=$x(e);return r=ae("files/{file}",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),l.then(g=>g)}}async delete(e){var i,o;let l,r="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Bx(e);return r=ae("files/{file}",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:g.headers},y})),l.then(g=>{const m=Fx(g),y=new eb;return Object.assign(y,m),y})}}async registerFilesInternal(e){var i,o;let l,r="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Jx(e);return r=ae("files:register",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),l.then(g=>{const m=Qx(g),y=new tb;return Object.assign(y,m),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lr(n){const e={},i=c(n,["data"]);if(i!=null&&f(e,["data"],i),c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(n,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}function Wx(n){const e={},i=c(n,["parts"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(r=>pC(r))),f(e,["parts"],l)}const o=c(n,["role"]);return o!=null&&f(e,["role"],o),e}function jx(n){const e={};if(c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=c(n,["fileUri"]);i!=null&&f(e,["fileUri"],i);const o=c(n,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}function eC(n){const e={},i=c(n,["id"]);i!=null&&f(e,["id"],i);const o=c(n,["args"]);o!=null&&f(e,["args"],o);const l=c(n,["name"]);if(l!=null&&f(e,["name"],l),c(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function tC(n){const e={},i=c(n,["description"]);i!=null&&f(e,["description"],i);const o=c(n,["name"]);o!=null&&f(e,["name"],o);const l=c(n,["parameters"]);l!=null&&f(e,["parameters"],l);const r=c(n,["parametersJsonSchema"]);r!=null&&f(e,["parametersJsonSchema"],r);const d=c(n,["response"]);d!=null&&f(e,["response"],d);const h=c(n,["responseJsonSchema"]);if(h!=null&&f(e,["responseJsonSchema"],h),c(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function nC(n){const e={},i=c(n,["modelSelectionConfig"]);i!=null&&f(e,["modelConfig"],i);const o=c(n,["responseJsonSchema"]);o!=null&&f(e,["responseJsonSchema"],o);const l=c(n,["audioTimestamp"]);l!=null&&f(e,["audioTimestamp"],l);const r=c(n,["candidateCount"]);r!=null&&f(e,["candidateCount"],r);const d=c(n,["enableAffectiveDialog"]);d!=null&&f(e,["enableAffectiveDialog"],d);const h=c(n,["frequencyPenalty"]);h!=null&&f(e,["frequencyPenalty"],h);const g=c(n,["logprobs"]);g!=null&&f(e,["logprobs"],g);const m=c(n,["maxOutputTokens"]);m!=null&&f(e,["maxOutputTokens"],m);const y=c(n,["mediaResolution"]);y!=null&&f(e,["mediaResolution"],y);const _=c(n,["presencePenalty"]);_!=null&&f(e,["presencePenalty"],_);const S=c(n,["responseLogprobs"]);S!=null&&f(e,["responseLogprobs"],S);const C=c(n,["responseMimeType"]);C!=null&&f(e,["responseMimeType"],C);const N=c(n,["responseModalities"]);N!=null&&f(e,["responseModalities"],N);const D=c(n,["responseSchema"]);D!=null&&f(e,["responseSchema"],D);const I=c(n,["routingConfig"]);I!=null&&f(e,["routingConfig"],I);const H=c(n,["seed"]);H!=null&&f(e,["seed"],H);const Q=c(n,["speechConfig"]);Q!=null&&f(e,["speechConfig"],Q);const Y=c(n,["stopSequences"]);Y!=null&&f(e,["stopSequences"],Y);const K=c(n,["temperature"]);K!=null&&f(e,["temperature"],K);const Z=c(n,["thinkingConfig"]);Z!=null&&f(e,["thinkingConfig"],Z);const q=c(n,["topK"]);q!=null&&f(e,["topK"],q);const W=c(n,["topP"]);if(W!=null&&f(e,["topP"],W),c(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function iC(n){const e={};if(c(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=c(n,["enableWidget"]);return i!=null&&f(e,["enableWidget"],i),e}function aC(n){const e={};if(c(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=c(n,["timeRangeFilter"]);return i!=null&&f(e,["timeRangeFilter"],i),e}function oC(n,e){const i={},o=c(n,["generationConfig"]);e!==void 0&&o!=null&&f(e,["setup","generationConfig"],o);const l=c(n,["responseModalities"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig","responseModalities"],l);const r=c(n,["temperature"]);e!==void 0&&r!=null&&f(e,["setup","generationConfig","temperature"],r);const d=c(n,["topP"]);e!==void 0&&d!=null&&f(e,["setup","generationConfig","topP"],d);const h=c(n,["topK"]);e!==void 0&&h!=null&&f(e,["setup","generationConfig","topK"],h);const g=c(n,["maxOutputTokens"]);e!==void 0&&g!=null&&f(e,["setup","generationConfig","maxOutputTokens"],g);const m=c(n,["mediaResolution"]);e!==void 0&&m!=null&&f(e,["setup","generationConfig","mediaResolution"],m);const y=c(n,["seed"]);e!==void 0&&y!=null&&f(e,["setup","generationConfig","seed"],y);const _=c(n,["speechConfig"]);e!==void 0&&_!=null&&f(e,["setup","generationConfig","speechConfig"],Dd(_));const S=c(n,["thinkingConfig"]);e!==void 0&&S!=null&&f(e,["setup","generationConfig","thinkingConfig"],S);const C=c(n,["enableAffectiveDialog"]);e!==void 0&&C!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],C);const N=c(n,["systemInstruction"]);e!==void 0&&N!=null&&f(e,["setup","systemInstruction"],Wx(Mt(N)));const D=c(n,["tools"]);if(e!==void 0&&D!=null){let q=_o(D);Array.isArray(q)&&(q=q.map(W=>gC(Eo(W)))),f(e,["setup","tools"],q)}const I=c(n,["sessionResumption"]);e!==void 0&&I!=null&&f(e,["setup","sessionResumption"],mC(I));const H=c(n,["inputAudioTranscription"]);e!==void 0&&H!=null&&f(e,["setup","inputAudioTranscription"],H);const Q=c(n,["outputAudioTranscription"]);e!==void 0&&Q!=null&&f(e,["setup","outputAudioTranscription"],Q);const Y=c(n,["realtimeInputConfig"]);e!==void 0&&Y!=null&&f(e,["setup","realtimeInputConfig"],Y);const K=c(n,["contextWindowCompression"]);e!==void 0&&K!=null&&f(e,["setup","contextWindowCompression"],K);const Z=c(n,["proactivity"]);if(e!==void 0&&Z!=null&&f(e,["setup","proactivity"],Z),c(n,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return i}function sC(n,e){const i={},o=c(n,["generationConfig"]);e!==void 0&&o!=null&&f(e,["setup","generationConfig"],nC(o));const l=c(n,["responseModalities"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig","responseModalities"],l);const r=c(n,["temperature"]);e!==void 0&&r!=null&&f(e,["setup","generationConfig","temperature"],r);const d=c(n,["topP"]);e!==void 0&&d!=null&&f(e,["setup","generationConfig","topP"],d);const h=c(n,["topK"]);e!==void 0&&h!=null&&f(e,["setup","generationConfig","topK"],h);const g=c(n,["maxOutputTokens"]);e!==void 0&&g!=null&&f(e,["setup","generationConfig","maxOutputTokens"],g);const m=c(n,["mediaResolution"]);e!==void 0&&m!=null&&f(e,["setup","generationConfig","mediaResolution"],m);const y=c(n,["seed"]);e!==void 0&&y!=null&&f(e,["setup","generationConfig","seed"],y);const _=c(n,["speechConfig"]);e!==void 0&&_!=null&&f(e,["setup","generationConfig","speechConfig"],Dd(_));const S=c(n,["thinkingConfig"]);e!==void 0&&S!=null&&f(e,["setup","generationConfig","thinkingConfig"],S);const C=c(n,["enableAffectiveDialog"]);e!==void 0&&C!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],C);const N=c(n,["systemInstruction"]);e!==void 0&&N!=null&&f(e,["setup","systemInstruction"],Mt(N));const D=c(n,["tools"]);if(e!==void 0&&D!=null){let W=_o(D);Array.isArray(W)&&(W=W.map(me=>vC(Eo(me)))),f(e,["setup","tools"],W)}const I=c(n,["sessionResumption"]);e!==void 0&&I!=null&&f(e,["setup","sessionResumption"],I);const H=c(n,["inputAudioTranscription"]);e!==void 0&&H!=null&&f(e,["setup","inputAudioTranscription"],H);const Q=c(n,["outputAudioTranscription"]);e!==void 0&&Q!=null&&f(e,["setup","outputAudioTranscription"],Q);const Y=c(n,["realtimeInputConfig"]);e!==void 0&&Y!=null&&f(e,["setup","realtimeInputConfig"],Y);const K=c(n,["contextWindowCompression"]);e!==void 0&&K!=null&&f(e,["setup","contextWindowCompression"],K);const Z=c(n,["proactivity"]);e!==void 0&&Z!=null&&f(e,["setup","proactivity"],Z);const q=c(n,["explicitVadSignal"]);return e!==void 0&&q!=null&&f(e,["setup","explicitVadSignal"],q),i}function lC(n,e){const i={},o=c(e,["model"]);o!=null&&f(i,["setup","model"],ze(n,o));const l=c(e,["config"]);return l!=null&&f(i,["config"],oC(l,i)),i}function rC(n,e){const i={},o=c(e,["model"]);o!=null&&f(i,["setup","model"],ze(n,o));const l=c(e,["config"]);return l!=null&&f(i,["config"],sC(l,i)),i}function uC(n){const e={},i=c(n,["musicGenerationConfig"]);return i!=null&&f(e,["musicGenerationConfig"],i),e}function cC(n){const e={},i=c(n,["weightedPrompts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(l=>l)),f(e,["weightedPrompts"],o)}return e}function dC(n){const e={},i=c(n,["media"]);if(i!=null){let m=iv(i);Array.isArray(m)&&(m=m.map(y=>lr(y))),f(e,["mediaChunks"],m)}const o=c(n,["audio"]);o!=null&&f(e,["audio"],lr(ov(o)));const l=c(n,["audioStreamEnd"]);l!=null&&f(e,["audioStreamEnd"],l);const r=c(n,["video"]);r!=null&&f(e,["video"],lr(av(r)));const d=c(n,["text"]);d!=null&&f(e,["text"],d);const h=c(n,["activityStart"]);h!=null&&f(e,["activityStart"],h);const g=c(n,["activityEnd"]);return g!=null&&f(e,["activityEnd"],g),e}function fC(n){const e={},i=c(n,["media"]);if(i!=null){let m=iv(i);Array.isArray(m)&&(m=m.map(y=>y)),f(e,["mediaChunks"],m)}const o=c(n,["audio"]);o!=null&&f(e,["audio"],ov(o));const l=c(n,["audioStreamEnd"]);l!=null&&f(e,["audioStreamEnd"],l);const r=c(n,["video"]);r!=null&&f(e,["video"],av(r));const d=c(n,["text"]);d!=null&&f(e,["text"],d);const h=c(n,["activityStart"]);h!=null&&f(e,["activityStart"],h);const g=c(n,["activityEnd"]);return g!=null&&f(e,["activityEnd"],g),e}function hC(n){const e={},i=c(n,["setupComplete"]);i!=null&&f(e,["setupComplete"],i);const o=c(n,["serverContent"]);o!=null&&f(e,["serverContent"],o);const l=c(n,["toolCall"]);l!=null&&f(e,["toolCall"],l);const r=c(n,["toolCallCancellation"]);r!=null&&f(e,["toolCallCancellation"],r);const d=c(n,["usageMetadata"]);d!=null&&f(e,["usageMetadata"],yC(d));const h=c(n,["goAway"]);h!=null&&f(e,["goAway"],h);const g=c(n,["sessionResumptionUpdate"]);g!=null&&f(e,["sessionResumptionUpdate"],g);const m=c(n,["voiceActivityDetectionSignal"]);m!=null&&f(e,["voiceActivityDetectionSignal"],m);const y=c(n,["voiceActivity"]);return y!=null&&f(e,["voiceActivity"],EC(y)),e}function pC(n){const e={},i=c(n,["mediaResolution"]);i!=null&&f(e,["mediaResolution"],i);const o=c(n,["codeExecutionResult"]);o!=null&&f(e,["codeExecutionResult"],o);const l=c(n,["executableCode"]);l!=null&&f(e,["executableCode"],l);const r=c(n,["fileData"]);r!=null&&f(e,["fileData"],jx(r));const d=c(n,["functionCall"]);d!=null&&f(e,["functionCall"],eC(d));const h=c(n,["functionResponse"]);h!=null&&f(e,["functionResponse"],h);const g=c(n,["inlineData"]);g!=null&&f(e,["inlineData"],lr(g));const m=c(n,["text"]);m!=null&&f(e,["text"],m);const y=c(n,["thought"]);y!=null&&f(e,["thought"],y);const _=c(n,["thoughtSignature"]);_!=null&&f(e,["thoughtSignature"],_);const S=c(n,["videoMetadata"]);return S!=null&&f(e,["videoMetadata"],S),e}function mC(n){const e={},i=c(n,["handle"]);if(i!=null&&f(e,["handle"],i),c(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function gC(n){const e={};if(c(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=c(n,["computerUse"]);i!=null&&f(e,["computerUse"],i);const o=c(n,["fileSearch"]);o!=null&&f(e,["fileSearch"],o);const l=c(n,["codeExecution"]);if(l!=null&&f(e,["codeExecution"],l),c(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const r=c(n,["functionDeclarations"]);if(r!=null){let y=r;Array.isArray(y)&&(y=y.map(_=>_)),f(e,["functionDeclarations"],y)}const d=c(n,["googleMaps"]);d!=null&&f(e,["googleMaps"],iC(d));const h=c(n,["googleSearch"]);h!=null&&f(e,["googleSearch"],aC(h));const g=c(n,["googleSearchRetrieval"]);g!=null&&f(e,["googleSearchRetrieval"],g);const m=c(n,["urlContext"]);return m!=null&&f(e,["urlContext"],m),e}function vC(n){const e={},i=c(n,["retrieval"]);i!=null&&f(e,["retrieval"],i);const o=c(n,["computerUse"]);if(o!=null&&f(e,["computerUse"],o),c(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=c(n,["codeExecution"]);l!=null&&f(e,["codeExecution"],l);const r=c(n,["enterpriseWebSearch"]);r!=null&&f(e,["enterpriseWebSearch"],r);const d=c(n,["functionDeclarations"]);if(d!=null){let _=d;Array.isArray(_)&&(_=_.map(S=>tC(S))),f(e,["functionDeclarations"],_)}const h=c(n,["googleMaps"]);h!=null&&f(e,["googleMaps"],h);const g=c(n,["googleSearch"]);g!=null&&f(e,["googleSearch"],g);const m=c(n,["googleSearchRetrieval"]);m!=null&&f(e,["googleSearchRetrieval"],m);const y=c(n,["urlContext"]);return y!=null&&f(e,["urlContext"],y),e}function yC(n){const e={},i=c(n,["promptTokenCount"]);i!=null&&f(e,["promptTokenCount"],i);const o=c(n,["cachedContentTokenCount"]);o!=null&&f(e,["cachedContentTokenCount"],o);const l=c(n,["candidatesTokenCount"]);l!=null&&f(e,["responseTokenCount"],l);const r=c(n,["toolUsePromptTokenCount"]);r!=null&&f(e,["toolUsePromptTokenCount"],r);const d=c(n,["thoughtsTokenCount"]);d!=null&&f(e,["thoughtsTokenCount"],d);const h=c(n,["totalTokenCount"]);h!=null&&f(e,["totalTokenCount"],h);const g=c(n,["promptTokensDetails"]);if(g!=null){let C=g;Array.isArray(C)&&(C=C.map(N=>N)),f(e,["promptTokensDetails"],C)}const m=c(n,["cacheTokensDetails"]);if(m!=null){let C=m;Array.isArray(C)&&(C=C.map(N=>N)),f(e,["cacheTokensDetails"],C)}const y=c(n,["candidatesTokensDetails"]);if(y!=null){let C=y;Array.isArray(C)&&(C=C.map(N=>N)),f(e,["responseTokensDetails"],C)}const _=c(n,["toolUsePromptTokensDetails"]);if(_!=null){let C=_;Array.isArray(C)&&(C=C.map(N=>N)),f(e,["toolUsePromptTokensDetails"],C)}const S=c(n,["trafficType"]);return S!=null&&f(e,["trafficType"],S),e}function EC(n){const e={},i=c(n,["type"]);return i!=null&&f(e,["voiceActivityType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _C(n,e){const i={},o=c(n,["data"]);if(o!=null&&f(i,["data"],o),c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=c(n,["mimeType"]);return l!=null&&f(i,["mimeType"],l),i}function SC(n,e){const i={},o=c(n,["content"]);o!=null&&f(i,["content"],o);const l=c(n,["citationMetadata"]);l!=null&&f(i,["citationMetadata"],TC(l));const r=c(n,["tokenCount"]);r!=null&&f(i,["tokenCount"],r);const d=c(n,["finishReason"]);d!=null&&f(i,["finishReason"],d);const h=c(n,["avgLogprobs"]);h!=null&&f(i,["avgLogprobs"],h);const g=c(n,["groundingMetadata"]);g!=null&&f(i,["groundingMetadata"],g);const m=c(n,["index"]);m!=null&&f(i,["index"],m);const y=c(n,["logprobsResult"]);y!=null&&f(i,["logprobsResult"],y);const _=c(n,["safetyRatings"]);if(_!=null){let C=_;Array.isArray(C)&&(C=C.map(N=>N)),f(i,["safetyRatings"],C)}const S=c(n,["urlContextMetadata"]);return S!=null&&f(i,["urlContextMetadata"],S),i}function TC(n,e){const i={},o=c(n,["citationSources"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(r=>r)),f(i,["citations"],l)}return i}function bC(n,e,i){const o={},l=c(e,["model"]);l!=null&&f(o,["_url","model"],ze(n,l));const r=c(e,["contents"]);if(r!=null){let d=vn(r);Array.isArray(d)&&(d=d.map(h=>h)),f(o,["contents"],d)}return o}function xC(n,e){const i={},o=c(n,["sdkHttpResponse"]);o!=null&&f(i,["sdkHttpResponse"],o);const l=c(n,["tokensInfo"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(d=>d)),f(i,["tokensInfo"],r)}return i}function CC(n,e){const i={},o=c(n,["values"]);o!=null&&f(i,["values"],o);const l=c(n,["statistics"]);return l!=null&&f(i,["statistics"],wC(l)),i}function wC(n,e){const i={},o=c(n,["truncated"]);o!=null&&f(i,["truncated"],o);const l=c(n,["token_count"]);return l!=null&&f(i,["tokenCount"],l),i}function mr(n,e){const i={},o=c(n,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(d=>Lw(d))),f(i,["parts"],r)}const l=c(n,["role"]);return l!=null&&f(i,["role"],l),i}function AC(n,e){const i={},o=c(n,["controlType"]);o!=null&&f(i,["controlType"],o);const l=c(n,["enableControlImageComputation"]);return l!=null&&f(i,["computeControl"],l),i}function NC(n,e){const i={};if(c(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(c(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(c(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return i}function RC(n,e,i){const o={},l=c(n,["systemInstruction"]);e!==void 0&&l!=null&&f(e,["systemInstruction"],Mt(l));const r=c(n,["tools"]);if(e!==void 0&&r!=null){let h=r;Array.isArray(h)&&(h=h.map(g=>Ev(g))),f(e,["tools"],h)}const d=c(n,["generationConfig"]);return e!==void 0&&d!=null&&f(e,["generationConfig"],_w(d)),o}function MC(n,e,i){const o={},l=c(e,["model"]);l!=null&&f(o,["_url","model"],ze(n,l));const r=c(e,["contents"]);if(r!=null){let h=vn(r);Array.isArray(h)&&(h=h.map(g=>mr(g))),f(o,["contents"],h)}const d=c(e,["config"]);return d!=null&&NC(d),o}function IC(n,e,i){const o={},l=c(e,["model"]);l!=null&&f(o,["_url","model"],ze(n,l));const r=c(e,["contents"]);if(r!=null){let h=vn(r);Array.isArray(h)&&(h=h.map(g=>g)),f(o,["contents"],h)}const d=c(e,["config"]);return d!=null&&RC(d,o),o}function kC(n,e){const i={},o=c(n,["sdkHttpResponse"]);o!=null&&f(i,["sdkHttpResponse"],o);const l=c(n,["totalTokens"]);l!=null&&f(i,["totalTokens"],l);const r=c(n,["cachedContentTokenCount"]);return r!=null&&f(i,["cachedContentTokenCount"],r),i}function DC(n,e){const i={},o=c(n,["sdkHttpResponse"]);o!=null&&f(i,["sdkHttpResponse"],o);const l=c(n,["totalTokens"]);return l!=null&&f(i,["totalTokens"],l),i}function UC(n,e,i){const o={},l=c(e,["model"]);return l!=null&&f(o,["_url","name"],ze(n,l)),o}function LC(n,e,i){const o={},l=c(e,["model"]);return l!=null&&f(o,["_url","name"],ze(n,l)),o}function PC(n,e){const i={},o=c(n,["sdkHttpResponse"]);return o!=null&&f(i,["sdkHttpResponse"],o),i}function OC(n,e){const i={},o=c(n,["sdkHttpResponse"]);return o!=null&&f(i,["sdkHttpResponse"],o),i}function GC(n,e,i){const o={},l=c(n,["outputGcsUri"]);e!==void 0&&l!=null&&f(e,["parameters","storageUri"],l);const r=c(n,["negativePrompt"]);e!==void 0&&r!=null&&f(e,["parameters","negativePrompt"],r);const d=c(n,["numberOfImages"]);e!==void 0&&d!=null&&f(e,["parameters","sampleCount"],d);const h=c(n,["aspectRatio"]);e!==void 0&&h!=null&&f(e,["parameters","aspectRatio"],h);const g=c(n,["guidanceScale"]);e!==void 0&&g!=null&&f(e,["parameters","guidanceScale"],g);const m=c(n,["seed"]);e!==void 0&&m!=null&&f(e,["parameters","seed"],m);const y=c(n,["safetyFilterLevel"]);e!==void 0&&y!=null&&f(e,["parameters","safetySetting"],y);const _=c(n,["personGeneration"]);e!==void 0&&_!=null&&f(e,["parameters","personGeneration"],_);const S=c(n,["includeSafetyAttributes"]);e!==void 0&&S!=null&&f(e,["parameters","includeSafetyAttributes"],S);const C=c(n,["includeRaiReason"]);e!==void 0&&C!=null&&f(e,["parameters","includeRaiReason"],C);const N=c(n,["language"]);e!==void 0&&N!=null&&f(e,["parameters","language"],N);const D=c(n,["outputMimeType"]);e!==void 0&&D!=null&&f(e,["parameters","outputOptions","mimeType"],D);const I=c(n,["outputCompressionQuality"]);e!==void 0&&I!=null&&f(e,["parameters","outputOptions","compressionQuality"],I);const H=c(n,["addWatermark"]);e!==void 0&&H!=null&&f(e,["parameters","addWatermark"],H);const Q=c(n,["labels"]);e!==void 0&&Q!=null&&f(e,["labels"],Q);const Y=c(n,["editMode"]);e!==void 0&&Y!=null&&f(e,["parameters","editMode"],Y);const K=c(n,["baseSteps"]);return e!==void 0&&K!=null&&f(e,["parameters","editConfig","baseSteps"],K),o}function HC(n,e,i){const o={},l=c(e,["model"]);l!=null&&f(o,["_url","model"],ze(n,l));const r=c(e,["prompt"]);r!=null&&f(o,["instances[0]","prompt"],r);const d=c(e,["referenceImages"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(m=>qw(m))),f(o,["instances[0]","referenceImages"],g)}const h=c(e,["config"]);return h!=null&&GC(h,o),o}function zC(n,e){const i={},o=c(n,["sdkHttpResponse"]);o!=null&&f(i,["sdkHttpResponse"],o);const l=c(n,["predictions"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(d=>gr(d))),f(i,["generatedImages"],r)}return i}function qC(n,e,i){const o={},l=c(n,["taskType"]);e!==void 0&&l!=null&&f(e,["requests[]","taskType"],l);const r=c(n,["title"]);e!==void 0&&r!=null&&f(e,["requests[]","title"],r);const d=c(n,["outputDimensionality"]);if(e!==void 0&&d!=null&&f(e,["requests[]","outputDimensionality"],d),c(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function VC(n,e,i){const o={},l=c(n,["taskType"]);e!==void 0&&l!=null&&f(e,["instances[]","task_type"],l);const r=c(n,["title"]);e!==void 0&&r!=null&&f(e,["instances[]","title"],r);const d=c(n,["outputDimensionality"]);e!==void 0&&d!=null&&f(e,["parameters","outputDimensionality"],d);const h=c(n,["mimeType"]);e!==void 0&&h!=null&&f(e,["instances[]","mimeType"],h);const g=c(n,["autoTruncate"]);return e!==void 0&&g!=null&&f(e,["parameters","autoTruncate"],g),o}function BC(n,e,i){const o={},l=c(e,["model"]);l!=null&&f(o,["_url","model"],ze(n,l));const r=c(e,["contents"]);if(r!=null){let g=Md(n,r);Array.isArray(g)&&(g=g.map(m=>m)),f(o,["requests[]","content"],g)}const d=c(e,["config"]);d!=null&&qC(d,o);const h=c(e,["model"]);return h!==void 0&&f(o,["requests[]","model"],ze(n,h)),o}function FC(n,e,i){const o={},l=c(e,["model"]);l!=null&&f(o,["_url","model"],ze(n,l));const r=c(e,["contents"]);if(r!=null){let h=Md(n,r);Array.isArray(h)&&(h=h.map(g=>g)),f(o,["instances[]","content"],h)}const d=c(e,["config"]);return d!=null&&VC(d,o),o}function $C(n,e){const i={},o=c(n,["sdkHttpResponse"]);o!=null&&f(i,["sdkHttpResponse"],o);const l=c(n,["embeddings"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(h=>h)),f(i,["embeddings"],d)}const r=c(n,["metadata"]);return r!=null&&f(i,["metadata"],r),i}function JC(n,e){const i={},o=c(n,["sdkHttpResponse"]);o!=null&&f(i,["sdkHttpResponse"],o);const l=c(n,["predictions[]","embeddings"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(h=>CC(h))),f(i,["embeddings"],d)}const r=c(n,["metadata"]);return r!=null&&f(i,["metadata"],r),i}function YC(n,e){const i={},o=c(n,["endpoint"]);o!=null&&f(i,["name"],o);const l=c(n,["deployedModelId"]);return l!=null&&f(i,["deployedModelId"],l),i}function KC(n,e){const i={};if(c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(n,["fileUri"]);o!=null&&f(i,["fileUri"],o);const l=c(n,["mimeType"]);return l!=null&&f(i,["mimeType"],l),i}function XC(n,e){const i={},o=c(n,["id"]);o!=null&&f(i,["id"],o);const l=c(n,["args"]);l!=null&&f(i,["args"],l);const r=c(n,["name"]);if(r!=null&&f(i,["name"],r),c(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return i}function QC(n,e){const i={},o=c(n,["allowedFunctionNames"]);o!=null&&f(i,["allowedFunctionNames"],o);const l=c(n,["mode"]);if(l!=null&&f(i,["mode"],l),c(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return i}function ZC(n,e){const i={},o=c(n,["description"]);o!=null&&f(i,["description"],o);const l=c(n,["name"]);l!=null&&f(i,["name"],l);const r=c(n,["parameters"]);r!=null&&f(i,["parameters"],r);const d=c(n,["parametersJsonSchema"]);d!=null&&f(i,["parametersJsonSchema"],d);const h=c(n,["response"]);h!=null&&f(i,["response"],h);const g=c(n,["responseJsonSchema"]);if(g!=null&&f(i,["responseJsonSchema"],g),c(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return i}function WC(n,e,i,o){const l={},r=c(e,["systemInstruction"]);i!==void 0&&r!=null&&f(i,["systemInstruction"],mr(Mt(r)));const d=c(e,["temperature"]);d!=null&&f(l,["temperature"],d);const h=c(e,["topP"]);h!=null&&f(l,["topP"],h);const g=c(e,["topK"]);g!=null&&f(l,["topK"],g);const m=c(e,["candidateCount"]);m!=null&&f(l,["candidateCount"],m);const y=c(e,["maxOutputTokens"]);y!=null&&f(l,["maxOutputTokens"],y);const _=c(e,["stopSequences"]);_!=null&&f(l,["stopSequences"],_);const S=c(e,["responseLogprobs"]);S!=null&&f(l,["responseLogprobs"],S);const C=c(e,["logprobs"]);C!=null&&f(l,["logprobs"],C);const N=c(e,["presencePenalty"]);N!=null&&f(l,["presencePenalty"],N);const D=c(e,["frequencyPenalty"]);D!=null&&f(l,["frequencyPenalty"],D);const I=c(e,["seed"]);I!=null&&f(l,["seed"],I);const H=c(e,["responseMimeType"]);H!=null&&f(l,["responseMimeType"],H);const Q=c(e,["responseSchema"]);Q!=null&&f(l,["responseSchema"],Id(Q));const Y=c(e,["responseJsonSchema"]);if(Y!=null&&f(l,["responseJsonSchema"],Y),c(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const K=c(e,["safetySettings"]);if(i!==void 0&&K!=null){let Be=K;Array.isArray(Be)&&(Be=Be.map(tt=>Vw(tt))),f(i,["safetySettings"],Be)}const Z=c(e,["tools"]);if(i!==void 0&&Z!=null){let Be=_o(Z);Array.isArray(Be)&&(Be=Be.map(tt=>Xw(Eo(tt)))),f(i,["tools"],Be)}const q=c(e,["toolConfig"]);if(i!==void 0&&q!=null&&f(i,["toolConfig"],Kw(q)),c(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const W=c(e,["cachedContent"]);i!==void 0&&W!=null&&f(i,["cachedContent"],ai(n,W));const me=c(e,["responseModalities"]);me!=null&&f(l,["responseModalities"],me);const ee=c(e,["mediaResolution"]);ee!=null&&f(l,["mediaResolution"],ee);const re=c(e,["speechConfig"]);if(re!=null&&f(l,["speechConfig"],kd(re)),c(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Te=c(e,["thinkingConfig"]);Te!=null&&f(l,["thinkingConfig"],Te);const Pe=c(e,["imageConfig"]);Pe!=null&&f(l,["imageConfig"],Cw(Pe));const Ve=c(e,["enableEnhancedCivicAnswers"]);if(Ve!=null&&f(l,["enableEnhancedCivicAnswers"],Ve),c(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return l}function jC(n,e,i,o){const l={},r=c(e,["systemInstruction"]);i!==void 0&&r!=null&&f(i,["systemInstruction"],Mt(r));const d=c(e,["temperature"]);d!=null&&f(l,["temperature"],d);const h=c(e,["topP"]);h!=null&&f(l,["topP"],h);const g=c(e,["topK"]);g!=null&&f(l,["topK"],g);const m=c(e,["candidateCount"]);m!=null&&f(l,["candidateCount"],m);const y=c(e,["maxOutputTokens"]);y!=null&&f(l,["maxOutputTokens"],y);const _=c(e,["stopSequences"]);_!=null&&f(l,["stopSequences"],_);const S=c(e,["responseLogprobs"]);S!=null&&f(l,["responseLogprobs"],S);const C=c(e,["logprobs"]);C!=null&&f(l,["logprobs"],C);const N=c(e,["presencePenalty"]);N!=null&&f(l,["presencePenalty"],N);const D=c(e,["frequencyPenalty"]);D!=null&&f(l,["frequencyPenalty"],D);const I=c(e,["seed"]);I!=null&&f(l,["seed"],I);const H=c(e,["responseMimeType"]);H!=null&&f(l,["responseMimeType"],H);const Q=c(e,["responseSchema"]);Q!=null&&f(l,["responseSchema"],Id(Q));const Y=c(e,["responseJsonSchema"]);Y!=null&&f(l,["responseJsonSchema"],Y);const K=c(e,["routingConfig"]);K!=null&&f(l,["routingConfig"],K);const Z=c(e,["modelSelectionConfig"]);Z!=null&&f(l,["modelConfig"],Z);const q=c(e,["safetySettings"]);if(i!==void 0&&q!=null){let te=q;Array.isArray(te)&&(te=te.map(ye=>ye)),f(i,["safetySettings"],te)}const W=c(e,["tools"]);if(i!==void 0&&W!=null){let te=_o(W);Array.isArray(te)&&(te=te.map(ye=>Ev(Eo(ye)))),f(i,["tools"],te)}const me=c(e,["toolConfig"]);i!==void 0&&me!=null&&f(i,["toolConfig"],me);const ee=c(e,["labels"]);i!==void 0&&ee!=null&&f(i,["labels"],ee);const re=c(e,["cachedContent"]);i!==void 0&&re!=null&&f(i,["cachedContent"],ai(n,re));const Te=c(e,["responseModalities"]);Te!=null&&f(l,["responseModalities"],Te);const Pe=c(e,["mediaResolution"]);Pe!=null&&f(l,["mediaResolution"],Pe);const Ve=c(e,["speechConfig"]);Ve!=null&&f(l,["speechConfig"],kd(Ve));const Be=c(e,["audioTimestamp"]);Be!=null&&f(l,["audioTimestamp"],Be);const tt=c(e,["thinkingConfig"]);tt!=null&&f(l,["thinkingConfig"],tt);const A=c(e,["imageConfig"]);if(A!=null&&f(l,["imageConfig"],ww(A)),c(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const $=c(e,["modelArmorConfig"]);return i!==void 0&&$!=null&&f(i,["modelArmorConfig"],$),l}function u0(n,e,i){const o={},l=c(e,["model"]);l!=null&&f(o,["_url","model"],ze(n,l));const r=c(e,["contents"]);if(r!=null){let h=vn(r);Array.isArray(h)&&(h=h.map(g=>mr(g))),f(o,["contents"],h)}const d=c(e,["config"]);return d!=null&&f(o,["generationConfig"],WC(n,d,o)),o}function c0(n,e,i){const o={},l=c(e,["model"]);l!=null&&f(o,["_url","model"],ze(n,l));const r=c(e,["contents"]);if(r!=null){let h=vn(r);Array.isArray(h)&&(h=h.map(g=>g)),f(o,["contents"],h)}const d=c(e,["config"]);return d!=null&&f(o,["generationConfig"],jC(n,d,o)),o}function d0(n,e){const i={},o=c(n,["sdkHttpResponse"]);o!=null&&f(i,["sdkHttpResponse"],o);const l=c(n,["candidates"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(y=>SC(y))),f(i,["candidates"],m)}const r=c(n,["modelVersion"]);r!=null&&f(i,["modelVersion"],r);const d=c(n,["promptFeedback"]);d!=null&&f(i,["promptFeedback"],d);const h=c(n,["responseId"]);h!=null&&f(i,["responseId"],h);const g=c(n,["usageMetadata"]);return g!=null&&f(i,["usageMetadata"],g),i}function f0(n,e){const i={},o=c(n,["sdkHttpResponse"]);o!=null&&f(i,["sdkHttpResponse"],o);const l=c(n,["candidates"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(_=>_)),f(i,["candidates"],y)}const r=c(n,["createTime"]);r!=null&&f(i,["createTime"],r);const d=c(n,["modelVersion"]);d!=null&&f(i,["modelVersion"],d);const h=c(n,["promptFeedback"]);h!=null&&f(i,["promptFeedback"],h);const g=c(n,["responseId"]);g!=null&&f(i,["responseId"],g);const m=c(n,["usageMetadata"]);return m!=null&&f(i,["usageMetadata"],m),i}function ew(n,e,i){const o={};if(c(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const l=c(n,["numberOfImages"]);e!==void 0&&l!=null&&f(e,["parameters","sampleCount"],l);const r=c(n,["aspectRatio"]);e!==void 0&&r!=null&&f(e,["parameters","aspectRatio"],r);const d=c(n,["guidanceScale"]);if(e!==void 0&&d!=null&&f(e,["parameters","guidanceScale"],d),c(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const h=c(n,["safetyFilterLevel"]);e!==void 0&&h!=null&&f(e,["parameters","safetySetting"],h);const g=c(n,["personGeneration"]);e!==void 0&&g!=null&&f(e,["parameters","personGeneration"],g);const m=c(n,["includeSafetyAttributes"]);e!==void 0&&m!=null&&f(e,["parameters","includeSafetyAttributes"],m);const y=c(n,["includeRaiReason"]);e!==void 0&&y!=null&&f(e,["parameters","includeRaiReason"],y);const _=c(n,["language"]);e!==void 0&&_!=null&&f(e,["parameters","language"],_);const S=c(n,["outputMimeType"]);e!==void 0&&S!=null&&f(e,["parameters","outputOptions","mimeType"],S);const C=c(n,["outputCompressionQuality"]);if(e!==void 0&&C!=null&&f(e,["parameters","outputOptions","compressionQuality"],C),c(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(c(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const N=c(n,["imageSize"]);if(e!==void 0&&N!=null&&f(e,["parameters","sampleImageSize"],N),c(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function tw(n,e,i){const o={},l=c(n,["outputGcsUri"]);e!==void 0&&l!=null&&f(e,["parameters","storageUri"],l);const r=c(n,["negativePrompt"]);e!==void 0&&r!=null&&f(e,["parameters","negativePrompt"],r);const d=c(n,["numberOfImages"]);e!==void 0&&d!=null&&f(e,["parameters","sampleCount"],d);const h=c(n,["aspectRatio"]);e!==void 0&&h!=null&&f(e,["parameters","aspectRatio"],h);const g=c(n,["guidanceScale"]);e!==void 0&&g!=null&&f(e,["parameters","guidanceScale"],g);const m=c(n,["seed"]);e!==void 0&&m!=null&&f(e,["parameters","seed"],m);const y=c(n,["safetyFilterLevel"]);e!==void 0&&y!=null&&f(e,["parameters","safetySetting"],y);const _=c(n,["personGeneration"]);e!==void 0&&_!=null&&f(e,["parameters","personGeneration"],_);const S=c(n,["includeSafetyAttributes"]);e!==void 0&&S!=null&&f(e,["parameters","includeSafetyAttributes"],S);const C=c(n,["includeRaiReason"]);e!==void 0&&C!=null&&f(e,["parameters","includeRaiReason"],C);const N=c(n,["language"]);e!==void 0&&N!=null&&f(e,["parameters","language"],N);const D=c(n,["outputMimeType"]);e!==void 0&&D!=null&&f(e,["parameters","outputOptions","mimeType"],D);const I=c(n,["outputCompressionQuality"]);e!==void 0&&I!=null&&f(e,["parameters","outputOptions","compressionQuality"],I);const H=c(n,["addWatermark"]);e!==void 0&&H!=null&&f(e,["parameters","addWatermark"],H);const Q=c(n,["labels"]);e!==void 0&&Q!=null&&f(e,["labels"],Q);const Y=c(n,["imageSize"]);e!==void 0&&Y!=null&&f(e,["parameters","sampleImageSize"],Y);const K=c(n,["enhancePrompt"]);return e!==void 0&&K!=null&&f(e,["parameters","enhancePrompt"],K),o}function nw(n,e,i){const o={},l=c(e,["model"]);l!=null&&f(o,["_url","model"],ze(n,l));const r=c(e,["prompt"]);r!=null&&f(o,["instances[0]","prompt"],r);const d=c(e,["config"]);return d!=null&&ew(d,o),o}function iw(n,e,i){const o={},l=c(e,["model"]);l!=null&&f(o,["_url","model"],ze(n,l));const r=c(e,["prompt"]);r!=null&&f(o,["instances[0]","prompt"],r);const d=c(e,["config"]);return d!=null&&tw(d,o),o}function aw(n,e){const i={},o=c(n,["sdkHttpResponse"]);o!=null&&f(i,["sdkHttpResponse"],o);const l=c(n,["predictions"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(h=>gw(h))),f(i,["generatedImages"],d)}const r=c(n,["positivePromptSafetyAttributes"]);return r!=null&&f(i,["positivePromptSafetyAttributes"],vv(r)),i}function ow(n,e){const i={},o=c(n,["sdkHttpResponse"]);o!=null&&f(i,["sdkHttpResponse"],o);const l=c(n,["predictions"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(h=>gr(h))),f(i,["generatedImages"],d)}const r=c(n,["positivePromptSafetyAttributes"]);return r!=null&&f(i,["positivePromptSafetyAttributes"],yv(r)),i}function sw(n,e,i){const o={},l=c(n,["numberOfVideos"]);if(e!==void 0&&l!=null&&f(e,["parameters","sampleCount"],l),c(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=c(n,["durationSeconds"]);if(e!==void 0&&r!=null&&f(e,["parameters","durationSeconds"],r),c(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=c(n,["aspectRatio"]);e!==void 0&&d!=null&&f(e,["parameters","aspectRatio"],d);const h=c(n,["resolution"]);e!==void 0&&h!=null&&f(e,["parameters","resolution"],h);const g=c(n,["personGeneration"]);if(e!==void 0&&g!=null&&f(e,["parameters","personGeneration"],g),c(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const m=c(n,["negativePrompt"]);e!==void 0&&m!=null&&f(e,["parameters","negativePrompt"],m);const y=c(n,["enhancePrompt"]);if(e!==void 0&&y!=null&&f(e,["parameters","enhancePrompt"],y),c(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const _=c(n,["lastFrame"]);e!==void 0&&_!=null&&f(e,["instances[0]","lastFrame"],vr(_));const S=c(n,["referenceImages"]);if(e!==void 0&&S!=null){let C=S;Array.isArray(C)&&(C=C.map(N=>r1(N))),f(e,["instances[0]","referenceImages"],C)}if(c(n,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(c(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return o}function lw(n,e,i){const o={},l=c(n,["numberOfVideos"]);e!==void 0&&l!=null&&f(e,["parameters","sampleCount"],l);const r=c(n,["outputGcsUri"]);e!==void 0&&r!=null&&f(e,["parameters","storageUri"],r);const d=c(n,["fps"]);e!==void 0&&d!=null&&f(e,["parameters","fps"],d);const h=c(n,["durationSeconds"]);e!==void 0&&h!=null&&f(e,["parameters","durationSeconds"],h);const g=c(n,["seed"]);e!==void 0&&g!=null&&f(e,["parameters","seed"],g);const m=c(n,["aspectRatio"]);e!==void 0&&m!=null&&f(e,["parameters","aspectRatio"],m);const y=c(n,["resolution"]);e!==void 0&&y!=null&&f(e,["parameters","resolution"],y);const _=c(n,["personGeneration"]);e!==void 0&&_!=null&&f(e,["parameters","personGeneration"],_);const S=c(n,["pubsubTopic"]);e!==void 0&&S!=null&&f(e,["parameters","pubsubTopic"],S);const C=c(n,["negativePrompt"]);e!==void 0&&C!=null&&f(e,["parameters","negativePrompt"],C);const N=c(n,["enhancePrompt"]);e!==void 0&&N!=null&&f(e,["parameters","enhancePrompt"],N);const D=c(n,["generateAudio"]);e!==void 0&&D!=null&&f(e,["parameters","generateAudio"],D);const I=c(n,["lastFrame"]);e!==void 0&&I!=null&&f(e,["instances[0]","lastFrame"],wn(I));const H=c(n,["referenceImages"]);if(e!==void 0&&H!=null){let K=H;Array.isArray(K)&&(K=K.map(Z=>u1(Z))),f(e,["instances[0]","referenceImages"],K)}const Q=c(n,["mask"]);e!==void 0&&Q!=null&&f(e,["instances[0]","mask"],l1(Q));const Y=c(n,["compressionQuality"]);return e!==void 0&&Y!=null&&f(e,["parameters","compressionQuality"],Y),o}function rw(n,e){const i={},o=c(n,["name"]);o!=null&&f(i,["name"],o);const l=c(n,["metadata"]);l!=null&&f(i,["metadata"],l);const r=c(n,["done"]);r!=null&&f(i,["done"],r);const d=c(n,["error"]);d!=null&&f(i,["error"],d);const h=c(n,["response","generateVideoResponse"]);return h!=null&&f(i,["response"],fw(h)),i}function uw(n,e){const i={},o=c(n,["name"]);o!=null&&f(i,["name"],o);const l=c(n,["metadata"]);l!=null&&f(i,["metadata"],l);const r=c(n,["done"]);r!=null&&f(i,["done"],r);const d=c(n,["error"]);d!=null&&f(i,["error"],d);const h=c(n,["response"]);return h!=null&&f(i,["response"],hw(h)),i}function cw(n,e,i){const o={},l=c(e,["model"]);l!=null&&f(o,["_url","model"],ze(n,l));const r=c(e,["prompt"]);r!=null&&f(o,["instances[0]","prompt"],r);const d=c(e,["image"]);d!=null&&f(o,["instances[0]","image"],vr(d));const h=c(e,["video"]);h!=null&&f(o,["instances[0]","video"],_v(h));const g=c(e,["source"]);g!=null&&pw(g,o);const m=c(e,["config"]);return m!=null&&sw(m,o),o}function dw(n,e,i){const o={},l=c(e,["model"]);l!=null&&f(o,["_url","model"],ze(n,l));const r=c(e,["prompt"]);r!=null&&f(o,["instances[0]","prompt"],r);const d=c(e,["image"]);d!=null&&f(o,["instances[0]","image"],wn(d));const h=c(e,["video"]);h!=null&&f(o,["instances[0]","video"],Sv(h));const g=c(e,["source"]);g!=null&&mw(g,o);const m=c(e,["config"]);return m!=null&&lw(m,o),o}function fw(n,e){const i={},o=c(n,["generatedSamples"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(h=>yw(h))),f(i,["generatedVideos"],d)}const l=c(n,["raiMediaFilteredCount"]);l!=null&&f(i,["raiMediaFilteredCount"],l);const r=c(n,["raiMediaFilteredReasons"]);return r!=null&&f(i,["raiMediaFilteredReasons"],r),i}function hw(n,e){const i={},o=c(n,["videos"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(h=>Ew(h))),f(i,["generatedVideos"],d)}const l=c(n,["raiMediaFilteredCount"]);l!=null&&f(i,["raiMediaFilteredCount"],l);const r=c(n,["raiMediaFilteredReasons"]);return r!=null&&f(i,["raiMediaFilteredReasons"],r),i}function pw(n,e,i){const o={},l=c(n,["prompt"]);e!==void 0&&l!=null&&f(e,["instances[0]","prompt"],l);const r=c(n,["image"]);e!==void 0&&r!=null&&f(e,["instances[0]","image"],vr(r));const d=c(n,["video"]);return e!==void 0&&d!=null&&f(e,["instances[0]","video"],_v(d)),o}function mw(n,e,i){const o={},l=c(n,["prompt"]);e!==void 0&&l!=null&&f(e,["instances[0]","prompt"],l);const r=c(n,["image"]);e!==void 0&&r!=null&&f(e,["instances[0]","image"],wn(r));const d=c(n,["video"]);return e!==void 0&&d!=null&&f(e,["instances[0]","video"],Sv(d)),o}function gw(n,e){const i={},o=c(n,["_self"]);o!=null&&f(i,["image"],Aw(o));const l=c(n,["raiFilteredReason"]);l!=null&&f(i,["raiFilteredReason"],l);const r=c(n,["_self"]);return r!=null&&f(i,["safetyAttributes"],vv(r)),i}function gr(n,e){const i={},o=c(n,["_self"]);o!=null&&f(i,["image"],gv(o));const l=c(n,["raiFilteredReason"]);l!=null&&f(i,["raiFilteredReason"],l);const r=c(n,["_self"]);r!=null&&f(i,["safetyAttributes"],yv(r));const d=c(n,["prompt"]);return d!=null&&f(i,["enhancedPrompt"],d),i}function vw(n,e){const i={},o=c(n,["_self"]);o!=null&&f(i,["mask"],gv(o));const l=c(n,["labels"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(d=>d)),f(i,["labels"],r)}return i}function yw(n,e){const i={},o=c(n,["video"]);return o!=null&&f(i,["video"],o1(o)),i}function Ew(n,e){const i={},o=c(n,["_self"]);return o!=null&&f(i,["video"],s1(o)),i}function _w(n,e){const i={},o=c(n,["modelSelectionConfig"]);o!=null&&f(i,["modelConfig"],o);const l=c(n,["responseJsonSchema"]);l!=null&&f(i,["responseJsonSchema"],l);const r=c(n,["audioTimestamp"]);r!=null&&f(i,["audioTimestamp"],r);const d=c(n,["candidateCount"]);d!=null&&f(i,["candidateCount"],d);const h=c(n,["enableAffectiveDialog"]);h!=null&&f(i,["enableAffectiveDialog"],h);const g=c(n,["frequencyPenalty"]);g!=null&&f(i,["frequencyPenalty"],g);const m=c(n,["logprobs"]);m!=null&&f(i,["logprobs"],m);const y=c(n,["maxOutputTokens"]);y!=null&&f(i,["maxOutputTokens"],y);const _=c(n,["mediaResolution"]);_!=null&&f(i,["mediaResolution"],_);const S=c(n,["presencePenalty"]);S!=null&&f(i,["presencePenalty"],S);const C=c(n,["responseLogprobs"]);C!=null&&f(i,["responseLogprobs"],C);const N=c(n,["responseMimeType"]);N!=null&&f(i,["responseMimeType"],N);const D=c(n,["responseModalities"]);D!=null&&f(i,["responseModalities"],D);const I=c(n,["responseSchema"]);I!=null&&f(i,["responseSchema"],I);const H=c(n,["routingConfig"]);H!=null&&f(i,["routingConfig"],H);const Q=c(n,["seed"]);Q!=null&&f(i,["seed"],Q);const Y=c(n,["speechConfig"]);Y!=null&&f(i,["speechConfig"],Y);const K=c(n,["stopSequences"]);K!=null&&f(i,["stopSequences"],K);const Z=c(n,["temperature"]);Z!=null&&f(i,["temperature"],Z);const q=c(n,["thinkingConfig"]);q!=null&&f(i,["thinkingConfig"],q);const W=c(n,["topK"]);W!=null&&f(i,["topK"],W);const me=c(n,["topP"]);if(me!=null&&f(i,["topP"],me),c(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return i}function Sw(n,e,i){const o={},l=c(e,["model"]);return l!=null&&f(o,["_url","name"],ze(n,l)),o}function Tw(n,e,i){const o={},l=c(e,["model"]);return l!=null&&f(o,["_url","name"],ze(n,l)),o}function bw(n,e){const i={};if(c(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=c(n,["enableWidget"]);return o!=null&&f(i,["enableWidget"],o),i}function xw(n,e){const i={};if(c(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=c(n,["timeRangeFilter"]);return o!=null&&f(i,["timeRangeFilter"],o),i}function Cw(n,e){const i={},o=c(n,["aspectRatio"]);o!=null&&f(i,["aspectRatio"],o);const l=c(n,["imageSize"]);if(l!=null&&f(i,["imageSize"],l),c(n,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(c(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(c(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return i}function ww(n,e){const i={},o=c(n,["aspectRatio"]);o!=null&&f(i,["aspectRatio"],o);const l=c(n,["imageSize"]);l!=null&&f(i,["imageSize"],l);const r=c(n,["personGeneration"]);r!=null&&f(i,["personGeneration"],r);const d=c(n,["outputMimeType"]);d!=null&&f(i,["imageOutputOptions","mimeType"],d);const h=c(n,["outputCompressionQuality"]);return h!=null&&f(i,["imageOutputOptions","compressionQuality"],h),i}function Aw(n,e){const i={},o=c(n,["bytesBase64Encoded"]);o!=null&&f(i,["imageBytes"],Gi(o));const l=c(n,["mimeType"]);return l!=null&&f(i,["mimeType"],l),i}function gv(n,e){const i={},o=c(n,["gcsUri"]);o!=null&&f(i,["gcsUri"],o);const l=c(n,["bytesBase64Encoded"]);l!=null&&f(i,["imageBytes"],Gi(l));const r=c(n,["mimeType"]);return r!=null&&f(i,["mimeType"],r),i}function vr(n,e){const i={};if(c(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=c(n,["imageBytes"]);o!=null&&f(i,["bytesBase64Encoded"],Gi(o));const l=c(n,["mimeType"]);return l!=null&&f(i,["mimeType"],l),i}function wn(n,e){const i={},o=c(n,["gcsUri"]);o!=null&&f(i,["gcsUri"],o);const l=c(n,["imageBytes"]);l!=null&&f(i,["bytesBase64Encoded"],Gi(l));const r=c(n,["mimeType"]);return r!=null&&f(i,["mimeType"],r),i}function Nw(n,e,i,o){const l={},r=c(e,["pageSize"]);i!==void 0&&r!=null&&f(i,["_query","pageSize"],r);const d=c(e,["pageToken"]);i!==void 0&&d!=null&&f(i,["_query","pageToken"],d);const h=c(e,["filter"]);i!==void 0&&h!=null&&f(i,["_query","filter"],h);const g=c(e,["queryBase"]);return i!==void 0&&g!=null&&f(i,["_url","models_url"],uv(n,g)),l}function Rw(n,e,i,o){const l={},r=c(e,["pageSize"]);i!==void 0&&r!=null&&f(i,["_query","pageSize"],r);const d=c(e,["pageToken"]);i!==void 0&&d!=null&&f(i,["_query","pageToken"],d);const h=c(e,["filter"]);i!==void 0&&h!=null&&f(i,["_query","filter"],h);const g=c(e,["queryBase"]);return i!==void 0&&g!=null&&f(i,["_url","models_url"],uv(n,g)),l}function Mw(n,e,i){const o={},l=c(e,["config"]);return l!=null&&Nw(n,l,o),o}function Iw(n,e,i){const o={},l=c(e,["config"]);return l!=null&&Rw(n,l,o),o}function kw(n,e){const i={},o=c(n,["sdkHttpResponse"]);o!=null&&f(i,["sdkHttpResponse"],o);const l=c(n,["nextPageToken"]);l!=null&&f(i,["nextPageToken"],l);const r=c(n,["_self"]);if(r!=null){let d=cv(r);Array.isArray(d)&&(d=d.map(h=>rd(h))),f(i,["models"],d)}return i}function Dw(n,e){const i={},o=c(n,["sdkHttpResponse"]);o!=null&&f(i,["sdkHttpResponse"],o);const l=c(n,["nextPageToken"]);l!=null&&f(i,["nextPageToken"],l);const r=c(n,["_self"]);if(r!=null){let d=cv(r);Array.isArray(d)&&(d=d.map(h=>ud(h))),f(i,["models"],d)}return i}function Uw(n,e){const i={},o=c(n,["maskMode"]);o!=null&&f(i,["maskMode"],o);const l=c(n,["segmentationClasses"]);l!=null&&f(i,["maskClasses"],l);const r=c(n,["maskDilation"]);return r!=null&&f(i,["dilation"],r),i}function rd(n,e){const i={},o=c(n,["name"]);o!=null&&f(i,["name"],o);const l=c(n,["displayName"]);l!=null&&f(i,["displayName"],l);const r=c(n,["description"]);r!=null&&f(i,["description"],r);const d=c(n,["version"]);d!=null&&f(i,["version"],d);const h=c(n,["_self"]);h!=null&&f(i,["tunedModelInfo"],Qw(h));const g=c(n,["inputTokenLimit"]);g!=null&&f(i,["inputTokenLimit"],g);const m=c(n,["outputTokenLimit"]);m!=null&&f(i,["outputTokenLimit"],m);const y=c(n,["supportedGenerationMethods"]);y!=null&&f(i,["supportedActions"],y);const _=c(n,["temperature"]);_!=null&&f(i,["temperature"],_);const S=c(n,["maxTemperature"]);S!=null&&f(i,["maxTemperature"],S);const C=c(n,["topP"]);C!=null&&f(i,["topP"],C);const N=c(n,["topK"]);N!=null&&f(i,["topK"],N);const D=c(n,["thinking"]);return D!=null&&f(i,["thinking"],D),i}function ud(n,e){const i={},o=c(n,["name"]);o!=null&&f(i,["name"],o);const l=c(n,["displayName"]);l!=null&&f(i,["displayName"],l);const r=c(n,["description"]);r!=null&&f(i,["description"],r);const d=c(n,["versionId"]);d!=null&&f(i,["version"],d);const h=c(n,["deployedModels"]);if(h!=null){let S=h;Array.isArray(S)&&(S=S.map(C=>YC(C))),f(i,["endpoints"],S)}const g=c(n,["labels"]);g!=null&&f(i,["labels"],g);const m=c(n,["_self"]);m!=null&&f(i,["tunedModelInfo"],Zw(m));const y=c(n,["defaultCheckpointId"]);y!=null&&f(i,["defaultCheckpointId"],y);const _=c(n,["checkpoints"]);if(_!=null){let S=_;Array.isArray(S)&&(S=S.map(C=>C)),f(i,["checkpoints"],S)}return i}function Lw(n,e){const i={},o=c(n,["mediaResolution"]);o!=null&&f(i,["mediaResolution"],o);const l=c(n,["codeExecutionResult"]);l!=null&&f(i,["codeExecutionResult"],l);const r=c(n,["executableCode"]);r!=null&&f(i,["executableCode"],r);const d=c(n,["fileData"]);d!=null&&f(i,["fileData"],KC(d));const h=c(n,["functionCall"]);h!=null&&f(i,["functionCall"],XC(h));const g=c(n,["functionResponse"]);g!=null&&f(i,["functionResponse"],g);const m=c(n,["inlineData"]);m!=null&&f(i,["inlineData"],_C(m));const y=c(n,["text"]);y!=null&&f(i,["text"],y);const _=c(n,["thought"]);_!=null&&f(i,["thought"],_);const S=c(n,["thoughtSignature"]);S!=null&&f(i,["thoughtSignature"],S);const C=c(n,["videoMetadata"]);return C!=null&&f(i,["videoMetadata"],C),i}function Pw(n,e){const i={},o=c(n,["productImage"]);return o!=null&&f(i,["image"],wn(o)),i}function Ow(n,e,i){const o={},l=c(n,["numberOfImages"]);e!==void 0&&l!=null&&f(e,["parameters","sampleCount"],l);const r=c(n,["baseSteps"]);e!==void 0&&r!=null&&f(e,["parameters","baseSteps"],r);const d=c(n,["outputGcsUri"]);e!==void 0&&d!=null&&f(e,["parameters","storageUri"],d);const h=c(n,["seed"]);e!==void 0&&h!=null&&f(e,["parameters","seed"],h);const g=c(n,["safetyFilterLevel"]);e!==void 0&&g!=null&&f(e,["parameters","safetySetting"],g);const m=c(n,["personGeneration"]);e!==void 0&&m!=null&&f(e,["parameters","personGeneration"],m);const y=c(n,["addWatermark"]);e!==void 0&&y!=null&&f(e,["parameters","addWatermark"],y);const _=c(n,["outputMimeType"]);e!==void 0&&_!=null&&f(e,["parameters","outputOptions","mimeType"],_);const S=c(n,["outputCompressionQuality"]);e!==void 0&&S!=null&&f(e,["parameters","outputOptions","compressionQuality"],S);const C=c(n,["enhancePrompt"]);e!==void 0&&C!=null&&f(e,["parameters","enhancePrompt"],C);const N=c(n,["labels"]);return e!==void 0&&N!=null&&f(e,["labels"],N),o}function Gw(n,e,i){const o={},l=c(e,["model"]);l!=null&&f(o,["_url","model"],ze(n,l));const r=c(e,["source"]);r!=null&&zw(r,o);const d=c(e,["config"]);return d!=null&&Ow(d,o),o}function Hw(n,e){const i={},o=c(n,["predictions"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(r=>gr(r))),f(i,["generatedImages"],l)}return i}function zw(n,e,i){const o={},l=c(n,["prompt"]);e!==void 0&&l!=null&&f(e,["instances[0]","prompt"],l);const r=c(n,["personImage"]);e!==void 0&&r!=null&&f(e,["instances[0]","personImage","image"],wn(r));const d=c(n,["productImages"]);if(e!==void 0&&d!=null){let h=d;Array.isArray(h)&&(h=h.map(g=>Pw(g))),f(e,["instances[0]","productImages"],h)}return o}function qw(n,e){const i={},o=c(n,["referenceImage"]);o!=null&&f(i,["referenceImage"],wn(o));const l=c(n,["referenceId"]);l!=null&&f(i,["referenceId"],l);const r=c(n,["referenceType"]);r!=null&&f(i,["referenceType"],r);const d=c(n,["maskImageConfig"]);d!=null&&f(i,["maskImageConfig"],Uw(d));const h=c(n,["controlImageConfig"]);h!=null&&f(i,["controlImageConfig"],AC(h));const g=c(n,["styleImageConfig"]);g!=null&&f(i,["styleImageConfig"],g);const m=c(n,["subjectImageConfig"]);return m!=null&&f(i,["subjectImageConfig"],m),i}function vv(n,e){const i={},o=c(n,["safetyAttributes","categories"]);o!=null&&f(i,["categories"],o);const l=c(n,["safetyAttributes","scores"]);l!=null&&f(i,["scores"],l);const r=c(n,["contentType"]);return r!=null&&f(i,["contentType"],r),i}function yv(n,e){const i={},o=c(n,["safetyAttributes","categories"]);o!=null&&f(i,["categories"],o);const l=c(n,["safetyAttributes","scores"]);l!=null&&f(i,["scores"],l);const r=c(n,["contentType"]);return r!=null&&f(i,["contentType"],r),i}function Vw(n,e){const i={},o=c(n,["category"]);if(o!=null&&f(i,["category"],o),c(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const l=c(n,["threshold"]);return l!=null&&f(i,["threshold"],l),i}function Bw(n,e){const i={},o=c(n,["image"]);return o!=null&&f(i,["image"],wn(o)),i}function Fw(n,e,i){const o={},l=c(n,["mode"]);e!==void 0&&l!=null&&f(e,["parameters","mode"],l);const r=c(n,["maxPredictions"]);e!==void 0&&r!=null&&f(e,["parameters","maxPredictions"],r);const d=c(n,["confidenceThreshold"]);e!==void 0&&d!=null&&f(e,["parameters","confidenceThreshold"],d);const h=c(n,["maskDilation"]);e!==void 0&&h!=null&&f(e,["parameters","maskDilation"],h);const g=c(n,["binaryColorThreshold"]);e!==void 0&&g!=null&&f(e,["parameters","binaryColorThreshold"],g);const m=c(n,["labels"]);return e!==void 0&&m!=null&&f(e,["labels"],m),o}function $w(n,e,i){const o={},l=c(e,["model"]);l!=null&&f(o,["_url","model"],ze(n,l));const r=c(e,["source"]);r!=null&&Yw(r,o);const d=c(e,["config"]);return d!=null&&Fw(d,o),o}function Jw(n,e){const i={},o=c(n,["predictions"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(r=>vw(r))),f(i,["generatedMasks"],l)}return i}function Yw(n,e,i){const o={},l=c(n,["prompt"]);e!==void 0&&l!=null&&f(e,["instances[0]","prompt"],l);const r=c(n,["image"]);e!==void 0&&r!=null&&f(e,["instances[0]","image"],wn(r));const d=c(n,["scribbleImage"]);return e!==void 0&&d!=null&&f(e,["instances[0]","scribble"],Bw(d)),o}function Kw(n,e){const i={},o=c(n,["retrievalConfig"]);o!=null&&f(i,["retrievalConfig"],o);const l=c(n,["functionCallingConfig"]);return l!=null&&f(i,["functionCallingConfig"],QC(l)),i}function Xw(n,e){const i={};if(c(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=c(n,["computerUse"]);o!=null&&f(i,["computerUse"],o);const l=c(n,["fileSearch"]);l!=null&&f(i,["fileSearch"],l);const r=c(n,["codeExecution"]);if(r!=null&&f(i,["codeExecution"],r),c(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=c(n,["functionDeclarations"]);if(d!=null){let _=d;Array.isArray(_)&&(_=_.map(S=>S)),f(i,["functionDeclarations"],_)}const h=c(n,["googleMaps"]);h!=null&&f(i,["googleMaps"],bw(h));const g=c(n,["googleSearch"]);g!=null&&f(i,["googleSearch"],xw(g));const m=c(n,["googleSearchRetrieval"]);m!=null&&f(i,["googleSearchRetrieval"],m);const y=c(n,["urlContext"]);return y!=null&&f(i,["urlContext"],y),i}function Ev(n,e){const i={},o=c(n,["retrieval"]);o!=null&&f(i,["retrieval"],o);const l=c(n,["computerUse"]);if(l!=null&&f(i,["computerUse"],l),c(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=c(n,["codeExecution"]);r!=null&&f(i,["codeExecution"],r);const d=c(n,["enterpriseWebSearch"]);d!=null&&f(i,["enterpriseWebSearch"],d);const h=c(n,["functionDeclarations"]);if(h!=null){let S=h;Array.isArray(S)&&(S=S.map(C=>ZC(C))),f(i,["functionDeclarations"],S)}const g=c(n,["googleMaps"]);g!=null&&f(i,["googleMaps"],g);const m=c(n,["googleSearch"]);m!=null&&f(i,["googleSearch"],m);const y=c(n,["googleSearchRetrieval"]);y!=null&&f(i,["googleSearchRetrieval"],y);const _=c(n,["urlContext"]);return _!=null&&f(i,["urlContext"],_),i}function Qw(n,e){const i={},o=c(n,["baseModel"]);o!=null&&f(i,["baseModel"],o);const l=c(n,["createTime"]);l!=null&&f(i,["createTime"],l);const r=c(n,["updateTime"]);return r!=null&&f(i,["updateTime"],r),i}function Zw(n,e){const i={},o=c(n,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&f(i,["baseModel"],o);const l=c(n,["createTime"]);l!=null&&f(i,["createTime"],l);const r=c(n,["updateTime"]);return r!=null&&f(i,["updateTime"],r),i}function Ww(n,e,i){const o={},l=c(n,["displayName"]);e!==void 0&&l!=null&&f(e,["displayName"],l);const r=c(n,["description"]);e!==void 0&&r!=null&&f(e,["description"],r);const d=c(n,["defaultCheckpointId"]);return e!==void 0&&d!=null&&f(e,["defaultCheckpointId"],d),o}function jw(n,e,i){const o={},l=c(n,["displayName"]);e!==void 0&&l!=null&&f(e,["displayName"],l);const r=c(n,["description"]);e!==void 0&&r!=null&&f(e,["description"],r);const d=c(n,["defaultCheckpointId"]);return e!==void 0&&d!=null&&f(e,["defaultCheckpointId"],d),o}function e1(n,e,i){const o={},l=c(e,["model"]);l!=null&&f(o,["_url","name"],ze(n,l));const r=c(e,["config"]);return r!=null&&Ww(r,o),o}function t1(n,e,i){const o={},l=c(e,["model"]);l!=null&&f(o,["_url","model"],ze(n,l));const r=c(e,["config"]);return r!=null&&jw(r,o),o}function n1(n,e,i){const o={},l=c(n,["outputGcsUri"]);e!==void 0&&l!=null&&f(e,["parameters","storageUri"],l);const r=c(n,["safetyFilterLevel"]);e!==void 0&&r!=null&&f(e,["parameters","safetySetting"],r);const d=c(n,["personGeneration"]);e!==void 0&&d!=null&&f(e,["parameters","personGeneration"],d);const h=c(n,["includeRaiReason"]);e!==void 0&&h!=null&&f(e,["parameters","includeRaiReason"],h);const g=c(n,["outputMimeType"]);e!==void 0&&g!=null&&f(e,["parameters","outputOptions","mimeType"],g);const m=c(n,["outputCompressionQuality"]);e!==void 0&&m!=null&&f(e,["parameters","outputOptions","compressionQuality"],m);const y=c(n,["enhanceInputImage"]);e!==void 0&&y!=null&&f(e,["parameters","upscaleConfig","enhanceInputImage"],y);const _=c(n,["imagePreservationFactor"]);e!==void 0&&_!=null&&f(e,["parameters","upscaleConfig","imagePreservationFactor"],_);const S=c(n,["labels"]);e!==void 0&&S!=null&&f(e,["labels"],S);const C=c(n,["numberOfImages"]);e!==void 0&&C!=null&&f(e,["parameters","sampleCount"],C);const N=c(n,["mode"]);return e!==void 0&&N!=null&&f(e,["parameters","mode"],N),o}function i1(n,e,i){const o={},l=c(e,["model"]);l!=null&&f(o,["_url","model"],ze(n,l));const r=c(e,["image"]);r!=null&&f(o,["instances[0]","image"],wn(r));const d=c(e,["upscaleFactor"]);d!=null&&f(o,["parameters","upscaleConfig","upscaleFactor"],d);const h=c(e,["config"]);return h!=null&&n1(h,o),o}function a1(n,e){const i={},o=c(n,["sdkHttpResponse"]);o!=null&&f(i,["sdkHttpResponse"],o);const l=c(n,["predictions"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(d=>gr(d))),f(i,["generatedImages"],r)}return i}function o1(n,e){const i={},o=c(n,["uri"]);o!=null&&f(i,["uri"],o);const l=c(n,["encodedVideo"]);l!=null&&f(i,["videoBytes"],Gi(l));const r=c(n,["encoding"]);return r!=null&&f(i,["mimeType"],r),i}function s1(n,e){const i={},o=c(n,["gcsUri"]);o!=null&&f(i,["uri"],o);const l=c(n,["bytesBase64Encoded"]);l!=null&&f(i,["videoBytes"],Gi(l));const r=c(n,["mimeType"]);return r!=null&&f(i,["mimeType"],r),i}function l1(n,e){const i={},o=c(n,["image"]);o!=null&&f(i,["_self"],wn(o));const l=c(n,["maskMode"]);return l!=null&&f(i,["maskMode"],l),i}function r1(n,e){const i={},o=c(n,["image"]);o!=null&&f(i,["image"],vr(o));const l=c(n,["referenceType"]);return l!=null&&f(i,["referenceType"],l),i}function u1(n,e){const i={},o=c(n,["image"]);o!=null&&f(i,["image"],wn(o));const l=c(n,["referenceType"]);return l!=null&&f(i,["referenceType"],l),i}function _v(n,e){const i={},o=c(n,["uri"]);o!=null&&f(i,["uri"],o);const l=c(n,["videoBytes"]);l!=null&&f(i,["encodedVideo"],Gi(l));const r=c(n,["mimeType"]);return r!=null&&f(i,["encoding"],r),i}function Sv(n,e){const i={},o=c(n,["uri"]);o!=null&&f(i,["gcsUri"],o);const l=c(n,["videoBytes"]);l!=null&&f(i,["bytesBase64Encoded"],Gi(l));const r=c(n,["mimeType"]);return r!=null&&f(i,["mimeType"],r),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function c1(n,e){const i={},o=c(n,["displayName"]);return e!==void 0&&o!=null&&f(e,["displayName"],o),i}function d1(n){const e={},i=c(n,["config"]);return i!=null&&c1(i,e),e}function f1(n,e){const i={},o=c(n,["force"]);return e!==void 0&&o!=null&&f(e,["_query","force"],o),i}function h1(n){const e={},i=c(n,["name"]);i!=null&&f(e,["_url","name"],i);const o=c(n,["config"]);return o!=null&&f1(o,e),e}function p1(n){const e={},i=c(n,["name"]);return i!=null&&f(e,["_url","name"],i),e}function m1(n,e){const i={},o=c(n,["customMetadata"]);if(e!==void 0&&o!=null){let r=o;Array.isArray(r)&&(r=r.map(d=>d)),f(e,["customMetadata"],r)}const l=c(n,["chunkingConfig"]);return e!==void 0&&l!=null&&f(e,["chunkingConfig"],l),i}function g1(n){const e={},i=c(n,["name"]);i!=null&&f(e,["name"],i);const o=c(n,["metadata"]);o!=null&&f(e,["metadata"],o);const l=c(n,["done"]);l!=null&&f(e,["done"],l);const r=c(n,["error"]);r!=null&&f(e,["error"],r);const d=c(n,["response"]);return d!=null&&f(e,["response"],y1(d)),e}function v1(n){const e={},i=c(n,["fileSearchStoreName"]);i!=null&&f(e,["_url","file_search_store_name"],i);const o=c(n,["fileName"]);o!=null&&f(e,["fileName"],o);const l=c(n,["config"]);return l!=null&&m1(l,e),e}function y1(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const o=c(n,["parent"]);o!=null&&f(e,["parent"],o);const l=c(n,["documentName"]);return l!=null&&f(e,["documentName"],l),e}function E1(n,e){const i={},o=c(n,["pageSize"]);e!==void 0&&o!=null&&f(e,["_query","pageSize"],o);const l=c(n,["pageToken"]);return e!==void 0&&l!=null&&f(e,["_query","pageToken"],l),i}function _1(n){const e={},i=c(n,["config"]);return i!=null&&E1(i,e),e}function S1(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const o=c(n,["nextPageToken"]);o!=null&&f(e,["nextPageToken"],o);const l=c(n,["fileSearchStores"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(d=>d)),f(e,["fileSearchStores"],r)}return e}function Tv(n,e){const i={},o=c(n,["mimeType"]);e!==void 0&&o!=null&&f(e,["mimeType"],o);const l=c(n,["displayName"]);e!==void 0&&l!=null&&f(e,["displayName"],l);const r=c(n,["customMetadata"]);if(e!==void 0&&r!=null){let h=r;Array.isArray(h)&&(h=h.map(g=>g)),f(e,["customMetadata"],h)}const d=c(n,["chunkingConfig"]);return e!==void 0&&d!=null&&f(e,["chunkingConfig"],d),i}function T1(n){const e={},i=c(n,["fileSearchStoreName"]);i!=null&&f(e,["_url","file_search_store_name"],i);const o=c(n,["config"]);return o!=null&&Tv(o,e),e}function b1(n){const e={},i=c(n,["sdkHttpResponse"]);return i!=null&&f(e,["sdkHttpResponse"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const x1="Content-Type",C1="X-Server-Timeout",w1="User-Agent",cd="x-goog-api-client",A1="1.41.0",N1=`google-genai-sdk/${A1}`,R1="v1beta1",M1="v1beta",I1=5,k1=[408,429,500,502,503,504];class D1{constructor(e){var i,o,l;this.clientOptions=Object.assign({},e),this.customBaseUrl=(i=e.httpOptions)===null||i===void 0?void 0:i.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const r={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const h=e.project&&e.location||!!e.apiKey;this.customBaseUrl&&!h?(r.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?r.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(r.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),r.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:R1}else{if(!this.clientOptions.apiKey)throw new Rs({message:"API key must be set when using the Gemini API.",status:403});r.apiVersion=(l=this.clientOptions.apiVersion)!==null&&l!==void 0?l:M1,r.baseUrl="https://generativelanguage.googleapis.com/"}r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&o.push(e.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),i=new URL(e);return i.protocol=i.protocol=="http:"?"ws":"wss",i.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,i,o){const l=[this.getRequestUrlInternal(i)];return o&&l.push(this.getBaseResourcePath()),e!==""&&l.push(e),new URL(`${l.join("/")}`)}shouldPrependVertexProjectPath(e,i){return!(i.baseUrl&&i.baseUrlResourceScope===ad.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e,i),l=this.constructUrl(e.path,i,o);if(e.queryParams)for(const[d,h]of Object.entries(e.queryParams))l.searchParams.append(d,String(h));let r={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else r.body=e.body;return r=await this.includeExtraHttpOptionsToRequestInit(r,i,l.toString(),e.abortSignal),this.unaryApiCall(l,r,e.httpMethod)}patchHttpOptions(e,i){const o=JSON.parse(JSON.stringify(e));for(const[l,r]of Object.entries(i))typeof r=="object"?o[l]=Object.assign(Object.assign({},o[l]),r):r!==void 0&&(o[l]=r);return o}async requestStream(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e,i),l=this.constructUrl(e.path,i,o);(!l.searchParams.has("alt")||l.searchParams.get("alt")!=="sse")&&l.searchParams.set("alt","sse");let r={};return r.body=e.body,r=await this.includeExtraHttpOptionsToRequestInit(r,i,l.toString(),e.abortSignal),this.streamApiCall(l,r,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,i,o,l){if(i&&i.timeout||l){const r=new AbortController,d=r.signal;if(i.timeout&&(i==null?void 0:i.timeout)>0){const h=setTimeout(()=>r.abort(),i.timeout);h&&typeof h.unref=="function"&&h.unref()}l&&l.addEventListener("abort",()=>{r.abort()}),e.signal=d}return i&&i.extraBody!==null&&U1(e,i.extraBody),e.headers=await this.getHeadersInternal(i,o),e}async unaryApiCall(e,i,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:o})).then(async l=>(await h0(l),new od(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}async streamApiCall(e,i,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:o})).then(async l=>(await h0(l),this.processStreamResponse(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}processStreamResponse(e){return xn(this,arguments,function*(){var o;const l=(o=e==null?void 0:e.body)===null||o===void 0?void 0:o.getReader(),r=new TextDecoder("utf-8");if(!l)throw new Error("Response body is empty");try{let d="";const h="data:",g=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:m,value:y}=yield ve(l.read());if(m){if(d.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const _=r.decode(y,{stream:!0});try{const N=JSON.parse(_);if("error"in N){const D=JSON.parse(JSON.stringify(N.error)),I=D.status,H=D.code,Q=`got status: ${I}. ${JSON.stringify(N)}`;if(H>=400&&H<600)throw new Rs({message:Q,status:H})}}catch(N){if(N.name==="ApiError")throw N}d+=_;let S=-1,C=0;for(;;){S=-1,C=0;for(const I of g){const H=d.indexOf(I);H!==-1&&(S===-1||H<S)&&(S=H,C=I.length)}if(S===-1)break;const N=d.substring(0,S);d=d.substring(S+C);const D=N.trim();if(D.startsWith(h)){const I=D.substring(h.length).trim();try{const H=new Response(I,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield ve(new od(H))}catch(H){throw new Error(`exception parsing stream chunk ${I}. ${H}`)}}}}}finally{l.releaseLock()}})}async apiCall(e,i){var o;if(!this.clientOptions.httpOptions||!this.clientOptions.httpOptions.retryOptions)return fetch(e,i);const l=this.clientOptions.httpOptions.retryOptions;return bT(async()=>{const d=await fetch(e,i);if(d.ok)return d;throw k1.includes(d.status)?new Error(`Retryable HTTP Error: ${d.statusText}`):new ev(`Non-retryable exception ${d.statusText} sending request`)},{retries:((o=l.attempts)!==null&&o!==void 0?o:I1)-1})}getDefaultHeaders(){const e={},i=N1+" "+this.clientOptions.userAgentExtra;return e[w1]=i,e[cd]=i,e[x1]="application/json",e}async getHeadersInternal(e,i){const o=new Headers;if(e&&e.headers){for(const[l,r]of Object.entries(e.headers))o.append(l,r);e.timeout&&e.timeout>0&&o.append(C1,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(o,i),o}getFileName(e){var i;let o="";return typeof e=="string"&&(o=e.replace(/[/\\]+$/,""),o=(i=o.split(/[/\\]/).pop())!==null&&i!==void 0?i:""),o}async uploadFile(e,i){var o;const l={};i!=null&&(l.mimeType=i.mimeType,l.name=i.name,l.displayName=i.displayName),l.name&&!l.name.startsWith("files/")&&(l.name=`files/${l.name}`);const r=this.clientOptions.uploader,d=await r.stat(e);l.sizeBytes=String(d.size);const h=(o=i==null?void 0:i.mimeType)!==null&&o!==void 0?o:d.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");l.mimeType=h;const g={file:l},m=this.getFileName(e),y=ae("upload/v1beta/files",g._url),_=await this.fetchUploadUrl(y,l.sizeBytes,l.mimeType,m,g,i==null?void 0:i.httpOptions);return r.upload(e,_,this)}async uploadFileToFileSearchStore(e,i,o){var l;const r=this.clientOptions.uploader,d=await r.stat(i),h=String(d.size),g=(l=o==null?void 0:o.mimeType)!==null&&l!==void 0?l:d.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const m=`upload/v1beta/${e}:uploadToFileSearchStore`,y=this.getFileName(i),_={};o!=null&&Tv(o,_);const S=await this.fetchUploadUrl(m,h,g,y,_,o==null?void 0:o.httpOptions);return r.uploadToFileSearchStore(i,S,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,i,o,l,r,d){var h;let g={};d?g=d:g={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i}`,"X-Goog-Upload-Header-Content-Type":`${o}`},l?{"X-Goog-Upload-File-Name":l}:{})};const m=await this.request({path:e,body:JSON.stringify(r),httpMethod:"POST",httpOptions:g});if(!m||!(m!=null&&m.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const y=(h=m==null?void 0:m.headers)===null||h===void 0?void 0:h["x-goog-upload-url"];if(y===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return y}}async function h0(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const i=n.status;let o;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?o=await n.json():o={error:{message:await n.text(),code:n.status,status:n.statusText}};const l=JSON.stringify(o);throw i>=400&&i<600?new Rs({message:l,status:i}):new Error(l)}}function U1(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let i={};if(typeof n.body=="string"&&n.body.length>0)try{const r=JSON.parse(n.body);if(typeof r=="object"&&r!==null&&!Array.isArray(r))i=r;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function o(r,d){const h=Object.assign({},r);for(const g in d)if(Object.prototype.hasOwnProperty.call(d,g)){const m=d[g],y=h[g];m&&typeof m=="object"&&!Array.isArray(m)&&y&&typeof y=="object"&&!Array.isArray(y)?h[g]=o(y,m):(y&&m&&typeof y!=typeof m&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${g}". Original type: ${typeof y}, New type: ${typeof m}. Overwriting.`),h[g]=m)}return h}const l=o(i,e);n.body=JSON.stringify(l)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const L1="mcp_used/unknown";let P1=!1;function bv(n){for(const e of n)if(O1(e)||typeof e=="object"&&"inputSchema"in e)return!0;return P1}function xv(n){var e;const i=(e=n[cd])!==null&&e!==void 0?e:"";n[cd]=(i+` ${L1}`).trimStart()}function O1(n){return n!==null&&typeof n=="object"&&n instanceof Ud}function G1(n){return xn(this,arguments,function*(i,o=100){let l,r=0;for(;r<o;){const d=yield ve(i.listTools({cursor:l}));for(const h of d.tools)yield yield ve(h),r++;if(!d.nextCursor)break;l=d.nextCursor}})}class Ud{constructor(e=[],i){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=i}static create(e,i){return new Ud(e,i)}async initialize(){var e,i,o,l;if(this.mcpTools.length>0)return;const r={},d=[];for(const y of this.mcpClients)try{for(var h=!0,g=(i=void 0,Cn(G1(y))),m;m=await g.next(),e=m.done,!e;h=!0){l=m.value,h=!1;const _=l;d.push(_);const S=_.name;if(r[S])throw new Error(`Duplicate function name ${S} found in MCP tools. Please ensure function names are unique.`);r[S]=y}}catch(_){i={error:_}}finally{try{!h&&!e&&(o=g.return)&&await o.call(g)}finally{if(i)throw i.error}}this.mcpTools=d,this.functionNameToMcpClient=r}async tool(){return await this.initialize(),db(this.mcpTools,this.config)}async callTool(e){await this.initialize();const i=[];for(const o of e)if(o.name in this.functionNameToMcpClient){const l=this.functionNameToMcpClient[o.name];let r;this.config.timeout&&(r={timeout:this.config.timeout});const d=await l.callTool({name:o.name,arguments:o.args},void 0,r);i.push({functionResponse:{name:o.name,response:d.isError?{error:d}:d}})}return i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function H1(n,e,i){const o=new ib;let l;i.data instanceof Blob?l=JSON.parse(await i.data.text()):l=JSON.parse(i.data),Object.assign(o,l),e(o)}class z1{constructor(e,i,o){this.apiClient=e,this.auth=i,this.webSocketFactory=o}async connect(e){var i,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const l=this.apiClient.getWebsocketBaseUrl(),r=this.apiClient.getApiVersion(),d=B1(this.apiClient.getDefaultHeaders()),h=this.apiClient.getApiKey(),g=`${l}/ws/google.ai.generativelanguage.${r}.GenerativeService.BidiGenerateMusic?key=${h}`;let m=()=>{};const y=new Promise(Y=>{m=Y}),_=e.callbacks,S=function(){m({})},C=this.apiClient,N={onopen:S,onmessage:Y=>{H1(C,_.onmessage,Y)},onerror:(i=_==null?void 0:_.onerror)!==null&&i!==void 0?i:function(Y){},onclose:(o=_==null?void 0:_.onclose)!==null&&o!==void 0?o:function(Y){}},D=this.webSocketFactory.create(g,V1(d),N);D.connect(),await y;const Q={setup:{model:ze(this.apiClient,e.model)}};return D.send(JSON.stringify(Q)),new q1(D,this.apiClient)}}class q1{constructor(e,i){this.conn=e,this.apiClient=i}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const i=cC(e);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const i=uC(e);this.conn.send(JSON.stringify(i))}sendPlaybackControl(e){const i={playbackControl:e};this.conn.send(JSON.stringify(i))}play(){this.sendPlaybackControl(fo.PLAY)}pause(){this.sendPlaybackControl(fo.PAUSE)}stop(){this.sendPlaybackControl(fo.STOP)}resetContext(){this.sendPlaybackControl(fo.RESET_CONTEXT)}close(){this.conn.close()}}function V1(n){const e={};return n.forEach((i,o)=>{e[o]=i}),e}function B1(n){const e=new Headers;for(const[i,o]of Object.entries(n))e.append(i,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const F1="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function $1(n,e,i){const o=new nb;let l;i.data instanceof Blob?l=await i.data.text():i.data instanceof ArrayBuffer?l=new TextDecoder().decode(i.data):l=i.data;const r=JSON.parse(l);if(n.isVertexAI()){const d=hC(r);Object.assign(o,d)}else Object.assign(o,r);e(o)}class J1{constructor(e,i,o){this.apiClient=e,this.auth=i,this.webSocketFactory=o,this.music=new z1(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var i,o,l,r,d,h;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const g=this.apiClient.getWebsocketBaseUrl(),m=this.apiClient.getApiVersion();let y;const _=this.apiClient.getHeaders();e.config&&e.config.tools&&bv(e.config.tools)&&xv(_);const S=Q1(_);if(this.apiClient.isVertexAI()){const ee=this.apiClient.getProject(),re=this.apiClient.getLocation(),Te=this.apiClient.getApiKey(),Pe=!!ee&&!!re||!!Te;this.apiClient.getCustomBaseUrl()&&!Pe?y=g:(y=`${g}/ws/google.cloud.aiplatform.${m}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(S,y))}else{const ee=this.apiClient.getApiKey();let re="BidiGenerateContent",Te="key";ee!=null&&ee.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),m!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),re="BidiGenerateContentConstrained",Te="access_token"),y=`${g}/ws/google.ai.generativelanguage.${m}.GenerativeService.${re}?${Te}=${ee}`}let C=()=>{};const N=new Promise(ee=>{C=ee}),D=e.callbacks,I=function(){var ee;(ee=D==null?void 0:D.onopen)===null||ee===void 0||ee.call(D),C({})},H=this.apiClient,Q={onopen:I,onmessage:ee=>{$1(H,D.onmessage,ee)},onerror:(i=D==null?void 0:D.onerror)!==null&&i!==void 0?i:function(ee){},onclose:(o=D==null?void 0:D.onclose)!==null&&o!==void 0?o:function(ee){}},Y=this.webSocketFactory.create(y,X1(S),Q);Y.connect(),await N;let K=ze(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&K.startsWith("publishers/")){const ee=this.apiClient.getProject(),re=this.apiClient.getLocation();ee&&re&&(K=`projects/${ee}/locations/${re}/`+K)}let Z={};this.apiClient.isVertexAI()&&((l=e.config)===null||l===void 0?void 0:l.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[rr.AUDIO]}:e.config.responseModalities=[rr.AUDIO]),!((r=e.config)===null||r===void 0)&&r.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const q=(h=(d=e.config)===null||d===void 0?void 0:d.tools)!==null&&h!==void 0?h:[],W=[];for(const ee of q)if(this.isCallableTool(ee)){const re=ee;W.push(await re.tool())}else W.push(ee);W.length>0&&(e.config.tools=W);const me={model:K,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?Z=rC(this.apiClient,me):Z=lC(this.apiClient,me),delete Z.config,Y.send(JSON.stringify(Z)),new K1(Y,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const Y1={turnComplete:!0};class K1{constructor(e,i){this.conn=e,this.apiClient=i}tLiveClientContent(e,i){if(i.turns!==null&&i.turns!==void 0){let o=[];try{o=vn(i.turns),e.isVertexAI()||(o=o.map(l=>mr(l)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof i.turns}'`)}return{clientContent:{turns:o,turnComplete:i.turnComplete}}}return{clientContent:{turnComplete:i.turnComplete}}}tLiveClienttToolResponse(e,i){let o=[];if(i.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(i.functionResponses)?o=i.functionResponses:o=[i.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const r of o){if(typeof r!="object"||r===null||!("name"in r)||!("response"in r))throw new Error(`Could not parse function response, type '${typeof r}'.`);if(!e.isVertexAI()&&!("id"in r))throw new Error(F1)}return{toolResponse:{functionResponses:o}}}sendClientContent(e){e=Object.assign(Object.assign({},Y1),e);const i=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(i))}sendRealtimeInput(e){let i={};this.apiClient.isVertexAI()?i={realtimeInput:fC(e)}:i={realtimeInput:dC(e)},this.conn.send(JSON.stringify(i))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const i=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(i))}close(){this.conn.close()}}function X1(n){const e={};return n.forEach((i,o)=>{e[o]=i}),e}function Q1(n){const e=new Headers;for(const[i,o]of Object.entries(n))e.append(i,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const p0=10;function m0(n){var e,i,o;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let l=!1;for(const d of(i=n==null?void 0:n.tools)!==null&&i!==void 0?i:[])if(mo(d)){l=!0;break}if(!l)return!0;const r=(o=n==null?void 0:n.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return r&&(r<0||!Number.isInteger(r))||r==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",r),!0):!1}function mo(n){return"callTool"in n&&typeof n.callTool=="function"}function Z1(n){var e,i,o;return(o=(i=(e=n.config)===null||e===void 0?void 0:e.tools)===null||i===void 0?void 0:i.some(l=>mo(l)))!==null&&o!==void 0?o:!1}function g0(n){var e;const i=[];return!((e=n==null?void 0:n.config)===null||e===void 0)&&e.tools&&n.config.tools.forEach((o,l)=>{if(mo(o))return;const r=o;r.functionDeclarations&&r.functionDeclarations.length>0&&i.push(l)}),i}function v0(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class W1 extends ii{constructor(e){super(),this.apiClient=e,this.generateContent=async i=>{var o,l,r,d,h;const g=await this.processParamsMaybeAddMcpUsage(i);if(this.maybeMoveToResponseJsonSchem(i),!Z1(i)||m0(i.config))return await this.generateContentInternal(g);const m=g0(i);if(m.length>0){const D=m.map(I=>`tools[${I}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${D}.`)}let y,_;const S=vn(g.contents),C=(r=(l=(o=g.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls)!==null&&r!==void 0?r:p0;let N=0;for(;N<C&&(y=await this.generateContentInternal(g),!(!y.functionCalls||y.functionCalls.length===0));){const D=y.candidates[0].content,I=[];for(const H of(h=(d=i.config)===null||d===void 0?void 0:d.tools)!==null&&h!==void 0?h:[])if(mo(H)){const Y=await H.callTool(y.functionCalls);I.push(...Y)}N++,_={role:"user",parts:I},g.contents=vn(g.contents),g.contents.push(D),g.contents.push(_),v0(g.config)&&(S.push(D),S.push(_))}return v0(g.config)&&(y.automaticFunctionCallingHistory=S),y},this.generateContentStream=async i=>{var o,l,r,d,h;if(this.maybeMoveToResponseJsonSchem(i),m0(i.config)){const _=await this.processParamsMaybeAddMcpUsage(i);return await this.generateContentStreamInternal(_)}const g=g0(i);if(g.length>0){const _=g.map(S=>`tools[${S}]`).join(", ");throw new Error(`Incompatible tools found at ${_}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const m=(r=(l=(o=i==null?void 0:i.config)===null||o===void 0?void 0:o.toolConfig)===null||l===void 0?void 0:l.functionCallingConfig)===null||r===void 0?void 0:r.streamFunctionCallArguments,y=(h=(d=i==null?void 0:i.config)===null||d===void 0?void 0:d.automaticFunctionCalling)===null||h===void 0?void 0:h.disable;if(m&&!y)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(i)},this.generateImages=async i=>await this.generateImagesInternal(i).then(o=>{var l;let r;const d=[];if(o!=null&&o.generatedImages)for(const g of o.generatedImages)g&&(g!=null&&g.safetyAttributes)&&((l=g==null?void 0:g.safetyAttributes)===null||l===void 0?void 0:l.contentType)==="Positive Prompt"?r=g==null?void 0:g.safetyAttributes:d.push(g);let h;return r?h={generatedImages:d,positivePromptSafetyAttributes:r,sdkHttpResponse:o.sdkHttpResponse}:h={generatedImages:d,sdkHttpResponse:o.sdkHttpResponse},h}),this.list=async i=>{var o;const d={config:Object.assign(Object.assign({},{queryBase:!0}),i==null?void 0:i.config)};if(this.apiClient.isVertexAI()&&!d.config.queryBase){if(!((o=d.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");d.config.filter="labels.tune-type:*"}return new pa(ni.PAGED_ITEM_MODELS,h=>this.listInternal(h),await this.listInternal(d),d)},this.editImage=async i=>{const o={model:i.model,prompt:i.prompt,referenceImages:[],config:i.config};return i.referenceImages&&i.referenceImages&&(o.referenceImages=i.referenceImages.map(l=>l.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async i=>{let o={numberOfImages:1,mode:"upscale"};i.config&&(o=Object.assign(Object.assign({},o),i.config));const l={model:i.model,image:i.image,upscaleFactor:i.upscaleFactor,config:o};return await this.upscaleImageInternal(l)},this.generateVideos=async i=>{var o,l,r,d,h,g;if((i.prompt||i.image||i.video)&&i.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((o=i.video)===null||o===void 0)&&o.uri&&(!((l=i.video)===null||l===void 0)&&l.videoBytes)?i.video={uri:i.video.uri,mimeType:i.video.mimeType}:!((d=(r=i.source)===null||r===void 0?void 0:r.video)===null||d===void 0)&&d.uri&&(!((g=(h=i.source)===null||h===void 0?void 0:h.video)===null||g===void 0)&&g.videoBytes)&&(i.source.video={uri:i.source.video.uri,mimeType:i.source.video.mimeType})),await this.generateVideosInternal(i)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var i,o,l;const r=(i=e.config)===null||i===void 0?void 0:i.tools;if(!r)return e;const d=await Promise.all(r.map(async g=>mo(g)?await g.tool():g)),h={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:d})};if(h.config.tools=d,e.config&&e.config.tools&&bv(e.config.tools)){const g=(l=(o=e.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&l!==void 0?l:{};let m=Object.assign({},g);Object.keys(m).length===0&&(m=this.apiClient.getDefaultHeaders()),xv(m),h.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:m})}return h}async initAfcToolsMap(e){var i,o,l;const r=new Map;for(const d of(o=(i=e.config)===null||i===void 0?void 0:i.tools)!==null&&o!==void 0?o:[])if(mo(d)){const h=d,g=await h.tool();for(const m of(l=g.functionDeclarations)!==null&&l!==void 0?l:[]){if(!m.name)throw new Error("Function declaration name is required.");if(r.has(m.name))throw new Error(`Duplicate tool declaration name: ${m.name}`);r.set(m.name,h)}}return r}async processAfcStream(e){var i,o,l;const r=(l=(o=(i=e.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&l!==void 0?l:p0;let d=!1,h=0;const g=await this.initAfcToolsMap(e);return(function(m,y,_){return xn(this,arguments,function*(){for(var S,C,N,D,I,H;h<r;){d&&(h++,d=!1);const Z=yield ve(m.processParamsMaybeAddMcpUsage(_)),q=yield ve(m.generateContentStreamInternal(Z)),W=[],me=[];try{for(var Q=!0,Y=(C=void 0,Cn(q)),K;K=yield ve(Y.next()),S=K.done,!S;Q=!0){D=K.value,Q=!1;const ee=D;if(yield yield ve(ee),ee.candidates&&(!((I=ee.candidates[0])===null||I===void 0)&&I.content)){me.push(ee.candidates[0].content);for(const re of(H=ee.candidates[0].content.parts)!==null&&H!==void 0?H:[])if(h<r&&re.functionCall){if(!re.functionCall.name)throw new Error("Function call name was not returned by the model.");if(y.has(re.functionCall.name)){const Te=yield ve(y.get(re.functionCall.name).callTool([re.functionCall]));W.push(...Te)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${y.keys()}, mising tool: ${re.functionCall.name}`)}}}}catch(ee){C={error:ee}}finally{try{!Q&&!S&&(N=Y.return)&&(yield ve(N.call(Y)))}finally{if(C)throw C.error}}if(W.length>0){d=!0;const ee=new vs;ee.candidates=[{content:{role:"user",parts:W}}],yield yield ve(ee);const re=[];re.push(...me),re.push({role:"user",parts:W});const Te=vn(_.contents).concat(re);_.contents=Te}else break}})})(this,g,e)}async generateContentInternal(e){var i,o,l,r;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=c0(this.apiClient,e);return h=ae("{model}:generateContent",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const _=f0(y),S=new vs;return Object.assign(S,_),S})}else{const m=u0(this.apiClient,e);return h=ae("{model}:generateContent",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const _=d0(y),S=new vs;return Object.assign(S,_),S})}}async generateContentStreamInternal(e){var i,o,l,r;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=c0(this.apiClient,e);return h=ae("{model}:streamGenerateContent?alt=sse",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.requestStream({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),d.then(function(_){return xn(this,arguments,function*(){var S,C,N,D;try{for(var I=!0,H=Cn(_),Q;Q=yield ve(H.next()),S=Q.done,!S;I=!0){D=Q.value,I=!1;const Y=D,K=f0(yield ve(Y.json()),e);K.sdkHttpResponse={headers:Y.headers};const Z=new vs;Object.assign(Z,K),yield yield ve(Z)}}catch(Y){C={error:Y}}finally{try{!I&&!S&&(N=H.return)&&(yield ve(N.call(H)))}finally{if(C)throw C.error}}})})}else{const m=u0(this.apiClient,e);return h=ae("{model}:streamGenerateContent?alt=sse",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.requestStream({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),d.then(function(_){return xn(this,arguments,function*(){var S,C,N,D;try{for(var I=!0,H=Cn(_),Q;Q=yield ve(H.next()),S=Q.done,!S;I=!0){D=Q.value,I=!1;const Y=D,K=d0(yield ve(Y.json()),e);K.sdkHttpResponse={headers:Y.headers};const Z=new vs;Object.assign(Z,K),yield yield ve(Z)}}catch(Y){C={error:Y}}finally{try{!I&&!S&&(N=H.return)&&(yield ve(N.call(H)))}finally{if(C)throw C.error}}})})}}async embedContent(e){var i,o,l,r;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=FC(this.apiClient,e);return h=ae("{model}:predict",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const _=JC(y),S=new Jg;return Object.assign(S,_),S})}else{const m=BC(this.apiClient,e);return h=ae("{model}:batchEmbedContents",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const _=$C(y),S=new Jg;return Object.assign(S,_),S})}}async generateImagesInternal(e){var i,o,l,r;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=iw(this.apiClient,e);return h=ae("{model}:predict",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const _=ow(y),S=new Yg;return Object.assign(S,_),S})}else{const m=nw(this.apiClient,e);return h=ae("{model}:predict",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const _=aw(y),S=new Yg;return Object.assign(S,_),S})}}async editImageInternal(e){var i,o;let l,r="",d={};if(this.apiClient.isVertexAI()){const h=HC(this.apiClient,e);return r=ae("{model}:predict",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:g.headers},y})),l.then(g=>{const m=zC(g),y=new FT;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var i,o;let l,r="",d={};if(this.apiClient.isVertexAI()){const h=i1(this.apiClient,e);return r=ae("{model}:predict",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:g.headers},y})),l.then(g=>{const m=a1(g),y=new $T;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var i,o;let l,r="",d={};if(this.apiClient.isVertexAI()){const h=Gw(this.apiClient,e);return r=ae("{model}:predict",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),l.then(g=>{const m=Hw(g),y=new JT;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var i,o;let l,r="",d={};if(this.apiClient.isVertexAI()){const h=$w(this.apiClient,e);return r=ae("{model}:predict",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),l.then(g=>{const m=Jw(g),y=new YT;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var i,o,l,r;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=Tw(this.apiClient,e);return h=ae("{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),d.then(y=>ud(y))}else{const m=Sw(this.apiClient,e);return h=ae("{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),d.then(y=>rd(y))}}async listInternal(e){var i,o,l,r;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=Iw(this.apiClient,e);return h=ae("{models_url}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const _=Dw(y),S=new Kg;return Object.assign(S,_),S})}else{const m=Mw(this.apiClient,e);return h=ae("{models_url}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const _=kw(y),S=new Kg;return Object.assign(S,_),S})}}async update(e){var i,o,l,r;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=t1(this.apiClient,e);return h=ae("{model}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),d.then(y=>ud(y))}else{const m=e1(this.apiClient,e);return h=ae("{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),d.then(y=>rd(y))}}async delete(e){var i,o,l,r;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=LC(this.apiClient,e);return h=ae("{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const _=OC(y),S=new Xg;return Object.assign(S,_),S})}else{const m=UC(this.apiClient,e);return h=ae("{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const _=PC(y),S=new Xg;return Object.assign(S,_),S})}}async countTokens(e){var i,o,l,r;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=IC(this.apiClient,e);return h=ae("{model}:countTokens",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const _=DC(y),S=new Qg;return Object.assign(S,_),S})}else{const m=MC(this.apiClient,e);return h=ae("{model}:countTokens",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const _=kC(y),S=new Qg;return Object.assign(S,_),S})}}async computeTokens(e){var i,o;let l,r="",d={};if(this.apiClient.isVertexAI()){const h=bC(this.apiClient,e);return r=ae("{model}:computeTokens",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:g.headers},y})),l.then(g=>{const m=xC(g),y=new KT;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var i,o,l,r;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=dw(this.apiClient,e);return h=ae("{model}:predictLongRunning",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),d.then(y=>{const _=uw(y),S=new ur;return Object.assign(S,_),S})}else{const m=cw(this.apiClient,e);return h=ae("{model}:predictLongRunning",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),d.then(y=>{const _=rw(y),S=new ur;return Object.assign(S,_),S})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class j1 extends ii{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const i=e.operation,o=e.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const l=i.name.split("/operations/")[0];let r;o&&"httpOptions"in o&&(r=o.httpOptions);const d=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:l,config:{httpOptions:r}});return i._fromAPIResponse({apiResponse:d,_isVertexAI:!0})}else{const l=await this.getVideosOperationInternal({operationName:i.name,config:o});return i._fromAPIResponse({apiResponse:l,_isVertexAI:!1})}}async get(e){const i=e.operation,o=e.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const l=i.name.split("/operations/")[0];let r;o&&"httpOptions"in o&&(r=o.httpOptions);const d=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:l,config:{httpOptions:r}});return i._fromAPIResponse({apiResponse:d,_isVertexAI:!0})}else{const l=await this.getVideosOperationInternal({operationName:i.name,config:o});return i._fromAPIResponse({apiResponse:l,_isVertexAI:!1})}}async getVideosOperationInternal(e){var i,o,l,r;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=GT(e);return h=ae("{operationName}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),d}else{const m=OT(e);return h=ae("{operationName}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),d}}async fetchPredictVideosOperationInternal(e){var i,o;let l,r="",d={};if(this.apiClient.isVertexAI()){const h=MT(e);return r=ae("{resourceName}:fetchPredictOperation",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),l}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function eA(n){const e={},i=c(n,["data"]);if(i!=null&&f(e,["data"],i),c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=c(n,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}function tA(n){const e={},i=c(n,["parts"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(r=>cA(r))),f(e,["parts"],l)}const o=c(n,["role"]);return o!=null&&f(e,["role"],o),e}function nA(n,e,i){const o={},l=c(e,["expireTime"]);i!==void 0&&l!=null&&f(i,["expireTime"],l);const r=c(e,["newSessionExpireTime"]);i!==void 0&&r!=null&&f(i,["newSessionExpireTime"],r);const d=c(e,["uses"]);i!==void 0&&d!=null&&f(i,["uses"],d);const h=c(e,["liveConnectConstraints"]);i!==void 0&&h!=null&&f(i,["bidiGenerateContentSetup"],uA(n,h));const g=c(e,["lockAdditionalFields"]);return i!==void 0&&g!=null&&f(i,["fieldMask"],g),o}function iA(n,e){const i={},o=c(e,["config"]);return o!=null&&f(i,["config"],nA(n,o,i)),i}function aA(n){const e={};if(c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=c(n,["fileUri"]);i!=null&&f(e,["fileUri"],i);const o=c(n,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}function oA(n){const e={},i=c(n,["id"]);i!=null&&f(e,["id"],i);const o=c(n,["args"]);o!=null&&f(e,["args"],o);const l=c(n,["name"]);if(l!=null&&f(e,["name"],l),c(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function sA(n){const e={};if(c(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=c(n,["enableWidget"]);return i!=null&&f(e,["enableWidget"],i),e}function lA(n){const e={};if(c(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=c(n,["timeRangeFilter"]);return i!=null&&f(e,["timeRangeFilter"],i),e}function rA(n,e){const i={},o=c(n,["generationConfig"]);e!==void 0&&o!=null&&f(e,["setup","generationConfig"],o);const l=c(n,["responseModalities"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig","responseModalities"],l);const r=c(n,["temperature"]);e!==void 0&&r!=null&&f(e,["setup","generationConfig","temperature"],r);const d=c(n,["topP"]);e!==void 0&&d!=null&&f(e,["setup","generationConfig","topP"],d);const h=c(n,["topK"]);e!==void 0&&h!=null&&f(e,["setup","generationConfig","topK"],h);const g=c(n,["maxOutputTokens"]);e!==void 0&&g!=null&&f(e,["setup","generationConfig","maxOutputTokens"],g);const m=c(n,["mediaResolution"]);e!==void 0&&m!=null&&f(e,["setup","generationConfig","mediaResolution"],m);const y=c(n,["seed"]);e!==void 0&&y!=null&&f(e,["setup","generationConfig","seed"],y);const _=c(n,["speechConfig"]);e!==void 0&&_!=null&&f(e,["setup","generationConfig","speechConfig"],Dd(_));const S=c(n,["thinkingConfig"]);e!==void 0&&S!=null&&f(e,["setup","generationConfig","thinkingConfig"],S);const C=c(n,["enableAffectiveDialog"]);e!==void 0&&C!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],C);const N=c(n,["systemInstruction"]);e!==void 0&&N!=null&&f(e,["setup","systemInstruction"],tA(Mt(N)));const D=c(n,["tools"]);if(e!==void 0&&D!=null){let q=_o(D);Array.isArray(q)&&(q=q.map(W=>fA(Eo(W)))),f(e,["setup","tools"],q)}const I=c(n,["sessionResumption"]);e!==void 0&&I!=null&&f(e,["setup","sessionResumption"],dA(I));const H=c(n,["inputAudioTranscription"]);e!==void 0&&H!=null&&f(e,["setup","inputAudioTranscription"],H);const Q=c(n,["outputAudioTranscription"]);e!==void 0&&Q!=null&&f(e,["setup","outputAudioTranscription"],Q);const Y=c(n,["realtimeInputConfig"]);e!==void 0&&Y!=null&&f(e,["setup","realtimeInputConfig"],Y);const K=c(n,["contextWindowCompression"]);e!==void 0&&K!=null&&f(e,["setup","contextWindowCompression"],K);const Z=c(n,["proactivity"]);if(e!==void 0&&Z!=null&&f(e,["setup","proactivity"],Z),c(n,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return i}function uA(n,e){const i={},o=c(e,["model"]);o!=null&&f(i,["setup","model"],ze(n,o));const l=c(e,["config"]);return l!=null&&f(i,["config"],rA(l,i)),i}function cA(n){const e={},i=c(n,["mediaResolution"]);i!=null&&f(e,["mediaResolution"],i);const o=c(n,["codeExecutionResult"]);o!=null&&f(e,["codeExecutionResult"],o);const l=c(n,["executableCode"]);l!=null&&f(e,["executableCode"],l);const r=c(n,["fileData"]);r!=null&&f(e,["fileData"],aA(r));const d=c(n,["functionCall"]);d!=null&&f(e,["functionCall"],oA(d));const h=c(n,["functionResponse"]);h!=null&&f(e,["functionResponse"],h);const g=c(n,["inlineData"]);g!=null&&f(e,["inlineData"],eA(g));const m=c(n,["text"]);m!=null&&f(e,["text"],m);const y=c(n,["thought"]);y!=null&&f(e,["thought"],y);const _=c(n,["thoughtSignature"]);_!=null&&f(e,["thoughtSignature"],_);const S=c(n,["videoMetadata"]);return S!=null&&f(e,["videoMetadata"],S),e}function dA(n){const e={},i=c(n,["handle"]);if(i!=null&&f(e,["handle"],i),c(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function fA(n){const e={};if(c(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=c(n,["computerUse"]);i!=null&&f(e,["computerUse"],i);const o=c(n,["fileSearch"]);o!=null&&f(e,["fileSearch"],o);const l=c(n,["codeExecution"]);if(l!=null&&f(e,["codeExecution"],l),c(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const r=c(n,["functionDeclarations"]);if(r!=null){let y=r;Array.isArray(y)&&(y=y.map(_=>_)),f(e,["functionDeclarations"],y)}const d=c(n,["googleMaps"]);d!=null&&f(e,["googleMaps"],sA(d));const h=c(n,["googleSearch"]);h!=null&&f(e,["googleSearch"],lA(h));const g=c(n,["googleSearchRetrieval"]);g!=null&&f(e,["googleSearchRetrieval"],g);const m=c(n,["urlContext"]);return m!=null&&f(e,["urlContext"],m),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hA(n){const e=[];for(const i in n)if(Object.prototype.hasOwnProperty.call(n,i)){const o=n[i];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){const l=Object.keys(o).map(r=>`${i}.${r}`);e.push(...l)}else e.push(i)}return e.join(",")}function pA(n,e){let i=null;const o=n.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){const r=o.setup;typeof r=="object"&&r!==null?(n.bidiGenerateContentSetup=r,i=r):delete n.bidiGenerateContentSetup}else o!==void 0&&delete n.bidiGenerateContentSetup;const l=n.fieldMask;if(i){const r=hA(i);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)r?n.fieldMask=r:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&l!==null&&Array.isArray(l)&&l.length>0){const d=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let h=[];l.length>0&&(h=l.map(m=>d.includes(m)?`generationConfig.${m}`:m));const g=[];r&&g.push(r),h.length>0&&g.push(...h),g.length>0?n.fieldMask=g.join(","):delete n.fieldMask}else delete n.fieldMask}else l!==null&&Array.isArray(l)&&l.length>0?n.fieldMask=l.join(","):delete n.fieldMask;return n}class mA extends ii{constructor(e){super(),this.apiClient=e}async create(e){var i,o;let l,r="",d={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const h=iA(this.apiClient,e);r=ae("auth_tokens",h._url),d=h._query,delete h.config,delete h._url,delete h._query;const g=pA(h,e.config);return l=this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(m=>m.json()),l.then(m=>m)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gA(n,e){const i={},o=c(n,["force"]);return e!==void 0&&o!=null&&f(e,["_query","force"],o),i}function vA(n){const e={},i=c(n,["name"]);i!=null&&f(e,["_url","name"],i);const o=c(n,["config"]);return o!=null&&gA(o,e),e}function yA(n){const e={},i=c(n,["name"]);return i!=null&&f(e,["_url","name"],i),e}function EA(n,e){const i={},o=c(n,["pageSize"]);e!==void 0&&o!=null&&f(e,["_query","pageSize"],o);const l=c(n,["pageToken"]);return e!==void 0&&l!=null&&f(e,["_query","pageToken"],l),i}function _A(n){const e={},i=c(n,["parent"]);i!=null&&f(e,["_url","parent"],i);const o=c(n,["config"]);return o!=null&&EA(o,e),e}function SA(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const o=c(n,["nextPageToken"]);o!=null&&f(e,["nextPageToken"],o);const l=c(n,["documents"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(d=>d)),f(e,["documents"],r)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class TA extends ii{constructor(e){super(),this.apiClient=e,this.list=async i=>new pa(ni.PAGED_ITEM_DOCUMENTS,o=>this.listInternal({parent:i.parent,config:o.config}),await this.listInternal(i),i)}async get(e){var i,o;let l,r="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=yA(e);return r=ae("{name}",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),l.then(g=>g)}}async delete(e){var i,o;let l="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=vA(e);l=ae("{name}",d._url),r=d._query,delete d._url,delete d._query,await this.apiClient.request({path:l,queryParams:r,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var i,o;let l,r="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=_A(e);return r=ae("{parent}/documents",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),l.then(g=>{const m=SA(g),y=new XT;return Object.assign(y,m),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bA extends ii{constructor(e,i=new TA(e)){super(),this.apiClient=e,this.documents=i,this.list=async(o={})=>new pa(ni.PAGED_ITEM_FILE_SEARCH_STORES,l=>this.listInternal(l),await this.listInternal(o),o)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var i,o;let l,r="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=d1(e);return r=ae("fileSearchStores",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),l.then(g=>g)}}async get(e){var i,o;let l,r="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=p1(e);return r=ae("{name}",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),l.then(g=>g)}}async delete(e){var i,o;let l="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=h1(e);l=ae("{name}",d._url),r=d._query,delete d._url,delete d._query,await this.apiClient.request({path:l,queryParams:r,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var i,o;let l,r="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=_1(e);return r=ae("fileSearchStores",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),l.then(g=>{const m=S1(g),y=new QT;return Object.assign(y,m),y})}}async uploadToFileSearchStoreInternal(e){var i,o;let l,r="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=T1(e);return r=ae("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),l.then(g=>{const m=b1(g),y=new ZT;return Object.assign(y,m),y})}}async importFile(e){var i,o;let l,r="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=v1(e);return r=ae("{file_search_store_name}:importFile",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),l.then(g=>{const m=g1(g),y=new Nd;return Object.assign(y,m),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Cv=function(){const{crypto:n}=globalThis;if(n!=null&&n.randomUUID)return Cv=n.randomUUID.bind(n),n.randomUUID();const e=new Uint8Array(1),i=n?()=>n.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,o=>(+o^i()&15>>+o/4).toString(16))};const xA=()=>Cv();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dd(n){return typeof n=="object"&&n!==null&&("name"in n&&n.name==="AbortError"||"message"in n&&String(n.message).includes("FetchRequestCanceledException"))}const fd=n=>{if(n instanceof Error)return n;if(typeof n=="object"&&n!==null){try{if(Object.prototype.toString.call(n)==="[object Error]"){const e=new Error(n.message,n.cause?{cause:n.cause}:{});return n.stack&&(e.stack=n.stack),n.cause&&!e.cause&&(e.cause=n.cause),n.name&&(e.name=n.name),e}}catch{}try{return new Error(JSON.stringify(n))}catch{}}return new Error(n)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yn extends Error{}class Pt extends yn{constructor(e,i,o,l){super(`${Pt.makeMessage(e,i,o)}`),this.status=e,this.headers=l,this.error=i}static makeMessage(e,i,o){const l=i!=null&&i.message?typeof i.message=="string"?i.message:JSON.stringify(i.message):i?JSON.stringify(i):o;return e&&l?`${e} ${l}`:e?`${e} status code (no body)`:l||"(no status code or body)"}static generate(e,i,o,l){if(!e||!l)return new yr({message:o,cause:fd(i)});const r=i;return e===400?new Av(e,r,o,l):e===401?new Nv(e,r,o,l):e===403?new Rv(e,r,o,l):e===404?new Mv(e,r,o,l):e===409?new Iv(e,r,o,l):e===422?new kv(e,r,o,l):e===429?new Dv(e,r,o,l):e>=500?new Uv(e,r,o,l):new Pt(e,r,o,l)}}class hd extends Pt{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class yr extends Pt{constructor({message:e,cause:i}){super(void 0,void 0,e||"Connection error.",void 0),i&&(this.cause=i)}}class wv extends yr{constructor({message:e}={}){super({message:e??"Request timed out."})}}class Av extends Pt{}class Nv extends Pt{}class Rv extends Pt{}class Mv extends Pt{}class Iv extends Pt{}class kv extends Pt{}class Dv extends Pt{}class Uv extends Pt{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const CA=/^[a-z][a-z0-9+.-]*:/i,wA=n=>CA.test(n);let pd=n=>(pd=Array.isArray,pd(n));const AA=pd;let NA=AA;const y0=NA;function RA(n){if(!n)return!0;for(const e in n)return!1;return!0}function MA(n,e){return Object.prototype.hasOwnProperty.call(n,e)}const IA=(n,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new yn(`${n} must be an integer`);if(e<0)throw new yn(`${n} must be a positive integer`);return e},kA=n=>{try{return JSON.parse(n)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const DA=n=>new Promise(e=>setTimeout(e,n));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const co="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function UA(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const LA=()=>{var n,e,i,o,l;const r=UA();if(r==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":co,"X-Stainless-OS":_0(Deno.build.os),"X-Stainless-Arch":E0(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(n=Deno.version)===null||n===void 0?void 0:n.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":co,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(r==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":co,"X-Stainless-OS":_0((i=globalThis.process.platform)!==null&&i!==void 0?i:"unknown"),"X-Stainless-Arch":E0((o=globalThis.process.arch)!==null&&o!==void 0?o:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(l=globalThis.process.version)!==null&&l!==void 0?l:"unknown"};const d=PA();return d?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":co,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${d.browser}`,"X-Stainless-Runtime-Version":d.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":co,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function PA(){if(typeof navigator>"u"||!navigator)return null;const n=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:i}of n){const o=i.exec(navigator.userAgent);if(o){const l=o[1]||0,r=o[2]||0,d=o[3]||0;return{browser:e,version:`${l}.${r}.${d}`}}}return null}const E0=n=>n==="x32"?"x32":n==="x86_64"||n==="x64"?"x64":n==="arm"?"arm":n==="aarch64"||n==="arm64"?"arm64":n?`other:${n}`:"unknown",_0=n=>(n=n.toLowerCase(),n.includes("ios")?"iOS":n==="android"?"Android":n==="darwin"?"MacOS":n==="win32"?"Windows":n==="freebsd"?"FreeBSD":n==="openbsd"?"OpenBSD":n==="linux"?"Linux":n?`Other:${n}`:"Unknown");let Xl;const OA=()=>Xl??(Xl=LA());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function GA(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Lv(...n){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...n)}function HA(n){let e=Symbol.asyncIterator in n?n[Symbol.asyncIterator]():n[Symbol.iterator]();return Lv({start(){},async pull(i){const{done:o,value:l}=await e.next();o?i.close():i.enqueue(l)},async cancel(){var i;await((i=e.return)===null||i===void 0?void 0:i.call(e))}})}function Pv(n){if(n[Symbol.asyncIterator])return n;const e=n.getReader();return{async next(){try{const i=await e.read();return i!=null&&i.done&&e.releaseLock(),i}catch(i){throw e.releaseLock(),i}},async return(){const i=e.cancel();return e.releaseLock(),await i,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function zA(n){var e,i;if(n===null||typeof n!="object")return;if(n[Symbol.asyncIterator]){await((i=(e=n[Symbol.asyncIterator]()).return)===null||i===void 0?void 0:i.call(e));return}const o=n.getReader(),l=o.cancel();o.releaseLock(),await l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qA=({headers:n,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ov=()=>{var n;if(typeof File>"u"){const{process:e}=globalThis,i=typeof((n=e==null?void 0:e.versions)===null||n===void 0?void 0:n.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(i?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Kc(n,e,i){return Ov(),new File(n,e??"unknown_file",i)}function VA(n){return(typeof n=="object"&&n!==null&&("name"in n&&n.name&&String(n.name)||"url"in n&&n.url&&String(n.url)||"filename"in n&&n.filename&&String(n.filename)||"path"in n&&n.path&&String(n.path))||"").split(/[\\/]/).pop()||void 0}const BA=n=>n!=null&&typeof n=="object"&&typeof n[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Gv=n=>n!=null&&typeof n=="object"&&typeof n.size=="number"&&typeof n.type=="string"&&typeof n.text=="function"&&typeof n.slice=="function"&&typeof n.arrayBuffer=="function",FA=n=>n!=null&&typeof n=="object"&&typeof n.name=="string"&&typeof n.lastModified=="number"&&Gv(n),$A=n=>n!=null&&typeof n=="object"&&typeof n.url=="string"&&typeof n.blob=="function";async function JA(n,e,i){if(Ov(),n=await n,FA(n))return n instanceof File?n:Kc([await n.arrayBuffer()],n.name);if($A(n)){const l=await n.blob();return e||(e=new URL(n.url).pathname.split(/[\\/]/).pop()),Kc(await md(l),e,i)}const o=await md(n);if(e||(e=VA(n)),!(i!=null&&i.type)){const l=o.find(r=>typeof r=="object"&&"type"in r&&r.type);typeof l=="string"&&(i=Object.assign(Object.assign({},i),{type:l}))}return Kc(o,e,i)}async function md(n){var e,i,o,l,r;let d=[];if(typeof n=="string"||ArrayBuffer.isView(n)||n instanceof ArrayBuffer)d.push(n);else if(Gv(n))d.push(n instanceof Blob?n:await n.arrayBuffer());else if(BA(n))try{for(var h=!0,g=Cn(n),m;m=await g.next(),e=m.done,!e;h=!0){l=m.value,h=!1;const y=l;d.push(...await md(y))}}catch(y){i={error:y}}finally{try{!h&&!e&&(o=g.return)&&await o.call(g)}finally{if(i)throw i.error}}else{const y=(r=n==null?void 0:n.constructor)===null||r===void 0?void 0:r.name;throw new Error(`Unexpected data type: ${typeof n}${y?`; constructor: ${y}`:""}${YA(n)}`)}return d}function YA(n){return typeof n!="object"||n===null?"":`; props: [${Object.getOwnPropertyNames(n).map(i=>`"${i}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Hv{constructor(e){this._client=e}}Hv._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zv(n){return n.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const S0=Object.freeze(Object.create(null)),KA=(n=zv)=>(function(i,...o){if(i.length===1)return i[0];let l=!1;const r=[],d=i.reduce((y,_,S)=>{var C,N,D;/[?#]/.test(_)&&(l=!0);const I=o[S];let H=(l?encodeURIComponent:n)(""+I);return S!==o.length&&(I==null||typeof I=="object"&&I.toString===((D=Object.getPrototypeOf((N=Object.getPrototypeOf((C=I.hasOwnProperty)!==null&&C!==void 0?C:S0))!==null&&N!==void 0?N:S0))===null||D===void 0?void 0:D.toString))&&(H=I+"",r.push({start:y.length+_.length,length:H.length,error:`Value of type ${Object.prototype.toString.call(I).slice(8,-1)} is not a valid path parameter`})),y+_+(S===o.length?"":H)},""),h=d.split(/[?#]/,1)[0],g=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let m;for(;(m=g.exec(h))!==null;)r.push({start:m.index,length:m[0].length,error:`Value "${m[0]}" can't be safely passed as a path parameter`});if(r.sort((y,_)=>y.start-_.start),r.length>0){let y=0;const _=r.reduce((S,C)=>{const N=" ".repeat(C.start-y),D="^".repeat(C.length);return y=C.start+C.length,S+N+D},"");throw new yn(`Path parameters result in path with invalid segments:
${r.map(S=>S.error).join(`
`)}
${d}
${_}`)}return d}),Ql=KA(zv);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qv extends Hv{create(e,i){var o;const{api_version:l=this._client.apiVersion}=e,r=dr(e,["api_version"]);if("model"in r&&"agent_config"in r)throw new yn("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in r&&"generation_config"in r)throw new yn("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Ql`/${l}/interactions`,Object.assign(Object.assign({body:r},i),{stream:(o=e.stream)!==null&&o!==void 0?o:!1}))}delete(e,i={},o){const{api_version:l=this._client.apiVersion}=i??{};return this._client.delete(Ql`/${l}/interactions/${e}`,o)}cancel(e,i={},o){const{api_version:l=this._client.apiVersion}=i??{};return this._client.post(Ql`/${l}/interactions/${e}/cancel`,o)}get(e,i={},o){var l;const r=i??{},{api_version:d=this._client.apiVersion}=r,h=dr(r,["api_version"]);return this._client.get(Ql`/${d}/interactions/${e}`,Object.assign(Object.assign({query:h},o),{stream:(l=i==null?void 0:i.stream)!==null&&l!==void 0?l:!1}))}}qv._key=Object.freeze(["interactions"]);class Vv extends qv{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function XA(n){let e=0;for(const l of n)e+=l.length;const i=new Uint8Array(e);let o=0;for(const l of n)i.set(l,o),o+=l.length;return i}let Zl;function Ld(n){let e;return(Zl??(e=new globalThis.TextEncoder,Zl=e.encode.bind(e)))(n)}let Wl;function T0(n){let e;return(Wl??(e=new globalThis.TextDecoder,Wl=e.decode.bind(e)))(n)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Er{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const i=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?Ld(e):e;this.buffer=XA([this.buffer,i]);const o=[];let l;for(;(l=QA(this.buffer,this.carriageReturnIndex))!=null;){if(l.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=l.index;continue}if(this.carriageReturnIndex!=null&&(l.index!==this.carriageReturnIndex+1||l.carriage)){o.push(T0(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const r=this.carriageReturnIndex!==null?l.preceding-1:l.preceding,d=T0(this.buffer.subarray(0,r));o.push(d),this.buffer=this.buffer.subarray(l.index),this.carriageReturnIndex=null}return o}flush(){return this.buffer.length?this.decode(`
`):[]}}Er.NEWLINE_CHARS=new Set([`
`,"\r"]);Er.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function QA(n,e){for(let l=e??0;l<n.length;l++){if(n[l]===10)return{preceding:l,index:l+1,carriage:!1};if(n[l]===13)return{preceding:l,index:l+1,carriage:!0}}return null}function ZA(n){for(let o=0;o<n.length-1;o++){if(n[o]===10&&n[o+1]===10||n[o]===13&&n[o+1]===13)return o+2;if(n[o]===13&&n[o+1]===10&&o+3<n.length&&n[o+2]===13&&n[o+3]===10)return o+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fr={off:0,error:200,warn:300,info:400,debug:500},b0=(n,e,i)=>{if(n){if(MA(fr,n))return n;Lt(i).warn(`${e} was set to ${JSON.stringify(n)}, expected one of ${JSON.stringify(Object.keys(fr))}`)}};function xs(){}function jl(n,e,i){return!e||fr[n]>fr[i]?xs:e[n].bind(e)}const WA={error:xs,warn:xs,info:xs,debug:xs};let x0=new WeakMap;function Lt(n){var e;const i=n.logger,o=(e=n.logLevel)!==null&&e!==void 0?e:"off";if(!i)return WA;const l=x0.get(i);if(l&&l[0]===o)return l[1];const r={error:jl("error",i,o),warn:jl("warn",i,o),info:jl("info",i,o),debug:jl("debug",i,o)};return x0.set(i,[o,r]),r}const da=n=>(n.options&&(n.options=Object.assign({},n.options),delete n.options.headers),n.headers&&(n.headers=Object.fromEntries((n.headers instanceof Headers?[...n.headers]:Object.entries(n.headers)).map(([e,i])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":i]))),"retryOfRequestLogID"in n&&(n.retryOfRequestLogID&&(n.retryOf=n.retryOfRequestLogID),delete n.retryOfRequestLogID),n);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ho{constructor(e,i,o){this.iterator=e,this.controller=i,this.client=o}static fromSSEResponse(e,i,o){let l=!1;const r=o?Lt(o):console;function d(){return xn(this,arguments,function*(){var g,m,y,_;if(l)throw new yn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");l=!0;let S=!1;try{try{for(var C=!0,N=Cn(jA(e,i)),D;D=yield ve(N.next()),g=D.done,!g;C=!0){_=D.value,C=!1;const I=_;if(!S)if(I.data.startsWith("[DONE]")){S=!0;continue}else try{yield yield ve(JSON.parse(I.data))}catch(H){throw r.error("Could not parse message into JSON:",I.data),r.error("From chunk:",I.raw),H}}}catch(I){m={error:I}}finally{try{!C&&!g&&(y=N.return)&&(yield ve(y.call(N)))}finally{if(m)throw m.error}}S=!0}catch(I){if(dd(I))return yield ve(void 0);throw I}finally{S||i.abort()}})}return new ho(d,i,o)}static fromReadableStream(e,i,o){let l=!1;function r(){return xn(this,arguments,function*(){var g,m,y,_;const S=new Er,C=Pv(e);try{for(var N=!0,D=Cn(C),I;I=yield ve(D.next()),g=I.done,!g;N=!0){_=I.value,N=!1;const H=_;for(const Q of S.decode(H))yield yield ve(Q)}}catch(H){m={error:H}}finally{try{!N&&!g&&(y=D.return)&&(yield ve(y.call(D)))}finally{if(m)throw m.error}}for(const H of S.flush())yield yield ve(H)})}function d(){return xn(this,arguments,function*(){var g,m,y,_;if(l)throw new yn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");l=!0;let S=!1;try{try{for(var C=!0,N=Cn(r()),D;D=yield ve(N.next()),g=D.done,!g;C=!0){_=D.value,C=!1;const I=_;S||I&&(yield yield ve(JSON.parse(I)))}}catch(I){m={error:I}}finally{try{!C&&!g&&(y=N.return)&&(yield ve(y.call(N)))}finally{if(m)throw m.error}}S=!0}catch(I){if(dd(I))return yield ve(void 0);throw I}finally{S||i.abort()}})}return new ho(d,i,o)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],i=[],o=this.iterator(),l=r=>({next:()=>{if(r.length===0){const d=o.next();e.push(d),i.push(d)}return r.shift()}});return[new ho(()=>l(e),this.controller,this.client),new ho(()=>l(i),this.controller,this.client)]}toReadableStream(){const e=this;let i;return Lv({async start(){i=e[Symbol.asyncIterator]()},async pull(o){try{const{value:l,done:r}=await i.next();if(r)return o.close();const d=Ld(JSON.stringify(l)+`
`);o.enqueue(d)}catch(l){o.error(l)}},async cancel(){var o;await((o=i.return)===null||o===void 0?void 0:o.call(i))}})}}function jA(n,e){return xn(this,arguments,function*(){var o,l,r,d;if(!n.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new yn("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new yn("Attempted to iterate over a response with no body");const h=new tN,g=new Er,m=Pv(n.body);try{for(var y=!0,_=Cn(eN(m)),S;S=yield ve(_.next()),o=S.done,!o;y=!0){d=S.value,y=!1;const C=d;for(const N of g.decode(C)){const D=h.decode(N);D&&(yield yield ve(D))}}}catch(C){l={error:C}}finally{try{!y&&!o&&(r=_.return)&&(yield ve(r.call(_)))}finally{if(l)throw l.error}}for(const C of g.flush()){const N=h.decode(C);N&&(yield yield ve(N))}})}function eN(n){return xn(this,arguments,function*(){var i,o,l,r;let d=new Uint8Array;try{for(var h=!0,g=Cn(n),m;m=yield ve(g.next()),i=m.done,!i;h=!0){r=m.value,h=!1;const y=r;if(y==null)continue;const _=y instanceof ArrayBuffer?new Uint8Array(y):typeof y=="string"?Ld(y):y;let S=new Uint8Array(d.length+_.length);S.set(d),S.set(_,d.length),d=S;let C;for(;(C=ZA(d))!==-1;)yield yield ve(d.slice(0,C)),d=d.slice(C)}}catch(y){o={error:y}}finally{try{!h&&!i&&(l=g.return)&&(yield ve(l.call(g)))}finally{if(o)throw o.error}}d.length>0&&(yield yield ve(d))})}class tN{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const r={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],r}if(this.chunks.push(e),e.startsWith(":"))return null;let[i,o,l]=nN(e,":");return l.startsWith(" ")&&(l=l.substring(1)),i==="event"?this.event=l:i==="data"&&this.data.push(l),null}}function nN(n,e){const i=n.indexOf(e);return i!==-1?[n.substring(0,i),e,n.substring(i+e.length)]:[n,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function iN(n,e){const{response:i,requestLogID:o,retryOfRequestLogID:l,startTime:r}=e,d=await(async()=>{var h;if(e.options.stream)return Lt(n).debug("response",i.status,i.url,i.headers,i.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(i,e.controller,n):ho.fromSSEResponse(i,e.controller,n);if(i.status===204)return null;if(e.options.__binaryResponse)return i;const g=i.headers.get("content-type"),m=(h=g==null?void 0:g.split(";")[0])===null||h===void 0?void 0:h.trim();return(m==null?void 0:m.includes("application/json"))||(m==null?void 0:m.endsWith("+json"))?i.headers.get("content-length")==="0"?void 0:await i.json():await i.text()})();return Lt(n).debug(`[${o}] response parsed`,da({retryOfRequestLogID:l,url:i.url,status:i.status,body:d,durationMs:Date.now()-r})),d}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Pd extends Promise{constructor(e,i,o=iN){super(l=>{l(null)}),this.responsePromise=i,this.parseResponse=o,this.client=e}_thenUnwrap(e){return new Pd(this.client,this.responsePromise,async(i,o)=>e(await this.parseResponse(i,o),o))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,i]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:i}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,i){return this.parse().then(e,i)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Bv=Symbol("brand.privateNullableHeaders");function*aN(n){if(!n)return;if(Bv in n){const{values:o,nulls:l}=n;yield*o.entries();for(const r of l)yield[r,null];return}let e=!1,i;n instanceof Headers?i=n.entries():y0(n)?i=n:(e=!0,i=Object.entries(n??{}));for(let o of i){const l=o[0];if(typeof l!="string")throw new TypeError("expected header name to be a string");const r=y0(o[1])?o[1]:[o[1]];let d=!1;for(const h of r)h!==void 0&&(e&&!d&&(d=!0,yield[l,null]),yield[l,h])}}const ys=n=>{const e=new Headers,i=new Set;for(const o of n){const l=new Set;for(const[r,d]of aN(o)){const h=r.toLowerCase();l.has(h)||(e.delete(r),l.add(h)),d===null?(e.delete(r),i.add(h)):(e.append(r,d),i.delete(h))}}return{[Bv]:!0,values:e,nulls:i}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Xc=n=>{var e,i,o,l,r,d;if(typeof globalThis.process<"u")return(o=(i=(e=xT)===null||e===void 0?void 0:e[n])===null||i===void 0?void 0:i.trim())!==null&&o!==void 0?o:void 0;if(typeof globalThis.Deno<"u")return(d=(r=(l=globalThis.Deno.env)===null||l===void 0?void 0:l.get)===null||r===void 0?void 0:r.call(l,n))===null||d===void 0?void 0:d.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Fv;class _r{constructor(e){var i,o,l,r,d,h,g,{baseURL:m=Xc("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:y=(i=Xc("GEMINI_API_KEY"))!==null&&i!==void 0?i:null,apiVersion:_="v1beta"}=e,S=dr(e,["baseURL","apiKey","apiVersion"]);const C=Object.assign(Object.assign({apiKey:y,apiVersion:_},S),{baseURL:m||"https://generativelanguage.googleapis.com"});this.baseURL=C.baseURL,this.timeout=(o=C.timeout)!==null&&o!==void 0?o:_r.DEFAULT_TIMEOUT,this.logger=(l=C.logger)!==null&&l!==void 0?l:console;const N="warn";this.logLevel=N,this.logLevel=(d=(r=b0(C.logLevel,"ClientOptions.logLevel",this))!==null&&r!==void 0?r:b0(Xc("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&d!==void 0?d:N,this.fetchOptions=C.fetchOptions,this.maxRetries=(h=C.maxRetries)!==null&&h!==void 0?h:2,this.fetch=(g=C.fetch)!==null&&g!==void 0?g:GA(),this.encoder=qA,this._options=C,this.apiKey=y,this.apiVersion=_,this.clientAdapter=C.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:i}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!i.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const i=ys([e.headers]);if(!(i.values.has("authorization")||i.values.has("x-goog-api-key"))){if(this.apiKey)return ys([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return ys([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([i,o])=>typeof o<"u").map(([i,o])=>{if(typeof o=="string"||typeof o=="number"||typeof o=="boolean")return`${encodeURIComponent(i)}=${encodeURIComponent(o)}`;if(o===null)return`${encodeURIComponent(i)}=`;throw new yn(`Cannot stringify type ${typeof o}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${co}`}defaultIdempotencyKey(){return`stainless-node-retry-${xA()}`}makeStatusError(e,i,o,l){return Pt.generate(e,i,o,l)}buildURL(e,i,o){const l=!this.baseURLOverridden()&&o||this.baseURL,r=wA(e)?new URL(e):new URL(l+(l.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),d=this.defaultQuery();return RA(d)||(i=Object.assign(Object.assign({},d),i)),typeof i=="object"&&i&&!Array.isArray(i)&&(r.search=this.stringifyQuery(i)),r.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const i=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${i}`}}async prepareRequest(e,{url:i,options:o}){}get(e,i){return this.methodRequest("get",e,i)}post(e,i){return this.methodRequest("post",e,i)}patch(e,i){return this.methodRequest("patch",e,i)}put(e,i){return this.methodRequest("put",e,i)}delete(e,i){return this.methodRequest("delete",e,i)}methodRequest(e,i,o){return this.request(Promise.resolve(o).then(l=>Object.assign({method:e,path:i},l)))}request(e,i=null){return new Pd(this,this.makeRequest(e,i,void 0))}async makeRequest(e,i,o){var l,r,d;const h=await e,g=(l=h.maxRetries)!==null&&l!==void 0?l:this.maxRetries;i==null&&(i=g),await this.prepareOptions(h);const{req:m,url:y,timeout:_}=await this.buildRequest(h,{retryCount:g-i});await this.prepareRequest(m,{url:y,options:h});const S="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),C=o===void 0?"":`, retryOf: ${o}`,N=Date.now();if(Lt(this).debug(`[${S}] sending request`,da({retryOfRequestLogID:o,method:h.method,url:y,options:h,headers:m.headers})),!((r=h.signal)===null||r===void 0)&&r.aborted)throw new hd;const D=new AbortController,I=await this.fetchWithTimeout(y,m,_,D).catch(fd),H=Date.now();if(I instanceof globalThis.Error){const Y=`retrying, ${i} attempts remaining`;if(!((d=h.signal)===null||d===void 0)&&d.aborted)throw new hd;const K=dd(I)||/timed? ?out/i.test(String(I)+("cause"in I?String(I.cause):""));if(i)return Lt(this).info(`[${S}] connection ${K?"timed out":"failed"} - ${Y}`),Lt(this).debug(`[${S}] connection ${K?"timed out":"failed"} (${Y})`,da({retryOfRequestLogID:o,url:y,durationMs:H-N,message:I.message})),this.retryRequest(h,i,o??S);throw Lt(this).info(`[${S}] connection ${K?"timed out":"failed"} - error; no more retries left`),Lt(this).debug(`[${S}] connection ${K?"timed out":"failed"} (error; no more retries left)`,da({retryOfRequestLogID:o,url:y,durationMs:H-N,message:I.message})),K?new wv:new yr({cause:I})}const Q=`[${S}${C}] ${m.method} ${y} ${I.ok?"succeeded":"failed"} with status ${I.status} in ${H-N}ms`;if(!I.ok){const Y=await this.shouldRetry(I);if(i&&Y){const ee=`retrying, ${i} attempts remaining`;return await zA(I.body),Lt(this).info(`${Q} - ${ee}`),Lt(this).debug(`[${S}] response error (${ee})`,da({retryOfRequestLogID:o,url:I.url,status:I.status,headers:I.headers,durationMs:H-N})),this.retryRequest(h,i,o??S,I.headers)}const K=Y?"error; no more retries left":"error; not retryable";Lt(this).info(`${Q} - ${K}`);const Z=await I.text().catch(ee=>fd(ee).message),q=kA(Z),W=q?void 0:Z;throw Lt(this).debug(`[${S}] response error (${K})`,da({retryOfRequestLogID:o,url:I.url,status:I.status,headers:I.headers,message:W,durationMs:Date.now()-N})),this.makeStatusError(I.status,q,W,I.headers)}return Lt(this).info(Q),Lt(this).debug(`[${S}] response start`,da({retryOfRequestLogID:o,url:I.url,status:I.status,headers:I.headers,durationMs:H-N})),{response:I,options:h,controller:D,requestLogID:S,retryOfRequestLogID:o,startTime:N}}async fetchWithTimeout(e,i,o,l){const r=i||{},{signal:d,method:h}=r,g=dr(r,["signal","method"]),m=this._makeAbort(l);d&&d.addEventListener("abort",m,{once:!0});const y=setTimeout(m,o),_=globalThis.ReadableStream&&g.body instanceof globalThis.ReadableStream||typeof g.body=="object"&&g.body!==null&&Symbol.asyncIterator in g.body,S=Object.assign(Object.assign(Object.assign({signal:l.signal},_?{duplex:"half"}:{}),{method:"GET"}),g);h&&(S.method=h.toUpperCase());try{return await this.fetch.call(void 0,e,S)}finally{clearTimeout(y)}}async shouldRetry(e){const i=e.headers.get("x-should-retry");return i==="true"?!0:i==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,i,o,l){var r;let d;const h=l==null?void 0:l.get("retry-after-ms");if(h){const m=parseFloat(h);Number.isNaN(m)||(d=m)}const g=l==null?void 0:l.get("retry-after");if(g&&!d){const m=parseFloat(g);Number.isNaN(m)?d=Date.parse(g)-Date.now():d=m*1e3}if(!(d&&0<=d&&d<60*1e3)){const m=(r=e.maxRetries)!==null&&r!==void 0?r:this.maxRetries;d=this.calculateDefaultRetryTimeoutMillis(i,m)}return await DA(d),this.makeRequest(e,i-1,o)}calculateDefaultRetryTimeoutMillis(e,i){const r=i-e,d=Math.min(.5*Math.pow(2,r),8),h=1-Math.random()*.25;return d*h*1e3}async buildRequest(e,{retryCount:i=0}={}){var o,l,r;const d=Object.assign({},e),{method:h,path:g,query:m,defaultBaseURL:y}=d,_=this.buildURL(g,m,y);"timeout"in d&&IA("timeout",d.timeout),d.timeout=(o=d.timeout)!==null&&o!==void 0?o:this.timeout;const{bodyHeaders:S,body:C}=this.buildBody({options:d}),N=await this.buildHeaders({options:e,method:h,bodyHeaders:S,retryCount:i});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:h,headers:N},d.signal&&{signal:d.signal}),globalThis.ReadableStream&&C instanceof globalThis.ReadableStream&&{duplex:"half"}),C&&{body:C}),(l=this.fetchOptions)!==null&&l!==void 0?l:{}),(r=d.fetchOptions)!==null&&r!==void 0?r:{}),url:_,timeout:d.timeout}}async buildHeaders({options:e,method:i,bodyHeaders:o,retryCount:l}){let r={};this.idempotencyHeader&&i!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),r[this.idempotencyHeader]=e.idempotencyKey);const d=await this.authHeaders(e);let h=ys([r,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(l)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),OA()),this._options.defaultHeaders,o,e.headers,d]);return this.validateHeaders(h),h.values}_makeAbort(e){return()=>e.abort()}buildBody({options:{body:e,headers:i}}){if(!e)return{bodyHeaders:void 0,body:void 0};const o=ys([i]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&o.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:HA(e)}:this.encoder({body:e,headers:o})}}_r.DEFAULT_TIMEOUT=6e4;class _t extends _r{constructor(){super(...arguments),this.interactions=new Vv(this)}}Fv=_t;_t.GeminiNextGenAPIClient=Fv;_t.GeminiNextGenAPIClientError=yn;_t.APIError=Pt;_t.APIConnectionError=yr;_t.APIConnectionTimeoutError=wv;_t.APIUserAbortError=hd;_t.NotFoundError=Mv;_t.ConflictError=Iv;_t.RateLimitError=Dv;_t.BadRequestError=Av;_t.AuthenticationError=Nv;_t.InternalServerError=Uv;_t.PermissionDeniedError=Rv;_t.UnprocessableEntityError=kv;_t.toFile=JA;_t.Interactions=Vv;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function oN(n,e){const i={},o=c(n,["name"]);return o!=null&&f(i,["_url","name"],o),i}function sN(n,e){const i={},o=c(n,["name"]);return o!=null&&f(i,["_url","name"],o),i}function lN(n,e){const i={},o=c(n,["sdkHttpResponse"]);return o!=null&&f(i,["sdkHttpResponse"],o),i}function rN(n,e){const i={},o=c(n,["sdkHttpResponse"]);return o!=null&&f(i,["sdkHttpResponse"],o),i}function uN(n,e,i){const o={};if(c(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const l=c(n,["tunedModelDisplayName"]);if(e!==void 0&&l!=null&&f(e,["displayName"],l),c(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const r=c(n,["epochCount"]);e!==void 0&&r!=null&&f(e,["tuningTask","hyperparameters","epochCount"],r);const d=c(n,["learningRateMultiplier"]);if(d!=null&&f(o,["tuningTask","hyperparameters","learningRateMultiplier"],d),c(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(c(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(c(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");if(c(n,["tuningMode"])!==void 0)throw new Error("tuningMode parameter is not supported in Gemini API.");if(c(n,["customBaseModel"])!==void 0)throw new Error("customBaseModel parameter is not supported in Gemini API.");const h=c(n,["batchSize"]);e!==void 0&&h!=null&&f(e,["tuningTask","hyperparameters","batchSize"],h);const g=c(n,["learningRate"]);if(e!==void 0&&g!=null&&f(e,["tuningTask","hyperparameters","learningRate"],g),c(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(c(n,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");if(c(n,["baseTeacherModel"])!==void 0)throw new Error("baseTeacherModel parameter is not supported in Gemini API.");if(c(n,["tunedTeacherModelSource"])!==void 0)throw new Error("tunedTeacherModelSource parameter is not supported in Gemini API.");if(c(n,["sftLossWeightMultiplier"])!==void 0)throw new Error("sftLossWeightMultiplier parameter is not supported in Gemini API.");if(c(n,["outputUri"])!==void 0)throw new Error("outputUri parameter is not supported in Gemini API.");if(c(n,["encryptionSpec"])!==void 0)throw new Error("encryptionSpec parameter is not supported in Gemini API.");return o}function cN(n,e,i){const o={};let l=c(i,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const q=c(n,["validationDataset"]);e!==void 0&&q!=null&&f(e,["supervisedTuningSpec"],Qc(q))}else if(l==="PREFERENCE_TUNING"){const q=c(n,["validationDataset"]);e!==void 0&&q!=null&&f(e,["preferenceOptimizationSpec"],Qc(q))}else if(l==="DISTILLATION"){const q=c(n,["validationDataset"]);e!==void 0&&q!=null&&f(e,["distillationSpec"],Qc(q))}const r=c(n,["tunedModelDisplayName"]);e!==void 0&&r!=null&&f(e,["tunedModelDisplayName"],r);const d=c(n,["description"]);e!==void 0&&d!=null&&f(e,["description"],d);let h=c(i,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const q=c(n,["epochCount"]);e!==void 0&&q!=null&&f(e,["supervisedTuningSpec","hyperParameters","epochCount"],q)}else if(h==="PREFERENCE_TUNING"){const q=c(n,["epochCount"]);e!==void 0&&q!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],q)}else if(h==="DISTILLATION"){const q=c(n,["epochCount"]);e!==void 0&&q!=null&&f(e,["distillationSpec","hyperParameters","epochCount"],q)}let g=c(i,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const q=c(n,["learningRateMultiplier"]);e!==void 0&&q!=null&&f(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],q)}else if(g==="PREFERENCE_TUNING"){const q=c(n,["learningRateMultiplier"]);e!==void 0&&q!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],q)}else if(g==="DISTILLATION"){const q=c(n,["learningRateMultiplier"]);e!==void 0&&q!=null&&f(e,["distillationSpec","hyperParameters","learningRateMultiplier"],q)}let m=c(i,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const q=c(n,["exportLastCheckpointOnly"]);e!==void 0&&q!=null&&f(e,["supervisedTuningSpec","exportLastCheckpointOnly"],q)}else if(m==="PREFERENCE_TUNING"){const q=c(n,["exportLastCheckpointOnly"]);e!==void 0&&q!=null&&f(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],q)}else if(m==="DISTILLATION"){const q=c(n,["exportLastCheckpointOnly"]);e!==void 0&&q!=null&&f(e,["distillationSpec","exportLastCheckpointOnly"],q)}let y=c(i,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const q=c(n,["adapterSize"]);e!==void 0&&q!=null&&f(e,["supervisedTuningSpec","hyperParameters","adapterSize"],q)}else if(y==="PREFERENCE_TUNING"){const q=c(n,["adapterSize"]);e!==void 0&&q!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],q)}else if(y==="DISTILLATION"){const q=c(n,["adapterSize"]);e!==void 0&&q!=null&&f(e,["distillationSpec","hyperParameters","adapterSize"],q)}let _=c(i,["config","method"]);if(_===void 0&&(_="SUPERVISED_FINE_TUNING"),_==="SUPERVISED_FINE_TUNING"){const q=c(n,["tuningMode"]);e!==void 0&&q!=null&&f(e,["supervisedTuningSpec","tuningMode"],q)}const S=c(n,["customBaseModel"]);e!==void 0&&S!=null&&f(e,["customBaseModel"],S);let C=c(i,["config","method"]);if(C===void 0&&(C="SUPERVISED_FINE_TUNING"),C==="SUPERVISED_FINE_TUNING"){const q=c(n,["batchSize"]);e!==void 0&&q!=null&&f(e,["supervisedTuningSpec","hyperParameters","batchSize"],q)}let N=c(i,["config","method"]);if(N===void 0&&(N="SUPERVISED_FINE_TUNING"),N==="SUPERVISED_FINE_TUNING"){const q=c(n,["learningRate"]);e!==void 0&&q!=null&&f(e,["supervisedTuningSpec","hyperParameters","learningRate"],q)}const D=c(n,["labels"]);e!==void 0&&D!=null&&f(e,["labels"],D);const I=c(n,["beta"]);e!==void 0&&I!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","beta"],I);const H=c(n,["baseTeacherModel"]);e!==void 0&&H!=null&&f(e,["distillationSpec","baseTeacherModel"],H);const Q=c(n,["tunedTeacherModelSource"]);e!==void 0&&Q!=null&&f(e,["distillationSpec","tunedTeacherModelSource"],Q);const Y=c(n,["sftLossWeightMultiplier"]);e!==void 0&&Y!=null&&f(e,["distillationSpec","hyperParameters","sftLossWeightMultiplier"],Y);const K=c(n,["outputUri"]);e!==void 0&&K!=null&&f(e,["outputUri"],K);const Z=c(n,["encryptionSpec"]);return e!==void 0&&Z!=null&&f(e,["encryptionSpec"],Z),o}function dN(n,e){const i={},o=c(n,["baseModel"]);o!=null&&f(i,["baseModel"],o);const l=c(n,["preTunedModel"]);l!=null&&f(i,["preTunedModel"],l);const r=c(n,["trainingDataset"]);r!=null&&TN(r);const d=c(n,["config"]);return d!=null&&uN(d,i),i}function fN(n,e){const i={},o=c(n,["baseModel"]);o!=null&&f(i,["baseModel"],o);const l=c(n,["preTunedModel"]);l!=null&&f(i,["preTunedModel"],l);const r=c(n,["trainingDataset"]);r!=null&&bN(r,i,e);const d=c(n,["config"]);return d!=null&&cN(d,i,e),i}function hN(n,e){const i={},o=c(n,["name"]);return o!=null&&f(i,["_url","name"],o),i}function pN(n,e){const i={},o=c(n,["name"]);return o!=null&&f(i,["_url","name"],o),i}function mN(n,e,i){const o={},l=c(n,["pageSize"]);e!==void 0&&l!=null&&f(e,["_query","pageSize"],l);const r=c(n,["pageToken"]);e!==void 0&&r!=null&&f(e,["_query","pageToken"],r);const d=c(n,["filter"]);return e!==void 0&&d!=null&&f(e,["_query","filter"],d),o}function gN(n,e,i){const o={},l=c(n,["pageSize"]);e!==void 0&&l!=null&&f(e,["_query","pageSize"],l);const r=c(n,["pageToken"]);e!==void 0&&r!=null&&f(e,["_query","pageToken"],r);const d=c(n,["filter"]);return e!==void 0&&d!=null&&f(e,["_query","filter"],d),o}function vN(n,e){const i={},o=c(n,["config"]);return o!=null&&mN(o,i),i}function yN(n,e){const i={},o=c(n,["config"]);return o!=null&&gN(o,i),i}function EN(n,e){const i={},o=c(n,["sdkHttpResponse"]);o!=null&&f(i,["sdkHttpResponse"],o);const l=c(n,["nextPageToken"]);l!=null&&f(i,["nextPageToken"],l);const r=c(n,["tunedModels"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(h=>$v(h))),f(i,["tuningJobs"],d)}return i}function _N(n,e){const i={},o=c(n,["sdkHttpResponse"]);o!=null&&f(i,["sdkHttpResponse"],o);const l=c(n,["nextPageToken"]);l!=null&&f(i,["nextPageToken"],l);const r=c(n,["tuningJobs"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(h=>gd(h))),f(i,["tuningJobs"],d)}return i}function SN(n,e){const i={},o=c(n,["name"]);o!=null&&f(i,["model"],o);const l=c(n,["name"]);return l!=null&&f(i,["endpoint"],l),i}function TN(n,e){const i={};if(c(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const o=c(n,["examples"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(r=>r)),f(i,["examples","examples"],l)}return i}function bN(n,e,i){const o={};let l=c(i,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const d=c(n,["gcsUri"]);e!==void 0&&d!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],d)}else if(l==="PREFERENCE_TUNING"){const d=c(n,["gcsUri"]);e!==void 0&&d!=null&&f(e,["preferenceOptimizationSpec","trainingDatasetUri"],d)}else if(l==="DISTILLATION"){const d=c(n,["gcsUri"]);e!==void 0&&d!=null&&f(e,["distillationSpec","promptDatasetUri"],d)}let r=c(i,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const d=c(n,["vertexDatasetResource"]);e!==void 0&&d!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],d)}else if(r==="PREFERENCE_TUNING"){const d=c(n,["vertexDatasetResource"]);e!==void 0&&d!=null&&f(e,["preferenceOptimizationSpec","trainingDatasetUri"],d)}else if(r==="DISTILLATION"){const d=c(n,["vertexDatasetResource"]);e!==void 0&&d!=null&&f(e,["distillationSpec","promptDatasetUri"],d)}if(c(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function $v(n,e){const i={},o=c(n,["sdkHttpResponse"]);o!=null&&f(i,["sdkHttpResponse"],o);const l=c(n,["name"]);l!=null&&f(i,["name"],l);const r=c(n,["state"]);r!=null&&f(i,["state"],lv(r));const d=c(n,["createTime"]);d!=null&&f(i,["createTime"],d);const h=c(n,["tuningTask","startTime"]);h!=null&&f(i,["startTime"],h);const g=c(n,["tuningTask","completeTime"]);g!=null&&f(i,["endTime"],g);const m=c(n,["updateTime"]);m!=null&&f(i,["updateTime"],m);const y=c(n,["description"]);y!=null&&f(i,["description"],y);const _=c(n,["baseModel"]);_!=null&&f(i,["baseModel"],_);const S=c(n,["_self"]);return S!=null&&f(i,["tunedModel"],SN(S)),i}function gd(n,e){const i={},o=c(n,["sdkHttpResponse"]);o!=null&&f(i,["sdkHttpResponse"],o);const l=c(n,["name"]);l!=null&&f(i,["name"],l);const r=c(n,["state"]);r!=null&&f(i,["state"],lv(r));const d=c(n,["createTime"]);d!=null&&f(i,["createTime"],d);const h=c(n,["startTime"]);h!=null&&f(i,["startTime"],h);const g=c(n,["endTime"]);g!=null&&f(i,["endTime"],g);const m=c(n,["updateTime"]);m!=null&&f(i,["updateTime"],m);const y=c(n,["error"]);y!=null&&f(i,["error"],y);const _=c(n,["description"]);_!=null&&f(i,["description"],_);const S=c(n,["baseModel"]);S!=null&&f(i,["baseModel"],S);const C=c(n,["tunedModel"]);C!=null&&f(i,["tunedModel"],C);const N=c(n,["preTunedModel"]);N!=null&&f(i,["preTunedModel"],N);const D=c(n,["supervisedTuningSpec"]);D!=null&&f(i,["supervisedTuningSpec"],D);const I=c(n,["preferenceOptimizationSpec"]);I!=null&&f(i,["preferenceOptimizationSpec"],I);const H=c(n,["distillationSpec"]);H!=null&&f(i,["distillationSpec"],H);const Q=c(n,["tuningDataStats"]);Q!=null&&f(i,["tuningDataStats"],Q);const Y=c(n,["encryptionSpec"]);Y!=null&&f(i,["encryptionSpec"],Y);const K=c(n,["partnerModelTuningSpec"]);K!=null&&f(i,["partnerModelTuningSpec"],K);const Z=c(n,["customBaseModel"]);Z!=null&&f(i,["customBaseModel"],Z);const q=c(n,["experiment"]);q!=null&&f(i,["experiment"],q);const W=c(n,["labels"]);W!=null&&f(i,["labels"],W);const me=c(n,["outputUri"]);me!=null&&f(i,["outputUri"],me);const ee=c(n,["pipelineJob"]);ee!=null&&f(i,["pipelineJob"],ee);const re=c(n,["serviceAccount"]);re!=null&&f(i,["serviceAccount"],re);const Te=c(n,["tunedModelDisplayName"]);Te!=null&&f(i,["tunedModelDisplayName"],Te);const Pe=c(n,["veoTuningSpec"]);return Pe!=null&&f(i,["veoTuningSpec"],Pe),i}function xN(n,e){const i={},o=c(n,["sdkHttpResponse"]);o!=null&&f(i,["sdkHttpResponse"],o);const l=c(n,["name"]);l!=null&&f(i,["name"],l);const r=c(n,["metadata"]);r!=null&&f(i,["metadata"],r);const d=c(n,["done"]);d!=null&&f(i,["done"],d);const h=c(n,["error"]);return h!=null&&f(i,["error"],h),i}function Qc(n,e){const i={},o=c(n,["gcsUri"]);o!=null&&f(i,["validationDatasetUri"],o);const l=c(n,["vertexDatasetResource"]);return l!=null&&f(i,["validationDatasetUri"],l),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class CN extends ii{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new pa(ni.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(i),i),this.get=async i=>await this.getInternal(i),this.tune=async i=>{var o;if(this.apiClient.isVertexAI())if(i.baseModel.startsWith("projects/")){const l={tunedModelName:i.baseModel};!((o=i.config)===null||o===void 0)&&o.preTunedModelCheckpointId&&(l.checkpointId=i.config.preTunedModelCheckpointId);const r=Object.assign(Object.assign({},i),{preTunedModel:l});return r.baseModel=void 0,await this.tuneInternal(r)}else{const l=Object.assign({},i);return await this.tuneInternal(l)}else{const l=Object.assign({},i),r=await this.tuneMldevInternal(l);let d="";return r.metadata!==void 0&&r.metadata.tunedModel!==void 0?d=r.metadata.tunedModel:r.name!==void 0&&r.name.includes("/operations/")&&(d=r.name.split("/operations/")[0]),{name:d,state:id.JOB_STATE_QUEUED}}}}async getInternal(e){var i,o,l,r;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=pN(e);return h=ae("{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>gd(y))}else{const m=hN(e);return h=ae("{name}",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>$v(y))}}async listInternal(e){var i,o,l,r;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=yN(e);return h=ae("tuningJobs",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const _=_N(y),S=new Zg;return Object.assign(S,_),S})}else{const m=vN(e);return h=ae("tunedModels",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const _=EN(y),S=new Zg;return Object.assign(S,_),S})}}async cancel(e){var i,o,l,r;let d,h="",g={};if(this.apiClient.isVertexAI()){const m=sN(e);return h=ae("{name}:cancel",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const _=rN(y),S=new Wg;return Object.assign(S,_),S})}else{const m=oN(e);return h=ae("{name}:cancel",m._url),g=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(_=>{const S=_;return S.sdkHttpResponse={headers:y.headers},S})),d.then(y=>{const _=lN(y),S=new Wg;return Object.assign(S,_),S})}}async tuneInternal(e){var i,o;let l,r="",d={};if(this.apiClient.isVertexAI()){const h=fN(e,e);return r=ae("tuningJobs",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:g.headers},y})),l.then(g=>gd(g))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var i,o;let l,r="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=dN(e);return r=ae("tunedModels",h._url),d=h._query,delete h._url,delete h._query,l=this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:g.headers},y})),l.then(g=>xN(g))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wN{async download(e,i){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const AN=1024*1024*8,NN=3,RN=1e3,MN=2,hr="x-goog-upload-status";async function IN(n,e,i){var o;const l=await Jv(n,e,i),r=await(l==null?void 0:l.json());if(((o=l==null?void 0:l.headers)===null||o===void 0?void 0:o[hr])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return r.file}async function kN(n,e,i){var o;const l=await Jv(n,e,i),r=await(l==null?void 0:l.json());if(((o=l==null?void 0:l.headers)===null||o===void 0?void 0:o[hr])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const d=tv(r),h=new Rd;return Object.assign(h,d),h}async function Jv(n,e,i){var o,l;let r=0,d=0,h=new od(new Response),g="upload";for(r=n.size;d<r;){const m=Math.min(AN,r-d),y=n.slice(d,d+m);d+m>=r&&(g+=", finalize");let _=0,S=RN;for(;_<NN&&(h=await i.request({path:"",body:y,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":g,"X-Goog-Upload-Offset":String(d),"Content-Length":String(m)}}}),!(!((o=h==null?void 0:h.headers)===null||o===void 0)&&o[hr]));)_++,await UN(S),S=S*MN;if(d+=m,((l=h==null?void 0:h.headers)===null||l===void 0?void 0:l[hr])!=="active")break;if(r<=d)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return h}async function DN(n){return{size:n.size,type:n.type}}function UN(n){return new Promise(e=>setTimeout(e,n))}class LN{async upload(e,i,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await IN(e,i,o)}async uploadToFileSearchStore(e,i,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await kN(e,i,o)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await DN(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class PN{create(e,i,o){return new ON(e,i,o)}}class ON{constructor(e,i,o){this.url=e,this.headers=i,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const C0="x-goog-api-key";class GN{constructor(e){this.apiKey=e}async addAuthHeaders(e,i){if(e.get(C0)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(C0,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const HN="gl-node/";class Sr{get interactions(){var e;if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const i=this.httpOptions;i!=null&&i.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const o=new _t({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:i==null?void 0:i.timeout,maxRetries:(e=i==null?void 0:i.retryOptions)===null||e===void 0?void 0:e.attempts});return this._interactions=o.interactions,this._interactions}constructor(e){var i;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(i=e.vertexai)!==null&&i!==void 0?i:!1,this.apiKey=e.apiKey;const o=NT(e.httpOptions,e.vertexai,void 0,void 0);o&&(e.httpOptions?e.httpOptions.baseUrl=o:e.httpOptions={baseUrl:o}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const l=new GN(this.apiKey);this.apiClient=new D1({auth:l,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:HN+"web",uploader:new LN,downloader:new wN}),this.models=new W1(this.apiClient),this.live=new J1(this.apiClient,l,new PN),this.batches=new ax(this.apiClient),this.chats=new Hx(this.models,this.apiClient),this.caches=new Px(this.apiClient),this.files=new Zx(this.apiClient),this.operations=new j1(this.apiClient),this.authTokens=new mA(this.apiClient),this.tunings=new CN(this.apiClient),this.fileSearchStores=new bA(this.apiClient)}}async function Tr(n,e=5){let i;for(let o=0;o<e;o++)try{return await n()}catch(l){i=l;const r=JSON.stringify(l).toLowerCase();if(((l==null?void 0:l.status)===429||r.includes("429")||r.includes("resource_exhausted")||r.includes("quota"))&&o<e-1){const h=Math.pow(2,o)*3e3+Math.random()*2e3;await new Promise(g=>setTimeout(g,h));continue}throw l}throw i}const Yv=(n,e={})=>{try{const i=n.replace(/```json/g,"").replace(/```/g,"").trim();return JSON.parse(i)}catch{return e}},zN=async n=>Tr(async()=>{const e=new Sr({apiKey:void 0}),i=new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),o=`Virtual Chief of Staff Briefing for Gregory at BRENT'S INVESTIGATIVE SERVICES.
    Matters: ${n.activeMattersCount}, Urgent: ${n.urgentActionCount}, Revenue: $${n.totalSettlement.toLocaleString()}.
    
    Format as a strategic report.
    CRITICAL READABILITY RULE: Use markdown horizontal rules ('---') and double-line breaks between different cases or dossiers to ensure significant white space and readable separation.
    Today is ${i}.`;return(await e.models.generateContent({model:"gemini-3-flash-preview",contents:o})).text||""}),qN=async(n,e,i)=>Tr(async()=>{const l=await new Sr({apiKey:void 0}).models.generateContent({model:"gemini-3-flash-preview",contents:{parts:[{inlineData:{data:n,mimeType:e}},{text:`Extract activity. Rewrite summary in formal PAST TENSE. Codes: ${i.map(r=>r.code).join(", ")}`}]},config:{responseMimeType:"application/json",responseSchema:{type:We.OBJECT,properties:{hours:{type:We.NUMBER},code:{type:We.STRING},description:{type:We.STRING}}}}});return Yv(l.text||"{}",null)}),VN=async(n,e)=>Tr(async()=>{const o=await new Sr({apiKey:void 0}).models.generateContent({model:"gemini-3-pro-preview",contents:`Extract intake from: ${n}`,config:{responseMimeType:"application/json",responseSchema:{type:We.OBJECT,properties:{defendant_first:{type:We.STRING},defendant_last:{type:We.STRING},case_number:{type:We.STRING},lead_counsel:{type:We.STRING},judge:{type:We.STRING},next_court_date:{type:We.STRING},hearing_type:{type:We.STRING},directives:{type:We.ARRAY,items:{type:We.OBJECT,properties:{task:{type:We.STRING},context:{type:We.STRING},suggested_priority:{type:We.STRING}}}},confidence_score:{type:We.NUMBER}}}}});return Yv(o.text||"{}",{})}),BN=async(n,e,i)=>Tr(async()=>{const o=new Sr({apiKey:void 0}),l=e||"Counsel";let r="";return n==="weekly"?r=`
        Generate a Weekly Status Report for BRENT'S INVESTIGATIVE SERVICES, LLC.
        Strictly follow this template:
        "Hello Attorney ${l},
        This is your weekly snapshot of active investigative matters.
        ### Upcoming Court dates (next 7 days)
        ### Cases with Missing Vouchers (Assigned 10+ days)
        #### Missing Voucher on Closed Cases
        ### Detailed Activity of Remaining Active Cases
        Sign as Andrea, BRENT'S INVESTIGATE SERVICES, LLC"
      `:n==="aged"?r=`
        INVESTIGATIVE AGED VOUCHER AUDIT
        
        Section #1 Heading must be exactly:
        "The following cases have been assigned to us for over 90 days without voucher submission. These require your immediate attention."
        
        List cases with assigned dates > 90 days first. Then list 60-day and 30-day brackets.
        Format professionally for attorney ${l}.
        Sign: Andrea, BRENT'S INVESTIGATE SERVICES, LLC.
      `:n==="aging"?r=`
        CASE AGING & VELOCITY REPORT
        Analyze the duration of dossiers from their 'dateOpened' field.
        Show ${l} how long cases have been in the investigative pipeline.
        Categorize by age: New (0-30 days), Seasoned (31-90 days), and Legacy (91+ days).
        Sign: Andrea, BRENT'S INVESTIGATE SERVICES, LLC.
      `:n==="stagnant"?r=`
        STAGNANT ADVISORY
        Identify dossiers with zero activity logs in the last 45 days.
        Provide ${l} with a 'Risk Registry' of matters that have stalled.
        Suggest the next logical investigative step for each stagnant matter.
        Sign: Andrea, BRENT'S INVESTIGATE SERVICES, LLC.
      `:n==="pretrial"?r=`
        PRE-TRIAL READINESS AUDIT
        Summarize the readiness state for all cases with 'Trial Readiness' or 'Jury Trial' listed in their next event description.
        Provide ${l} with a checklist of completed vs pending investigative tasks for these critical matters.
        Sign: Andrea, BRENT'S INVESTIGATE SERVICES, LLC.
      `:n==="intel"?r=`
        Virtual Chief of Staff Briefing.
        Focus on operational velocity and risk registry.
        CRITICAL READABILITY RULE: Use horizontal rules (---) between every case dossier to ensure significant white space.
        Sign: Andrea, BRENT'S INVESTIGATE SERVICES, LLC.
      `:r=`Generate a strategic ${n} report for attorney ${l}. Ensure all work descriptions are in the PAST TENSE. End with signature: Andrea, BRENT'S INVESTIGATE SERVICES, LLC.`,(await o.models.generateContent({model:"gemini-3-flash-preview",contents:`${r}

Data Context: ${JSON.stringify(i)}`})).text||""}),FN="modulepreload",$N=function(n){return"/"+n},w0={},vo=function(e,i,o){let l=Promise.resolve();if(i&&i.length>0){let d=function(m){return Promise.all(m.map(y=>Promise.resolve(y).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),g=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));l=d(i.map(m=>{if(m=$N(m),m in w0)return;w0[m]=!0;const y=m.endsWith(".css"),_=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${_}`))return;const S=document.createElement("link");if(S.rel=y?"stylesheet":FN,y||(S.as="script"),S.crossOrigin="",S.href=m,g&&S.setAttribute("nonce",g),document.head.appendChild(S),y)return new Promise((C,N)=>{S.addEventListener("load",C),S.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${m}`)))})}))}function r(d){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=d,window.dispatchEvent(h),!h.defaultPrevented)throw d}return l.then(d=>{for(const h of d||[])h.status==="rejected"&&r(h.reason);return e().catch(r)})},JN=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...i)=>vo(async()=>{const{default:o}=await Promise.resolve().then(()=>To);return{default:o}},void 0).then(({default:o})=>o(...i)):e=fetch,(...i)=>e(...i)};class Od extends Error{constructor(e,i="FunctionsError",o){super(e),this.name=i,this.context=o}}class YN extends Od{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class KN extends Od{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class XN extends Od{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var vd;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(vd||(vd={}));var QN=function(n,e,i,o){function l(r){return r instanceof i?r:new i(function(d){d(r)})}return new(i||(i=Promise))(function(r,d){function h(y){try{m(o.next(y))}catch(_){d(_)}}function g(y){try{m(o.throw(y))}catch(_){d(_)}}function m(y){y.done?r(y.value):l(y.value).then(h,g)}m((o=o.apply(n,e||[])).next())})};class ZN{constructor(e,{headers:i={},customFetch:o,region:l=vd.Any}={}){this.url=e,this.headers=i,this.region=l,this.fetch=JN(o)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,i={}){var o;return QN(this,void 0,void 0,function*(){try{const{headers:l,method:r,body:d}=i;let h={},{region:g}=i;g||(g=this.region),g&&g!=="any"&&(h["x-region"]=g);let m;d&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)&&(typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",m=d):typeof d=="string"?(h["Content-Type"]="text/plain",m=d):typeof FormData<"u"&&d instanceof FormData?m=d:(h["Content-Type"]="application/json",m=JSON.stringify(d)));const y=yield this.fetch(`${this.url}/${e}`,{method:r||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),l),body:m}).catch(N=>{throw new YN(N)}),_=y.headers.get("x-relay-error");if(_&&_==="true")throw new KN(y);if(!y.ok)throw new XN(y);let S=((o=y.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),C;return S==="application/json"?C=yield y.json():S==="application/octet-stream"?C=yield y.blob():S==="text/event-stream"?C=y:S==="multipart/form-data"?C=yield y.formData():C=yield y.text(),{data:C,error:null}}catch(l){return{data:null,error:l}}})}}var yt={},no={},io={},ao={},oo={},so={},WN=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},yo=WN();const jN=yo.fetch,Kv=yo.fetch.bind(yo),Xv=yo.Headers,eR=yo.Request,tR=yo.Response,To=Object.freeze(Object.defineProperty({__proto__:null,Headers:Xv,Request:eR,Response:tR,default:Kv,fetch:jN},Symbol.toStringTag,{value:"Module"})),nR=T_(To);var er={},A0;function Qv(){if(A0)return er;A0=1,Object.defineProperty(er,"__esModule",{value:!0});class n extends Error{constructor(i){super(i.message),this.name="PostgrestError",this.details=i.details,this.hint=i.hint,this.code=i.code}}return er.default=n,er}var N0;function Zv(){if(N0)return so;N0=1;var n=so&&so.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(so,"__esModule",{value:!0});const e=n(nR),i=n(Qv());class o{constructor(r){this.shouldThrowOnError=!1,this.method=r.method,this.url=r.url,this.headers=r.headers,this.schema=r.schema,this.body=r.body,this.shouldThrowOnError=r.shouldThrowOnError,this.signal=r.signal,this.isMaybeSingle=r.isMaybeSingle,r.fetch?this.fetch=r.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(r,d){return this.headers=Object.assign({},this.headers),this.headers[r]=d,this}then(r,d){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const h=this.fetch;let g=h(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var y,_,S;let C=null,N=null,D=null,I=m.status,H=m.statusText;if(m.ok){if(this.method!=="HEAD"){const Z=await m.text();Z===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?N=Z:N=JSON.parse(Z))}const Y=(y=this.headers.Prefer)===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),K=(_=m.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");Y&&K&&K.length>1&&(D=parseInt(K[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(N)&&(N.length>1?(C={code:"PGRST116",details:`Results contain ${N.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},N=null,D=null,I=406,H="Not Acceptable"):N.length===1?N=N[0]:N=null)}else{const Y=await m.text();try{C=JSON.parse(Y),Array.isArray(C)&&m.status===404&&(N=[],C=null,I=200,H="OK")}catch{m.status===404&&Y===""?(I=204,H="No Content"):C={message:Y}}if(C&&this.isMaybeSingle&&(!((S=C==null?void 0:C.details)===null||S===void 0)&&S.includes("0 rows"))&&(C=null,I=200,H="OK"),C&&this.shouldThrowOnError)throw new i.default(C)}return{error:C,data:N,count:D,status:I,statusText:H}});return this.shouldThrowOnError||(g=g.catch(m=>{var y,_,S;return{error:{message:`${(y=m==null?void 0:m.name)!==null&&y!==void 0?y:"FetchError"}: ${m==null?void 0:m.message}`,details:`${(_=m==null?void 0:m.stack)!==null&&_!==void 0?_:""}`,hint:"",code:`${(S=m==null?void 0:m.code)!==null&&S!==void 0?S:""}`},data:null,count:null,status:0,statusText:""}})),g.then(r,d)}}return so.default=o,so}var R0;function Wv(){if(R0)return oo;R0=1;var n=oo&&oo.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(oo,"__esModule",{value:!0});const e=n(Zv());class i extends e.default{select(l){let r=!1;const d=(l??"*").split("").map(h=>/\s/.test(h)&&!r?"":(h==='"'&&(r=!r),h)).join("");return this.url.searchParams.set("select",d),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(l,{ascending:r=!0,nullsFirst:d,foreignTable:h,referencedTable:g=h}={}){const m=g?`${g}.order`:"order",y=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${y?`${y},`:""}${l}.${r?"asc":"desc"}${d===void 0?"":d?".nullsfirst":".nullslast"}`),this}limit(l,{foreignTable:r,referencedTable:d=r}={}){const h=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(h,`${l}`),this}range(l,r,{foreignTable:d,referencedTable:h=d}={}){const g=typeof h>"u"?"offset":`${h}.offset`,m=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(g,`${l}`),this.url.searchParams.set(m,`${r-l+1}`),this}abortSignal(l){return this.signal=l,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:l=!1,verbose:r=!1,settings:d=!1,buffers:h=!1,wal:g=!1,format:m="text"}={}){var y;const _=[l?"analyze":null,r?"verbose":null,d?"settings":null,h?"buffers":null,g?"wal":null].filter(Boolean).join("|"),S=(y=this.headers.Accept)!==null&&y!==void 0?y:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${m}; for="${S}"; options=${_};`,m==="json"?this:this}rollback(){var l;return((l=this.headers.Prefer)!==null&&l!==void 0?l:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return oo.default=i,oo}var M0;function Gd(){if(M0)return ao;M0=1;var n=ao&&ao.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(ao,"__esModule",{value:!0});const e=n(Wv());class i extends e.default{eq(l,r){return this.url.searchParams.append(l,`eq.${r}`),this}neq(l,r){return this.url.searchParams.append(l,`neq.${r}`),this}gt(l,r){return this.url.searchParams.append(l,`gt.${r}`),this}gte(l,r){return this.url.searchParams.append(l,`gte.${r}`),this}lt(l,r){return this.url.searchParams.append(l,`lt.${r}`),this}lte(l,r){return this.url.searchParams.append(l,`lte.${r}`),this}like(l,r){return this.url.searchParams.append(l,`like.${r}`),this}likeAllOf(l,r){return this.url.searchParams.append(l,`like(all).{${r.join(",")}}`),this}likeAnyOf(l,r){return this.url.searchParams.append(l,`like(any).{${r.join(",")}}`),this}ilike(l,r){return this.url.searchParams.append(l,`ilike.${r}`),this}ilikeAllOf(l,r){return this.url.searchParams.append(l,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(l,r){return this.url.searchParams.append(l,`ilike(any).{${r.join(",")}}`),this}is(l,r){return this.url.searchParams.append(l,`is.${r}`),this}in(l,r){const d=Array.from(new Set(r)).map(h=>typeof h=="string"&&new RegExp("[,()]").test(h)?`"${h}"`:`${h}`).join(",");return this.url.searchParams.append(l,`in.(${d})`),this}contains(l,r){return typeof r=="string"?this.url.searchParams.append(l,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(l,`cs.{${r.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(r)}`),this}containedBy(l,r){return typeof r=="string"?this.url.searchParams.append(l,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(l,`cd.{${r.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(r)}`),this}rangeGt(l,r){return this.url.searchParams.append(l,`sr.${r}`),this}rangeGte(l,r){return this.url.searchParams.append(l,`nxl.${r}`),this}rangeLt(l,r){return this.url.searchParams.append(l,`sl.${r}`),this}rangeLte(l,r){return this.url.searchParams.append(l,`nxr.${r}`),this}rangeAdjacent(l,r){return this.url.searchParams.append(l,`adj.${r}`),this}overlaps(l,r){return typeof r=="string"?this.url.searchParams.append(l,`ov.${r}`):this.url.searchParams.append(l,`ov.{${r.join(",")}}`),this}textSearch(l,r,{config:d,type:h}={}){let g="";h==="plain"?g="pl":h==="phrase"?g="ph":h==="websearch"&&(g="w");const m=d===void 0?"":`(${d})`;return this.url.searchParams.append(l,`${g}fts${m}.${r}`),this}match(l){return Object.entries(l).forEach(([r,d])=>{this.url.searchParams.append(r,`eq.${d}`)}),this}not(l,r,d){return this.url.searchParams.append(l,`not.${r}.${d}`),this}or(l,{foreignTable:r,referencedTable:d=r}={}){const h=d?`${d}.or`:"or";return this.url.searchParams.append(h,`(${l})`),this}filter(l,r,d){return this.url.searchParams.append(l,`${r}.${d}`),this}}return ao.default=i,ao}var I0;function jv(){if(I0)return io;I0=1;var n=io&&io.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(io,"__esModule",{value:!0});const e=n(Gd());class i{constructor(l,{headers:r={},schema:d,fetch:h}){this.url=l,this.headers=r,this.schema=d,this.fetch=h}select(l,{head:r=!1,count:d}={}){const h=r?"HEAD":"GET";let g=!1;const m=(l??"*").split("").map(y=>/\s/.test(y)&&!g?"":(y==='"'&&(g=!g),y)).join("");return this.url.searchParams.set("select",m),d&&(this.headers.Prefer=`count=${d}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(l,{count:r,defaultToNull:d=!0}={}){const h="POST",g=[];if(this.headers.Prefer&&g.push(this.headers.Prefer),r&&g.push(`count=${r}`),d||g.push("missing=default"),this.headers.Prefer=g.join(","),Array.isArray(l)){const m=l.reduce((y,_)=>y.concat(Object.keys(_)),[]);if(m.length>0){const y=[...new Set(m)].map(_=>`"${_}"`);this.url.searchParams.set("columns",y.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:this.fetch,allowEmpty:!1})}upsert(l,{onConflict:r,ignoreDuplicates:d=!1,count:h,defaultToNull:g=!0}={}){const m="POST",y=[`resolution=${d?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&y.push(this.headers.Prefer),h&&y.push(`count=${h}`),g||y.push("missing=default"),this.headers.Prefer=y.join(","),Array.isArray(l)){const _=l.reduce((S,C)=>S.concat(Object.keys(C)),[]);if(_.length>0){const S=[...new Set(_)].map(C=>`"${C}"`);this.url.searchParams.set("columns",S.join(","))}}return new e.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:this.fetch,allowEmpty:!1})}update(l,{count:r}={}){const d="PATCH",h=[];return this.headers.Prefer&&h.push(this.headers.Prefer),r&&h.push(`count=${r}`),this.headers.Prefer=h.join(","),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:this.fetch,allowEmpty:!1})}delete({count:l}={}){const r="DELETE",d=[];return l&&d.push(`count=${l}`),this.headers.Prefer&&d.unshift(this.headers.Prefer),this.headers.Prefer=d.join(","),new e.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return io.default=i,io}var Es={},_s={},k0;function iR(){return k0||(k0=1,Object.defineProperty(_s,"__esModule",{value:!0}),_s.version=void 0,_s.version="0.0.0-automated"),_s}var D0;function aR(){if(D0)return Es;D0=1,Object.defineProperty(Es,"__esModule",{value:!0}),Es.DEFAULT_HEADERS=void 0;const n=iR();return Es.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${n.version}`},Es}var U0;function oR(){if(U0)return no;U0=1;var n=no&&no.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(no,"__esModule",{value:!0});const e=n(jv()),i=n(Gd()),o=aR();class l{constructor(d,{headers:h={},schema:g,fetch:m}={}){this.url=d,this.headers=Object.assign(Object.assign({},o.DEFAULT_HEADERS),h),this.schemaName=g,this.fetch=m}from(d){const h=new URL(`${this.url}/${d}`);return new e.default(h,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(d){return new l(this.url,{headers:this.headers,schema:d,fetch:this.fetch})}rpc(d,h={},{head:g=!1,get:m=!1,count:y}={}){let _;const S=new URL(`${this.url}/rpc/${d}`);let C;g||m?(_=g?"HEAD":"GET",Object.entries(h).filter(([D,I])=>I!==void 0).map(([D,I])=>[D,Array.isArray(I)?`{${I.join(",")}}`:`${I}`]).forEach(([D,I])=>{S.searchParams.append(D,I)})):(_="POST",C=h);const N=Object.assign({},this.headers);return y&&(N.Prefer=`count=${y}`),new i.default({method:_,url:S,headers:N,schema:this.schemaName,body:C,fetch:this.fetch,allowEmpty:!1})}}return no.default=l,no}var L0;function sR(){if(L0)return yt;L0=1;var n=yt&&yt.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(yt,"__esModule",{value:!0}),yt.PostgrestError=yt.PostgrestBuilder=yt.PostgrestTransformBuilder=yt.PostgrestFilterBuilder=yt.PostgrestQueryBuilder=yt.PostgrestClient=void 0;const e=n(oR());yt.PostgrestClient=e.default;const i=n(jv());yt.PostgrestQueryBuilder=i.default;const o=n(Gd());yt.PostgrestFilterBuilder=o.default;const l=n(Wv());yt.PostgrestTransformBuilder=l.default;const r=n(Zv());yt.PostgrestBuilder=r.default;const d=n(Qv());return yt.PostgrestError=d.default,yt.default={PostgrestClient:e.default,PostgrestQueryBuilder:i.default,PostgrestFilterBuilder:o.default,PostgrestTransformBuilder:l.default,PostgrestBuilder:r.default,PostgrestError:d.default},yt}var lR=sR();const rR=Cd(lR),{PostgrestClient:uR,PostgrestQueryBuilder:Z2,PostgrestFilterBuilder:W2,PostgrestTransformBuilder:j2,PostgrestBuilder:eM,PostgrestError:tM}=rR,cR="2.11.2",dR={"X-Client-Info":`realtime-js/${cR}`},fR="1.0.0",ey=1e4,hR=1e3;var go;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(go||(go={}));var en;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(en||(en={}));var bn;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(bn||(bn={}));var yd;(function(n){n.websocket="websocket"})(yd||(yd={}));var ha;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(ha||(ha={}));class pR{constructor(){this.HEADER_LENGTH=1}decode(e,i){return e.constructor===ArrayBuffer?i(this._binaryDecode(e)):i(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const i=new DataView(e),o=new TextDecoder;return this._decodeBroadcast(e,i,o)}_decodeBroadcast(e,i,o){const l=i.getUint8(1),r=i.getUint8(2);let d=this.HEADER_LENGTH+2;const h=o.decode(e.slice(d,d+l));d=d+l;const g=o.decode(e.slice(d,d+r));d=d+r;const m=JSON.parse(o.decode(e.slice(d,e.byteLength)));return{ref:null,topic:h,event:g,payload:m}}}class ty{constructor(e,i){this.callback=e,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ze;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(Ze||(Ze={}));const P0=(n,e,i={})=>{var o;const l=(o=i.skipTypes)!==null&&o!==void 0?o:[];return Object.keys(e).reduce((r,d)=>(r[d]=mR(d,n,e,l),r),{})},mR=(n,e,i,o)=>{const l=e.find(h=>h.name===n),r=l==null?void 0:l.type,d=i[n];return r&&!o.includes(r)?ny(r,d):Ed(d)},ny=(n,e)=>{if(n.charAt(0)==="_"){const i=n.slice(1,n.length);return ER(e,i)}switch(n){case Ze.bool:return gR(e);case Ze.float4:case Ze.float8:case Ze.int2:case Ze.int4:case Ze.int8:case Ze.numeric:case Ze.oid:return vR(e);case Ze.json:case Ze.jsonb:return yR(e);case Ze.timestamp:return _R(e);case Ze.abstime:case Ze.date:case Ze.daterange:case Ze.int4range:case Ze.int8range:case Ze.money:case Ze.reltime:case Ze.text:case Ze.time:case Ze.timestamptz:case Ze.timetz:case Ze.tsrange:case Ze.tstzrange:return Ed(e);default:return Ed(e)}},Ed=n=>n,gR=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},vR=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},yR=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},ER=(n,e)=>{if(typeof n!="string")return n;const i=n.length-1,o=n[i];if(n[0]==="{"&&o==="}"){let r;const d=n.slice(1,i);try{r=JSON.parse("["+d+"]")}catch{r=d?d.split(","):[]}return r.map(h=>ny(e,h))}return n},_R=n=>typeof n=="string"?n.replace(" ","T"):n,iy=n=>{let e=n;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Zc{constructor(e,i,o={},l=ey){this.channel=e,this.event=i,this.payload=o,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,i){var o;return this._hasReceived(e)&&i((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:e,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:i}){this.recHooks.filter(o=>o.status===e).forEach(o=>o.callback(i))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var O0;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(O0||(O0={}));class As{constructor(e,i){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=(i==null?void 0:i.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},l=>{const{onJoin:r,onLeave:d,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=As.syncState(this.state,l,r,d),this.pendingDiffs.forEach(g=>{this.state=As.syncDiff(this.state,g,r,d)}),this.pendingDiffs=[],h()}),this.channel._on(o.diff,{},l=>{const{onJoin:r,onLeave:d,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=As.syncDiff(this.state,l,r,d),h())}),this.onJoin((l,r,d)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:r,newPresences:d})}),this.onLeave((l,r,d)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:r,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,i,o,l){const r=this.cloneDeep(e),d=this.transformState(i),h={},g={};return this.map(r,(m,y)=>{d[m]||(g[m]=y)}),this.map(d,(m,y)=>{const _=r[m];if(_){const S=y.map(I=>I.presence_ref),C=_.map(I=>I.presence_ref),N=y.filter(I=>C.indexOf(I.presence_ref)<0),D=_.filter(I=>S.indexOf(I.presence_ref)<0);N.length>0&&(h[m]=N),D.length>0&&(g[m]=D)}else h[m]=y}),this.syncDiff(r,{joins:h,leaves:g},o,l)}static syncDiff(e,i,o,l){const{joins:r,leaves:d}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return o||(o=()=>{}),l||(l=()=>{}),this.map(r,(h,g)=>{var m;const y=(m=e[h])!==null&&m!==void 0?m:[];if(e[h]=this.cloneDeep(g),y.length>0){const _=e[h].map(C=>C.presence_ref),S=y.filter(C=>_.indexOf(C.presence_ref)<0);e[h].unshift(...S)}o(h,y,g)}),this.map(d,(h,g)=>{let m=e[h];if(!m)return;const y=g.map(_=>_.presence_ref);m=m.filter(_=>y.indexOf(_.presence_ref)<0),e[h]=m,l(h,m,g),m.length===0&&delete e[h]}),e}static map(e,i){return Object.getOwnPropertyNames(e).map(o=>i(o,e[o]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((i,o)=>{const l=e[o];return"metas"in l?i[o]=l.metas.map(r=>(r.presence_ref=r.phx_ref,delete r.phx_ref,delete r.phx_ref_prev,r)):i[o]=l,i},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var G0;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(G0||(G0={}));var H0;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(H0||(H0={}));var ti;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(ti||(ti={}));class Hd{constructor(e,i={config:{}},o){this.topic=e,this.params=i,this.socket=o,this.bindings={},this.state=en.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new Zc(this,bn.join,this.params,this.timeout),this.rejoinTimer=new ty(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=en.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=en.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=en.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=en.errored,this.rejoinTimer.scheduleTimeout())}),this._on(bn.reply,{},(l,r)=>{this._trigger(this._replyEventName(r),l)}),this.presence=new As(this),this.broadcastEndpointURL=iy(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,i=this.timeout){var o,l;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:r,presence:d,private:h}}=this.params;this._onError(y=>e==null?void 0:e(ti.CHANNEL_ERROR,y)),this._onClose(()=>e==null?void 0:e(ti.CLOSED));const g={},m={broadcast:r,presence:d,postgres_changes:(l=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(y=>y.filter))!==null&&l!==void 0?l:[],private:h};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:m},g)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",async({postgres_changes:y})=>{var _;if(this.socket.setAuth(),y===void 0){e==null||e(ti.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,C=(_=S==null?void 0:S.length)!==null&&_!==void 0?_:0,N=[];for(let D=0;D<C;D++){const I=S[D],{filter:{event:H,schema:Q,table:Y,filter:K}}=I,Z=y&&y[D];if(Z&&Z.event===H&&Z.schema===Q&&Z.table===Y&&Z.filter===K)N.push(Object.assign(Object.assign({},I),{id:Z.id}));else{this.unsubscribe(),e==null||e(ti.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=N,e&&e(ti.SUBSCRIBED);return}}).receive("error",y=>{e==null||e(ti.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ti.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,i={}){return await this.send({type:"presence",event:"track",payload:e},i.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,i,o){return this._on(e,i,o)}async send(e,i={}){var o,l;if(!this._canPush()&&e.type==="broadcast"){const{event:r,payload:d}=e,g={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:r,payload:d,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(o=i.timeout)!==null&&o!==void 0?o:this.timeout);return await((l=m.body)===null||l===void 0?void 0:l.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(r=>{var d,h,g;const m=this._push(e.type,e,i.timeout||this.timeout);e.type==="broadcast"&&!(!((g=(h=(d=this.params)===null||d===void 0?void 0:d.config)===null||h===void 0?void 0:h.broadcast)===null||g===void 0)&&g.ack)&&r("ok"),m.receive("ok",()=>r("ok")),m.receive("error",()=>r("error")),m.receive("timeout",()=>r("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=en.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(bn.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(o=>{const l=new Zc(this,bn.leave,{},e);l.receive("ok",()=>{i(),o("ok")}).receive("timeout",()=>{i(),o("timed out")}).receive("error",()=>{o("error")}),l.send(),this._canPush()||l.trigger("ok",{})})}async _fetchWithTimeout(e,i,o){const l=new AbortController,r=setTimeout(()=>l.abort(),o),d=await this.socket.fetch(e,Object.assign(Object.assign({},i),{signal:l.signal}));return clearTimeout(r),d}_push(e,i,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new Zc(this,e,i,o);return this._canPush()?l.send():(l.startTimeout(),this.pushBuffer.push(l)),l}_onMessage(e,i,o){return i}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,i,o){var l,r;const d=e.toLocaleLowerCase(),{close:h,error:g,leave:m,join:y}=bn;if(o&&[h,g,m,y].indexOf(d)>=0&&o!==this._joinRef())return;let S=this._onMessage(d,i,o);if(i&&!S)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(C=>{var N,D,I;return((N=C.filter)===null||N===void 0?void 0:N.event)==="*"||((I=(D=C.filter)===null||D===void 0?void 0:D.event)===null||I===void 0?void 0:I.toLocaleLowerCase())===d}).map(C=>C.callback(S,o)):(r=this.bindings[d])===null||r===void 0||r.filter(C=>{var N,D,I,H,Q,Y;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in C){const K=C.id,Z=(N=C.filter)===null||N===void 0?void 0:N.event;return K&&((D=i.ids)===null||D===void 0?void 0:D.includes(K))&&(Z==="*"||(Z==null?void 0:Z.toLocaleLowerCase())===((I=i.data)===null||I===void 0?void 0:I.type.toLocaleLowerCase()))}else{const K=(Q=(H=C==null?void 0:C.filter)===null||H===void 0?void 0:H.event)===null||Q===void 0?void 0:Q.toLocaleLowerCase();return K==="*"||K===((Y=i==null?void 0:i.event)===null||Y===void 0?void 0:Y.toLocaleLowerCase())}else return C.type.toLocaleLowerCase()===d}).map(C=>{if(typeof S=="object"&&"ids"in S){const N=S.data,{schema:D,table:I,commit_timestamp:H,type:Q,errors:Y}=N;S=Object.assign(Object.assign({},{schema:D,table:I,commit_timestamp:H,eventType:Q,new:{},old:{},errors:Y}),this._getPayloadRecords(N))}C.callback(S,o)})}_isClosed(){return this.state===en.closed}_isJoined(){return this.state===en.joined}_isJoining(){return this.state===en.joining}_isLeaving(){return this.state===en.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,i,o){const l=e.toLocaleLowerCase(),r={type:l,filter:i,callback:o};return this.bindings[l]?this.bindings[l].push(r):this.bindings[l]=[r],this}_off(e,i){const o=e.toLocaleLowerCase();return this.bindings[o]=this.bindings[o].filter(l=>{var r;return!(((r=l.type)===null||r===void 0?void 0:r.toLocaleLowerCase())===o&&Hd.isEqual(l.filter,i))}),this}static isEqual(e,i){if(Object.keys(e).length!==Object.keys(i).length)return!1;for(const o in e)if(e[o]!==i[o])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(bn.close,{},e)}_onError(e){this._on(bn.error,{},i=>e(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=en.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const i={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(i.new=P0(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(i.old=P0(e.columns,e.old_record)),i}}const SR=()=>{},TR=typeof WebSocket<"u",bR=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class xR{constructor(e,i){var o;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=dR,this.params={},this.timeout=ey,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=SR,this.conn=null,this.sendBuffer=[],this.serializer=new pR,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=r=>{let d;return r?d=r:typeof fetch>"u"?d=(...h)=>vo(async()=>{const{default:g}=await Promise.resolve().then(()=>To);return{default:g}},void 0).then(({default:g})=>g(...h)):d=fetch,(...h)=>d(...h)},this.endPoint=`${e}/${yd.websocket}`,this.httpEndpoint=iy(e),i!=null&&i.transport?this.transport=i.transport:this.transport=null,i!=null&&i.params&&(this.params=i.params),i!=null&&i.headers&&(this.headers=Object.assign(Object.assign({},this.headers),i.headers)),i!=null&&i.timeout&&(this.timeout=i.timeout),i!=null&&i.logger&&(this.logger=i.logger),i!=null&&i.heartbeatIntervalMs&&(this.heartbeatIntervalMs=i.heartbeatIntervalMs);const l=(o=i==null?void 0:i.params)===null||o===void 0?void 0:o.apikey;if(l&&(this.accessTokenValue=l,this.apiKey=l),this.reconnectAfterMs=i!=null&&i.reconnectAfterMs?i.reconnectAfterMs:r=>[1e3,2e3,5e3,1e4][r-1]||1e4,this.encode=i!=null&&i.encode?i.encode:(r,d)=>d(JSON.stringify(r)),this.decode=i!=null&&i.decode?i.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new ty(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(i==null?void 0:i.fetch),i!=null&&i.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(i==null?void 0:i.worker)||!1,this.workerUrl=i==null?void 0:i.workerUrl}this.accessToken=(i==null?void 0:i.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(TR){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new CR(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),vo(async()=>{const{default:e}=await import("./browser-DaAK8zUp.js").then(i=>i.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:fR}))}disconnect(e,i){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,i??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const i=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const e=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.disconnect(),e}log(e,i,o){this.logger(e,i,o)}connectionState(){switch(this.conn&&this.conn.readyState){case go.connecting:return ha.Connecting;case go.open:return ha.Open;case go.closing:return ha.Closing;default:return ha.Closed}}isConnected(){return this.connectionState()===ha.Open}channel(e,i={config:{}}){const o=new Hd(`realtime:${e}`,i,this);return this.channels.push(o),o}push(e){const{topic:i,event:o,payload:l,ref:r}=e,d=()=>{this.encode(e,h=>{var g;(g=this.conn)===null||g===void 0||g.send(h)})};this.log("push",`${i} ${o} (${r})`,l),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(e=null){let i=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(i){let o=null;try{o=JSON.parse(atob(i.split(".")[1]))}catch{}if(o&&o.exp&&!(Math.floor(Date.now()/1e3)-o.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${o.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${o.exp}`);this.accessTokenValue=i,this.channels.forEach(l=>{i&&l.updateJoinPayload({access_token:i}),l.joinedOnce&&l._isJoined()&&l._push(bn.access_token,{access_token:i})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(hR,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let i=this.channels.find(o=>o.topic===e&&(o._isJoined()||o._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${e}"`),i.unsubscribe())}_remove(e){this.channels=this.channels.filter(i=>i._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,i=>{let{topic:o,event:l,payload:r,ref:d}=i;d&&d===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${r.status||""} ${o} ${l} ${d&&"("+d+")"||""}`,r),this.channels.filter(h=>h._isMember(o)).forEach(h=>h._trigger(l,r,d)),this.stateChangeCallbacks.message.forEach(h=>h(i))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=i=>{this.log("worker","worker error",i.message),this.workerRef.terminate()},this.workerRef.onmessage=i=>{i.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(i=>i(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(i=>i(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(bn.error))}_appendParams(e,i){if(Object.keys(i).length===0)return e;const o=e.match(/\?/)?"&":"?",l=new URLSearchParams(i);return`${e}${o}${l}`}_workerObjectUrl(e){let i;if(e)i=e;else{const o=new Blob([bR],{type:"application/javascript"});i=URL.createObjectURL(o)}return i}}class CR{constructor(e,i,o){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=go.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=o.close}}class zd extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Et(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class wR extends zd{constructor(e,i){super(e),this.name="StorageApiError",this.status=i}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class _d extends zd{constructor(e,i){super(e),this.name="StorageUnknownError",this.originalError=i}}var AR=function(n,e,i,o){function l(r){return r instanceof i?r:new i(function(d){d(r)})}return new(i||(i=Promise))(function(r,d){function h(y){try{m(o.next(y))}catch(_){d(_)}}function g(y){try{m(o.throw(y))}catch(_){d(_)}}function m(y){y.done?r(y.value):l(y.value).then(h,g)}m((o=o.apply(n,e||[])).next())})};const ay=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...i)=>vo(async()=>{const{default:o}=await Promise.resolve().then(()=>To);return{default:o}},void 0).then(({default:o})=>o(...i)):e=fetch,(...i)=>e(...i)},NR=()=>AR(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield vo(()=>Promise.resolve().then(()=>To),void 0)).Response:Response}),Sd=n=>{if(Array.isArray(n))return n.map(i=>Sd(i));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([i,o])=>{const l=i.replace(/([-_][a-z])/gi,r=>r.toUpperCase().replace(/[-_]/g,""));e[l]=Sd(o)}),e};var ma=function(n,e,i,o){function l(r){return r instanceof i?r:new i(function(d){d(r)})}return new(i||(i=Promise))(function(r,d){function h(y){try{m(o.next(y))}catch(_){d(_)}}function g(y){try{m(o.throw(y))}catch(_){d(_)}}function m(y){y.done?r(y.value):l(y.value).then(h,g)}m((o=o.apply(n,e||[])).next())})};const Wc=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),RR=(n,e,i)=>ma(void 0,void 0,void 0,function*(){const o=yield NR();n instanceof o&&!(i!=null&&i.noResolveJson)?n.json().then(l=>{e(new wR(Wc(l),n.status||500))}).catch(l=>{e(new _d(Wc(l),l))}):e(new _d(Wc(n),n))}),MR=(n,e,i,o)=>{const l={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),o&&(l.body=JSON.stringify(o)),Object.assign(Object.assign({},l),i))};function Is(n,e,i,o,l,r){return ma(this,void 0,void 0,function*(){return new Promise((d,h)=>{n(i,MR(e,o,l,r)).then(g=>{if(!g.ok)throw g;return o!=null&&o.noResolveJson?g:g.json()}).then(g=>d(g)).catch(g=>RR(g,h,o))})})}function pr(n,e,i,o){return ma(this,void 0,void 0,function*(){return Is(n,"GET",e,i,o)})}function Pi(n,e,i,o,l){return ma(this,void 0,void 0,function*(){return Is(n,"POST",e,o,l,i)})}function IR(n,e,i,o,l){return ma(this,void 0,void 0,function*(){return Is(n,"PUT",e,o,l,i)})}function kR(n,e,i,o){return ma(this,void 0,void 0,function*(){return Is(n,"HEAD",e,Object.assign(Object.assign({},i),{noResolveJson:!0}),o)})}function oy(n,e,i,o,l){return ma(this,void 0,void 0,function*(){return Is(n,"DELETE",e,o,l,i)})}var $t=function(n,e,i,o){function l(r){return r instanceof i?r:new i(function(d){d(r)})}return new(i||(i=Promise))(function(r,d){function h(y){try{m(o.next(y))}catch(_){d(_)}}function g(y){try{m(o.throw(y))}catch(_){d(_)}}function m(y){y.done?r(y.value):l(y.value).then(h,g)}m((o=o.apply(n,e||[])).next())})};const DR={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},z0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class UR{constructor(e,i={},o,l){this.url=e,this.headers=i,this.bucketId=o,this.fetch=ay(l)}uploadOrUpdate(e,i,o,l){return $t(this,void 0,void 0,function*(){try{let r;const d=Object.assign(Object.assign({},z0),l);let h=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(d.upsert)});const g=d.metadata;typeof Blob<"u"&&o instanceof Blob?(r=new FormData,r.append("cacheControl",d.cacheControl),g&&r.append("metadata",this.encodeMetadata(g)),r.append("",o)):typeof FormData<"u"&&o instanceof FormData?(r=o,r.append("cacheControl",d.cacheControl),g&&r.append("metadata",this.encodeMetadata(g))):(r=o,h["cache-control"]=`max-age=${d.cacheControl}`,h["content-type"]=d.contentType,g&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(g)))),l!=null&&l.headers&&(h=Object.assign(Object.assign({},h),l.headers));const m=this._removeEmptyFolders(i),y=this._getFinalPath(m),_=yield this.fetch(`${this.url}/object/${y}`,Object.assign({method:e,body:r,headers:h},d!=null&&d.duplex?{duplex:d.duplex}:{})),S=yield _.json();return _.ok?{data:{path:m,id:S.Id,fullPath:S.Key},error:null}:{data:null,error:S}}catch(r){if(Et(r))return{data:null,error:r};throw r}})}upload(e,i,o){return $t(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,i,o)})}uploadToSignedUrl(e,i,o,l){return $t(this,void 0,void 0,function*(){const r=this._removeEmptyFolders(e),d=this._getFinalPath(r),h=new URL(this.url+`/object/upload/sign/${d}`);h.searchParams.set("token",i);try{let g;const m=Object.assign({upsert:z0.upsert},l),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&o instanceof Blob?(g=new FormData,g.append("cacheControl",m.cacheControl),g.append("",o)):typeof FormData<"u"&&o instanceof FormData?(g=o,g.append("cacheControl",m.cacheControl)):(g=o,y["cache-control"]=`max-age=${m.cacheControl}`,y["content-type"]=m.contentType);const _=yield this.fetch(h.toString(),{method:"PUT",body:g,headers:y}),S=yield _.json();return _.ok?{data:{path:r,fullPath:S.Key},error:null}:{data:null,error:S}}catch(g){if(Et(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(e,i){return $t(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e);const l=Object.assign({},this.headers);i!=null&&i.upsert&&(l["x-upsert"]="true");const r=yield Pi(this.fetch,`${this.url}/object/upload/sign/${o}`,{},{headers:l}),d=new URL(this.url+r.url),h=d.searchParams.get("token");if(!h)throw new zd("No token returned by API");return{data:{signedUrl:d.toString(),path:e,token:h},error:null}}catch(o){if(Et(o))return{data:null,error:o};throw o}})}update(e,i,o){return $t(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,i,o)})}move(e,i,o){return $t(this,void 0,void 0,function*(){try{return{data:yield Pi(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:i,destinationBucket:o==null?void 0:o.destinationBucket},{headers:this.headers}),error:null}}catch(l){if(Et(l))return{data:null,error:l};throw l}})}copy(e,i,o){return $t(this,void 0,void 0,function*(){try{return{data:{path:(yield Pi(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:i,destinationBucket:o==null?void 0:o.destinationBucket},{headers:this.headers})).Key},error:null}}catch(l){if(Et(l))return{data:null,error:l};throw l}})}createSignedUrl(e,i,o){return $t(this,void 0,void 0,function*(){try{let l=this._getFinalPath(e),r=yield Pi(this.fetch,`${this.url}/object/sign/${l}`,Object.assign({expiresIn:i},o!=null&&o.transform?{transform:o.transform}:{}),{headers:this.headers});const d=o!=null&&o.download?`&download=${o.download===!0?"":o.download}`:"";return r={signedUrl:encodeURI(`${this.url}${r.signedURL}${d}`)},{data:r,error:null}}catch(l){if(Et(l))return{data:null,error:l};throw l}})}createSignedUrls(e,i,o){return $t(this,void 0,void 0,function*(){try{const l=yield Pi(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:i,paths:e},{headers:this.headers}),r=o!=null&&o.download?`&download=${o.download===!0?"":o.download}`:"";return{data:l.map(d=>Object.assign(Object.assign({},d),{signedUrl:d.signedURL?encodeURI(`${this.url}${d.signedURL}${r}`):null})),error:null}}catch(l){if(Et(l))return{data:null,error:l};throw l}})}download(e,i){return $t(this,void 0,void 0,function*(){const l=typeof(i==null?void 0:i.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((i==null?void 0:i.transform)||{}),d=r?`?${r}`:"";try{const h=this._getFinalPath(e);return{data:yield(yield pr(this.fetch,`${this.url}/${l}/${h}${d}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(h){if(Et(h))return{data:null,error:h};throw h}})}info(e){return $t(this,void 0,void 0,function*(){const i=this._getFinalPath(e);try{const o=yield pr(this.fetch,`${this.url}/object/info/${i}`,{headers:this.headers});return{data:Sd(o),error:null}}catch(o){if(Et(o))return{data:null,error:o};throw o}})}exists(e){return $t(this,void 0,void 0,function*(){const i=this._getFinalPath(e);try{return yield kR(this.fetch,`${this.url}/object/${i}`,{headers:this.headers}),{data:!0,error:null}}catch(o){if(Et(o)&&o instanceof _d){const l=o.originalError;if([400,404].includes(l==null?void 0:l.status))return{data:!1,error:o}}throw o}})}getPublicUrl(e,i){const o=this._getFinalPath(e),l=[],r=i!=null&&i.download?`download=${i.download===!0?"":i.download}`:"";r!==""&&l.push(r);const h=typeof(i==null?void 0:i.transform)<"u"?"render/image":"object",g=this.transformOptsToQueryString((i==null?void 0:i.transform)||{});g!==""&&l.push(g);let m=l.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${o}${m}`)}}}remove(e){return $t(this,void 0,void 0,function*(){try{return{data:yield oy(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(i){if(Et(i))return{data:null,error:i};throw i}})}list(e,i,o){return $t(this,void 0,void 0,function*(){try{const l=Object.assign(Object.assign(Object.assign({},DR),i),{prefix:e||""});return{data:yield Pi(this.fetch,`${this.url}/object/list/${this.bucketId}`,l,{headers:this.headers},o),error:null}}catch(l){if(Et(l))return{data:null,error:l};throw l}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const i=[];return e.width&&i.push(`width=${e.width}`),e.height&&i.push(`height=${e.height}`),e.resize&&i.push(`resize=${e.resize}`),e.format&&i.push(`format=${e.format}`),e.quality&&i.push(`quality=${e.quality}`),i.join("&")}}const LR="2.7.1",PR={"X-Client-Info":`storage-js/${LR}`};var lo=function(n,e,i,o){function l(r){return r instanceof i?r:new i(function(d){d(r)})}return new(i||(i=Promise))(function(r,d){function h(y){try{m(o.next(y))}catch(_){d(_)}}function g(y){try{m(o.throw(y))}catch(_){d(_)}}function m(y){y.done?r(y.value):l(y.value).then(h,g)}m((o=o.apply(n,e||[])).next())})};class OR{constructor(e,i={},o){this.url=e,this.headers=Object.assign(Object.assign({},PR),i),this.fetch=ay(o)}listBuckets(){return lo(this,void 0,void 0,function*(){try{return{data:yield pr(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Et(e))return{data:null,error:e};throw e}})}getBucket(e){return lo(this,void 0,void 0,function*(){try{return{data:yield pr(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(i){if(Et(i))return{data:null,error:i};throw i}})}createBucket(e,i={public:!1}){return lo(this,void 0,void 0,function*(){try{return{data:yield Pi(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(Et(o))return{data:null,error:o};throw o}})}updateBucket(e,i){return lo(this,void 0,void 0,function*(){try{return{data:yield IR(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(Et(o))return{data:null,error:o};throw o}})}emptyBucket(e){return lo(this,void 0,void 0,function*(){try{return{data:yield Pi(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(i){if(Et(i))return{data:null,error:i};throw i}})}deleteBucket(e){return lo(this,void 0,void 0,function*(){try{return{data:yield oy(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(i){if(Et(i))return{data:null,error:i};throw i}})}}class GR extends OR{constructor(e,i={},o){super(e,i,o)}from(e){return new UR(this.url,this.headers,e,this.fetch)}}const HR="2.48.1";let Cs="";typeof Deno<"u"?Cs="deno":typeof document<"u"?Cs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Cs="react-native":Cs="node";const zR={"X-Client-Info":`supabase-js-${Cs}/${HR}`},qR={headers:zR},VR={schema:"public"},BR={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},FR={};var $R=function(n,e,i,o){function l(r){return r instanceof i?r:new i(function(d){d(r)})}return new(i||(i=Promise))(function(r,d){function h(y){try{m(o.next(y))}catch(_){d(_)}}function g(y){try{m(o.throw(y))}catch(_){d(_)}}function m(y){y.done?r(y.value):l(y.value).then(h,g)}m((o=o.apply(n,e||[])).next())})};const JR=n=>{let e;return n?e=n:typeof fetch>"u"?e=Kv:e=fetch,(...i)=>e(...i)},YR=()=>typeof Headers>"u"?Xv:Headers,KR=(n,e,i)=>{const o=JR(i),l=YR();return(r,d)=>$R(void 0,void 0,void 0,function*(){var h;const g=(h=yield e())!==null&&h!==void 0?h:n;let m=new l(d==null?void 0:d.headers);return m.has("apikey")||m.set("apikey",n),m.has("Authorization")||m.set("Authorization",`Bearer ${g}`),o(r,Object.assign(Object.assign({},d),{headers:m}))})};var XR=function(n,e,i,o){function l(r){return r instanceof i?r:new i(function(d){d(r)})}return new(i||(i=Promise))(function(r,d){function h(y){try{m(o.next(y))}catch(_){d(_)}}function g(y){try{m(o.throw(y))}catch(_){d(_)}}function m(y){y.done?r(y.value):l(y.value).then(h,g)}m((o=o.apply(n,e||[])).next())})};function QR(n){return n.replace(/\/$/,"")}function ZR(n,e){const{db:i,auth:o,realtime:l,global:r}=n,{db:d,auth:h,realtime:g,global:m}=e,y={db:Object.assign(Object.assign({},d),i),auth:Object.assign(Object.assign({},h),o),realtime:Object.assign(Object.assign({},g),l),global:Object.assign(Object.assign({},m),r),accessToken:()=>XR(this,void 0,void 0,function*(){return""})};return n.accessToken?y.accessToken=n.accessToken:delete y.accessToken,y}const sy="2.67.3",WR="http://localhost:9999",jR="supabase.auth.token",e2={"X-Client-Info":`gotrue-js/${sy}`},q0=10,Td="X-Supabase-Api-Version",ly={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function t2(n){return Math.round(Date.now()/1e3)+n}function n2(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const e=Math.random()*16|0;return(n=="x"?e:e&3|8).toString(16)})}const kn=()=>typeof window<"u"&&typeof document<"u",ca={tested:!1,writable:!1},Ns=()=>{if(!kn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ca.tested)return ca.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),ca.tested=!0,ca.writable=!0}catch{ca.tested=!0,ca.writable=!1}return ca.writable};function i2(n){const e={},i=new URL(n);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((l,r)=>{e[r]=l})}catch{}return i.searchParams.forEach((o,l)=>{e[l]=o}),e}const ry=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...i)=>vo(async()=>{const{default:o}=await Promise.resolve().then(()=>To);return{default:o}},void 0).then(({default:o})=>o(...i)):e=fetch,(...i)=>e(...i)},a2=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",uy=async(n,e,i)=>{await n.setItem(e,JSON.stringify(i))},tr=async(n,e)=>{const i=await n.getItem(e);if(!i)return null;try{return JSON.parse(i)}catch{return i}},nr=async(n,e)=>{await n.removeItem(e)};function o2(n){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let i="",o,l,r,d,h,g,m,y=0;for(n=n.replace("-","+").replace("_","/");y<n.length;)d=e.indexOf(n.charAt(y++)),h=e.indexOf(n.charAt(y++)),g=e.indexOf(n.charAt(y++)),m=e.indexOf(n.charAt(y++)),o=d<<2|h>>4,l=(h&15)<<4|g>>2,r=(g&3)<<6|m,i=i+String.fromCharCode(o),g!=64&&l!=0&&(i=i+String.fromCharCode(l)),m!=64&&r!=0&&(i=i+String.fromCharCode(r));return i}class br{constructor(){this.promise=new br.promiseConstructor((e,i)=>{this.resolve=e,this.reject=i})}}br.promiseConstructor=Promise;function V0(n){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,i=n.split(".");if(i.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(i[1]))throw new Error("JWT is not valid: payload is not in base64url format");const o=i[1];return JSON.parse(o2(o))}async function s2(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function l2(n,e){return new Promise((o,l)=>{(async()=>{for(let r=0;r<1/0;r++)try{const d=await n(r);if(!e(r,null,d)){o(d);return}}catch(d){if(!e(r,d)){l(d);return}}})()})}function r2(n){return("0"+n.toString(16)).substr(-2)}function u2(){const e=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=i.length;let l="";for(let r=0;r<56;r++)l+=i.charAt(Math.floor(Math.random()*o));return l}return crypto.getRandomValues(e),Array.from(e,r2).join("")}async function c2(n){const i=new TextEncoder().encode(n),o=await crypto.subtle.digest("SHA-256",i),l=new Uint8Array(o);return Array.from(l).map(r=>String.fromCharCode(r)).join("")}function d2(n){return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function f2(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const i=await c2(n);return d2(i)}async function ro(n,e,i=!1){const o=u2();let l=o;i&&(l+="/PASSWORD_RECOVERY"),await uy(n,`${e}-code-verifier`,l);const r=await f2(o);return[r,o===r?"plain":"s256"]}const h2=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function p2(n){const e=n.headers.get(Td);if(!e||!e.match(h2))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class qd extends Error{constructor(e,i,o){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=i,this.code=o}}function Ce(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class m2 extends qd{constructor(e,i,o){super(e,i,o),this.name="AuthApiError",this.status=i,this.code=o}}function g2(n){return Ce(n)&&n.name==="AuthApiError"}class cy extends qd{constructor(e,i){super(e),this.name="AuthUnknownError",this.originalError=i}}class ga extends qd{constructor(e,i,o,l){super(e,o,l),this.name=i,this.status=o}}class Ui extends ga{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function v2(n){return Ce(n)&&n.name==="AuthSessionMissingError"}class jc extends ga{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ir extends ga{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ar extends ga{constructor(e,i=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function y2(n){return Ce(n)&&n.name==="AuthImplicitGrantRedirectError"}class B0 extends ga{constructor(e,i=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class bd extends ga{constructor(e,i){super(e,"AuthRetryableFetchError",i,void 0)}}function ed(n){return Ce(n)&&n.name==="AuthRetryableFetchError"}class F0 extends ga{constructor(e,i,o){super(e,"AuthWeakPasswordError",i,"weak_password"),this.reasons=o}}var E2=function(n,e){var i={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&e.indexOf(o)<0&&(i[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)e.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(i[o[l]]=n[o[l]]);return i};const fa=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),_2=[502,503,504];async function $0(n){var e;if(!a2(n))throw new bd(fa(n),0);if(_2.includes(n.status))throw new bd(fa(n),n.status);let i;try{i=await n.json()}catch(r){throw new cy(fa(r),r)}let o;const l=p2(n);if(l&&l.getTime()>=ly["2024-01-01"].timestamp&&typeof i=="object"&&i&&typeof i.code=="string"?o=i.code:typeof i=="object"&&i&&typeof i.error_code=="string"&&(o=i.error_code),o){if(o==="weak_password")throw new F0(fa(i),n.status,((e=i.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(o==="session_not_found")throw new Ui}else if(typeof i=="object"&&i&&typeof i.weak_password=="object"&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((r,d)=>r&&typeof d=="string",!0))throw new F0(fa(i),n.status,i.weak_password.reasons);throw new m2(fa(i),n.status||500,o)}const S2=(n,e,i,o)=>{const l={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),l.body=JSON.stringify(o),Object.assign(Object.assign({},l),i))};async function De(n,e,i,o){var l;const r=Object.assign({},o==null?void 0:o.headers);r[Td]||(r[Td]=ly["2024-01-01"].name),o!=null&&o.jwt&&(r.Authorization=`Bearer ${o.jwt}`);const d=(l=o==null?void 0:o.query)!==null&&l!==void 0?l:{};o!=null&&o.redirectTo&&(d.redirect_to=o.redirectTo);const h=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",g=await T2(n,e,i+h,{headers:r,noResolveJson:o==null?void 0:o.noResolveJson},{},o==null?void 0:o.body);return o!=null&&o.xform?o==null?void 0:o.xform(g):{data:Object.assign({},g),error:null}}async function T2(n,e,i,o,l,r){const d=S2(e,o,l,r);let h;try{h=await n(i,Object.assign({},d))}catch(g){throw console.error(g),new bd(fa(g),0)}if(h.ok||await $0(h),o!=null&&o.noResolveJson)return h;try{return await h.json()}catch(g){await $0(g)}}function Li(n){var e;let i=null;w2(n)&&(i=Object.assign({},n),n.expires_at||(i.expires_at=t2(n.expires_in)));const o=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:i,user:o},error:null}}function J0(n){const e=Li(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0)&&(e.data.weak_password=n.weak_password),e}function Oi(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function b2(n){return{data:n,error:null}}function x2(n){const{action_link:e,email_otp:i,hashed_token:o,redirect_to:l,verification_type:r}=n,d=E2(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:e,email_otp:i,hashed_token:o,redirect_to:l,verification_type:r},g=Object.assign({},d);return{data:{properties:h,user:g},error:null}}function C2(n){return n}function w2(n){return n.access_token&&n.refresh_token&&n.expires_in}var A2=function(n,e){var i={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&e.indexOf(o)<0&&(i[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)e.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(i[o[l]]=n[o[l]]);return i};class N2{constructor({url:e="",headers:i={},fetch:o}){this.url=e,this.headers=i,this.fetch=ry(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,i="global"){try{return await De(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(o){if(Ce(o))return{data:null,error:o};throw o}}async inviteUserByEmail(e,i={}){try{return await De(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:Oi})}catch(o){if(Ce(o))return{data:{user:null},error:o};throw o}}async generateLink(e){try{const{options:i}=e,o=A2(e,["options"]),l=Object.assign(Object.assign({},o),i);return"newEmail"in o&&(l.new_email=o==null?void 0:o.newEmail,delete l.newEmail),await De(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:x2,redirectTo:i==null?void 0:i.redirectTo})}catch(i){if(Ce(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(e){try{return await De(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Oi})}catch(i){if(Ce(i))return{data:{user:null},error:i};throw i}}async listUsers(e){var i,o,l,r,d,h,g;try{const m={nextPage:null,lastPage:0,total:0},y=await De(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(i=e==null?void 0:e.page)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:"",per_page:(r=(l=e==null?void 0:e.perPage)===null||l===void 0?void 0:l.toString())!==null&&r!==void 0?r:""},xform:C2});if(y.error)throw y.error;const _=await y.json(),S=(d=y.headers.get("x-total-count"))!==null&&d!==void 0?d:0,C=(g=(h=y.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&g!==void 0?g:[];return C.length>0&&(C.forEach(N=>{const D=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),I=JSON.parse(N.split(";")[1].split("=")[1]);m[`${I}Page`]=D}),m.total=parseInt(S)),{data:Object.assign(Object.assign({},_),m),error:null}}catch(m){if(Ce(m))return{data:{users:[]},error:m};throw m}}async getUserById(e){try{return await De(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Oi})}catch(i){if(Ce(i))return{data:{user:null},error:i};throw i}}async updateUserById(e,i){try{return await De(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:i,headers:this.headers,xform:Oi})}catch(o){if(Ce(o))return{data:{user:null},error:o};throw o}}async deleteUser(e,i=!1){try{return await De(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:i},xform:Oi})}catch(o){if(Ce(o))return{data:{user:null},error:o};throw o}}async _listFactors(e){try{const{data:i,error:o}=await De(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:i,error:o}}catch(i){if(Ce(i))return{data:null,error:i};throw i}}async _deleteFactor(e){try{return{data:await De(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(i){if(Ce(i))return{data:null,error:i};throw i}}}const R2={getItem:n=>Ns()?globalThis.localStorage.getItem(n):null,setItem:(n,e)=>{Ns()&&globalThis.localStorage.setItem(n,e)},removeItem:n=>{Ns()&&globalThis.localStorage.removeItem(n)}};function Y0(n={}){return{getItem:e=>n[e]||null,setItem:(e,i)=>{n[e]=i},removeItem:e=>{delete n[e]}}}function M2(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const uo={debug:!!(globalThis&&Ns()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class dy extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class I2 extends dy{}async function k2(n,e,i){uo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const o=new globalThis.AbortController;return e>0&&setTimeout(()=>{o.abort(),uo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async l=>{if(l){uo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,l.name);try{return await i()}finally{uo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,l.name)}}else{if(e===0)throw uo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new I2(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(uo.debug)try{const r=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(r,null,"  "))}catch(r){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",r)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}}))}M2();const D2={url:WR,storageKey:jR,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:e2,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},Ss=30*1e3,K0=3;async function X0(n,e,i){return await i()}class Ms{constructor(e){var i,o;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ms.nextInstanceID,Ms.nextInstanceID+=1,this.instanceID>0&&kn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const l=Object.assign(Object.assign({},D2),e);if(this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.persistSession=l.persistSession,this.storageKey=l.storageKey,this.autoRefreshToken=l.autoRefreshToken,this.admin=new N2({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=ry(l.fetch),this.lock=l.lock||X0,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,l.lock?this.lock=l.lock:kn()&&(!((i=globalThis==null?void 0:globalThis.navigator)===null||i===void 0)&&i.locks)?this.lock=k2:this.lock=X0,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?l.storage?this.storage=l.storage:Ns()?this.storage=R2:(this.memoryStorage={},this.storage=Y0(this.memoryStorage)):(this.memoryStorage={},this.storage=Y0(this.memoryStorage)),kn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(r){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",r)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async r=>{this._debug("received broadcast notification from other tab or client",r),await this._notifyAllSubscribers(r.data.event,r.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${sy}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const i=i2(window.location.href);let o="none";if(this._isImplicitGrantCallback(i)?o="implicit":await this._isPKCECallback(i)&&(o="pkce"),kn()&&this.detectSessionInUrl&&o!=="none"){const{data:l,error:r}=await this._getSessionFromURL(i,o);if(r){if(this._debug("#_initialize()","error detecting session from URL",r),y2(r)){const g=(e=r.details)===null||e===void 0?void 0:e.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:r}}return await this._removeSession(),{error:r}}const{session:d,redirectType:h}=l;return this._debug("#_initialize()","detected session in URL",d,"redirect type",h),await this._saveSession(d),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(i){return Ce(i)?{error:i}:{error:new cy("Unexpected error during initialization",i)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var i,o,l;try{const r=await De(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(l=e==null?void 0:e.options)===null||l===void 0?void 0:l.captchaToken}},xform:Li}),{data:d,error:h}=r;if(h||!d)return{data:{user:null,session:null},error:h};const g=d.session,m=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:m,session:g},error:null}}catch(r){if(Ce(r))return{data:{user:null,session:null},error:r};throw r}}async signUp(e){var i,o,l;try{let r;if("email"in e){const{email:y,password:_,options:S}=e;let C=null,N=null;this.flowType==="pkce"&&([C,N]=await ro(this.storage,this.storageKey)),r=await De(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:S==null?void 0:S.emailRedirectTo,body:{email:y,password:_,data:(i=S==null?void 0:S.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:S==null?void 0:S.captchaToken},code_challenge:C,code_challenge_method:N},xform:Li})}else if("phone"in e){const{phone:y,password:_,options:S}=e;r=await De(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:_,data:(o=S==null?void 0:S.data)!==null&&o!==void 0?o:{},channel:(l=S==null?void 0:S.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:S==null?void 0:S.captchaToken}},xform:Li})}else throw new ir("You must provide either an email or phone number and a password");const{data:d,error:h}=r;if(h||!d)return{data:{user:null,session:null},error:h};const g=d.session,m=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:m,session:g},error:null}}catch(r){if(Ce(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithPassword(e){try{let i;if("email"in e){const{email:r,password:d,options:h}=e;i=await De(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:r,password:d,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:J0})}else if("phone"in e){const{phone:r,password:d,options:h}=e;i=await De(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:r,password:d,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:J0})}else throw new ir("You must provide either an email or phone number and a password");const{data:o,error:l}=i;return l?{data:{user:null,session:null},error:l}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new jc}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:l})}catch(i){if(Ce(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithOAuth(e){var i,o,l,r;return await this._handleProviderSignIn(e.provider,{redirectTo:(i=e.options)===null||i===void 0?void 0:i.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(r=e.options)===null||r===void 0?void 0:r.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const i=await tr(this.storage,`${this.storageKey}-code-verifier`),[o,l]=(i??"").split("/");try{const{data:r,error:d}=await De(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:o},xform:Li});if(await nr(this.storage,`${this.storageKey}-code-verifier`),d)throw d;return!r||!r.session||!r.user?{data:{user:null,session:null,redirectType:null},error:new jc}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign(Object.assign({},r),{redirectType:l??null}),error:d})}catch(r){if(Ce(r))return{data:{user:null,session:null,redirectType:null},error:r};throw r}}async signInWithIdToken(e){try{const{options:i,provider:o,token:l,access_token:r,nonce:d}=e,h=await De(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:l,access_token:r,nonce:d,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:Li}),{data:g,error:m}=h;return m?{data:{user:null,session:null},error:m}:!g||!g.session||!g.user?{data:{user:null,session:null},error:new jc}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:g,error:m})}catch(i){if(Ce(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithOtp(e){var i,o,l,r,d;try{if("email"in e){const{email:h,options:g}=e;let m=null,y=null;this.flowType==="pkce"&&([m,y]=await ro(this.storage,this.storageKey));const{error:_}=await De(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(i=g==null?void 0:g.data)!==null&&i!==void 0?i:{},create_user:(o=g==null?void 0:g.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:m,code_challenge_method:y},redirectTo:g==null?void 0:g.emailRedirectTo});return{data:{user:null,session:null},error:_}}if("phone"in e){const{phone:h,options:g}=e,{data:m,error:y}=await De(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(l=g==null?void 0:g.data)!==null&&l!==void 0?l:{},create_user:(r=g==null?void 0:g.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},channel:(d=g==null?void 0:g.channel)!==null&&d!==void 0?d:"sms"}});return{data:{user:null,session:null,messageId:m==null?void 0:m.message_id},error:y}}throw new ir("You must provide either an email or phone number.")}catch(h){if(Ce(h))return{data:{user:null,session:null},error:h};throw h}}async verifyOtp(e){var i,o;try{let l,r;"options"in e&&(l=(i=e.options)===null||i===void 0?void 0:i.redirectTo,r=(o=e.options)===null||o===void 0?void 0:o.captchaToken);const{data:d,error:h}=await De(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:r}}),redirectTo:l,xform:Li});if(h)throw h;if(!d)throw new Error("An error occurred on token verification.");const g=d.session,m=d.user;return g!=null&&g.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),{data:{user:m,session:g},error:null}}catch(l){if(Ce(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithSSO(e){var i,o,l;try{let r=null,d=null;return this.flowType==="pkce"&&([r,d]=await ro(this.storage,this.storageKey)),await De(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(o=(i=e.options)===null||i===void 0?void 0:i.redirectTo)!==null&&o!==void 0?o:void 0}),!((l=e==null?void 0:e.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:r,code_challenge_method:d}),headers:this.headers,xform:b2})}catch(r){if(Ce(r))return{data:null,error:r};throw r}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:i},error:o}=e;if(o)throw o;if(!i)throw new Ui;const{error:l}=await De(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return{data:{user:null,session:null},error:l}})}catch(e){if(Ce(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const i=`${this.url}/resend`;if("email"in e){const{email:o,type:l,options:r}=e,{error:d}=await De(this.fetch,"POST",i,{headers:this.headers,body:{email:o,type:l,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},redirectTo:r==null?void 0:r.emailRedirectTo});return{data:{user:null,session:null},error:d}}else if("phone"in e){const{phone:o,type:l,options:r}=e,{data:d,error:h}=await De(this.fetch,"POST",i,{headers:this.headers,body:{phone:o,type:l,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:h}}throw new ir("You must provide either an email or phone number and a type")}catch(i){if(Ce(i))return{data:{user:null,session:null},error:i};throw i}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async i=>i))}async _acquireLock(e,i){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await o,await i()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=i();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await e(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const i=await tr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?e=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const o=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",e.expires_at),!o){if(this.storage.isServer){let d=this.suppressGetSessionWarning;e=new Proxy(e,{get:(g,m,y)=>(!d&&m==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),d=!0,this.suppressGetSessionWarning=!0),Reflect.get(g,m,y))})}return{data:{session:e},error:null}}const{session:l,error:r}=await this._callRefreshToken(e.refresh_token);return r?{data:{session:null},error:r}:{data:{session:l},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await De(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Oi}):await this._useSession(async i=>{var o,l,r;const{data:d,error:h}=i;if(h)throw h;return!(!((o=d.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ui}:await De(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(r=(l=d.session)===null||l===void 0?void 0:l.access_token)!==null&&r!==void 0?r:void 0,xform:Oi})})}catch(i){if(Ce(i))return v2(i)&&(await this._removeSession(),await nr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:i};throw i}}async updateUser(e,i={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,i))}async _updateUser(e,i={}){try{return await this._useSession(async o=>{const{data:l,error:r}=o;if(r)throw r;if(!l.session)throw new Ui;const d=l.session;let h=null,g=null;this.flowType==="pkce"&&e.email!=null&&([h,g]=await ro(this.storage,this.storageKey));const{data:m,error:y}=await De(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i==null?void 0:i.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:h,code_challenge_method:g}),jwt:d.access_token,xform:Oi});if(y)throw y;return d.user=m.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),{data:{user:d.user},error:null}})}catch(o){if(Ce(o))return{data:{user:null},error:o};throw o}}_decodeJWT(e){return V0(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ui;const i=Date.now()/1e3;let o=i,l=!0,r=null;const d=V0(e.access_token);if(d.exp&&(o=d.exp,l=o<=i),l){const{session:h,error:g}=await this._callRefreshToken(e.refresh_token);if(g)return{data:{user:null,session:null},error:g};if(!h)return{data:{user:null,session:null},error:null};r=h}else{const{data:h,error:g}=await this._getUser(e.access_token);if(g)throw g;r={access_token:e.access_token,refresh_token:e.refresh_token,user:h.user,token_type:"bearer",expires_in:o-i,expires_at:o},await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)}return{data:{user:r.user,session:r},error:null}}catch(i){if(Ce(i))return{data:{session:null,user:null},error:i};throw i}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async i=>{var o;if(!e){const{data:d,error:h}=i;if(h)throw h;e=(o=d.session)!==null&&o!==void 0?o:void 0}if(!(e!=null&&e.refresh_token))throw new Ui;const{session:l,error:r}=await this._callRefreshToken(e.refresh_token);return r?{data:{user:null,session:null},error:r}:l?{data:{user:l.user,session:l},error:null}:{data:{user:null,session:null},error:null}})}catch(i){if(Ce(i))return{data:{user:null,session:null},error:i};throw i}}async _getSessionFromURL(e,i){try{if(!kn())throw new ar("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ar(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(i){case"implicit":if(this.flowType==="pkce")throw new B0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ar("Not a valid implicit grant flow url.");break;default:}if(i==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new B0("No code detected.");const{data:Q,error:Y}=await this._exchangeCodeForSession(e.code);if(Y)throw Y;const K=new URL(window.location.href);return K.searchParams.delete("code"),window.history.replaceState(window.history.state,"",K.toString()),{data:{session:Q.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:l,access_token:r,refresh_token:d,expires_in:h,expires_at:g,token_type:m}=e;if(!r||!h||!d||!m)throw new ar("No session defined in URL");const y=Math.round(Date.now()/1e3),_=parseInt(h);let S=y+_;g&&(S=parseInt(g));const C=S-y;C*1e3<=Ss&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${C}s, should have been closer to ${_}s`);const N=S-_;y-N>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",N,S,y):y-N<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",N,S,y);const{data:D,error:I}=await this._getUser(r);if(I)throw I;const H={provider_token:o,provider_refresh_token:l,access_token:r,expires_in:_,expires_at:S,refresh_token:d,token_type:m,user:D.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:H,redirectType:e.type},error:null}}catch(o){if(Ce(o))return{data:{session:null,redirectType:null},error:o};throw o}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const i=await tr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&i)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async i=>{var o;const{data:l,error:r}=i;if(r)return{error:r};const d=(o=l.session)===null||o===void 0?void 0:o.access_token;if(d){const{error:h}=await this.admin.signOut(d,e);if(h&&!(g2(h)&&(h.status===404||h.status===401||h.status===403)))return{error:h}}return e!=="others"&&(await this._removeSession(),await nr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const i=n2(),o={id:i,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,o),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:o}}}async _emitInitialSession(e){return await this._useSession(async i=>{var o,l;try{const{data:{session:r},error:d}=i;if(d)throw d;await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",e,"session",r)}catch(r){await((l=this.stateChangeEmitters.get(e))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",r),console.error(r)}})}async resetPasswordForEmail(e,i={}){let o=null,l=null;this.flowType==="pkce"&&([o,l]=await ro(this.storage,this.storageKey,!0));try{return await De(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:o,code_challenge_method:l,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(r){if(Ce(r))return{data:null,error:r};throw r}}async getUserIdentities(){var e;try{const{data:i,error:o}=await this.getUser();if(o)throw o;return{data:{identities:(e=i.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(i){if(Ce(i))return{data:null,error:i};throw i}}async linkIdentity(e){var i;try{const{data:o,error:l}=await this._useSession(async r=>{var d,h,g,m,y;const{data:_,error:S}=r;if(S)throw S;const C=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(d=e.options)===null||d===void 0?void 0:d.redirectTo,scopes:(h=e.options)===null||h===void 0?void 0:h.scopes,queryParams:(g=e.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await De(this.fetch,"GET",C,{headers:this.headers,jwt:(y=(m=_.session)===null||m===void 0?void 0:m.access_token)!==null&&y!==void 0?y:void 0})});if(l)throw l;return kn()&&!(!((i=e.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(o==null?void 0:o.url),{data:{provider:e.provider,url:o==null?void 0:o.url},error:null}}catch(o){if(Ce(o))return{data:{provider:e.provider,url:null},error:o};throw o}}async unlinkIdentity(e){try{return await this._useSession(async i=>{var o,l;const{data:r,error:d}=i;if(d)throw d;return await De(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(l=(o=r.session)===null||o===void 0?void 0:o.access_token)!==null&&l!==void 0?l:void 0})})}catch(i){if(Ce(i))return{data:null,error:i};throw i}}async _refreshAccessToken(e){const i=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{const o=Date.now();return await l2(async l=>(l>0&&await s2(200*Math.pow(2,l-1)),this._debug(i,"refreshing attempt",l),await De(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Li})),(l,r)=>{const d=200*Math.pow(2,l);return r&&ed(r)&&Date.now()+d-o<Ss})}catch(o){if(this._debug(i,"error",o),Ce(o))return{data:{session:null,user:null},error:o};throw o}finally{this._debug(i,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,i){const o=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",i,"url",o),kn()&&!i.skipBrowserRedirect&&window.location.assign(o),{data:{provider:e,url:o},error:null}}async _recoverAndRefresh(){var e;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const o=await tr(this.storage,this.storageKey);if(this._debug(i,"session from storage",o),!this._isValidSession(o)){this._debug(i,"session is not valid"),o!==null&&await this._removeSession();return}const l=Math.round(Date.now()/1e3),r=((e=o.expires_at)!==null&&e!==void 0?e:1/0)<l+q0;if(this._debug(i,`session has${r?"":" not"} expired with margin of ${q0}s`),r){if(this.autoRefreshToken&&o.refresh_token){const{error:d}=await this._callRefreshToken(o.refresh_token);d&&(console.error(d),ed(d)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(i,"error",o),console.error(o);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var i,o;if(!e)throw new Ui;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new br;const{data:r,error:d}=await this._refreshAccessToken(e);if(d)throw d;if(!r.session)throw new Ui;await this._saveSession(r.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",r.session);const h={session:r.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(r){if(this._debug(l,"error",r),Ce(r)){const d={session:null,error:r};return ed(r)||await this._removeSession(),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(d),d}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(r),r}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(e,i,o=!0){const l=`#_notifyAllSubscribers(${e})`;this._debug(l,"begin",i,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:e,session:i});const r=[],d=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(e,i)}catch(g){r.push(g)}});if(await Promise.all(d),r.length>0){for(let h=0;h<r.length;h+=1)console.error(r[h]);throw r[0]}}finally{this._debug(l,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await uy(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await nr(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&kn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ss);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async i=>{const{data:{session:o}}=i;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((o.expires_at*1e3-e)/Ss);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${Ss}ms, refresh threshold is ${K0} ticks`),l<=K0&&await this._callRefreshToken(o.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof dy)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!kn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const i=`#_onVisibilityChanged(${e})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,i,o){const l=[`provider=${encodeURIComponent(i)}`];if(o!=null&&o.redirectTo&&l.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o!=null&&o.scopes&&l.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[r,d]=await ro(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(r)}`,code_challenge_method:`${encodeURIComponent(d)}`});l.push(h.toString())}if(o!=null&&o.queryParams){const r=new URLSearchParams(o.queryParams);l.push(r.toString())}return o!=null&&o.skipBrowserRedirect&&l.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${e}?${l.join("&")}`}async _unenroll(e){try{return await this._useSession(async i=>{var o;const{data:l,error:r}=i;return r?{data:null,error:r}:await De(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(o=l==null?void 0:l.session)===null||o===void 0?void 0:o.access_token})})}catch(i){if(Ce(i))return{data:null,error:i};throw i}}async _enroll(e){try{return await this._useSession(async i=>{var o,l;const{data:r,error:d}=i;if(d)return{data:null,error:d};const h=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:g,error:m}=await De(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(o=r==null?void 0:r.session)===null||o===void 0?void 0:o.access_token});return m?{data:null,error:m}:(e.factorType==="totp"&&(!((l=g==null?void 0:g.totp)===null||l===void 0)&&l.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),{data:g,error:null})})}catch(i){if(Ce(i))return{data:null,error:i};throw i}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var o;const{data:l,error:r}=i;if(r)return{data:null,error:r};const{data:d,error:h}=await De(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(o=l==null?void 0:l.session)===null||o===void 0?void 0:o.access_token});return h?{data:null,error:h}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),{data:d,error:h})})}catch(i){if(Ce(i))return{data:null,error:i};throw i}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async i=>{var o;const{data:l,error:r}=i;return r?{data:null,error:r}:await De(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(o=l==null?void 0:l.session)===null||o===void 0?void 0:o.access_token})})}catch(i){if(Ce(i))return{data:null,error:i};throw i}})}async _challengeAndVerify(e){const{data:i,error:o}=await this._challenge({factorId:e.factorId});return o?{data:null,error:o}:await this._verify({factorId:e.factorId,challengeId:i.id,code:e.code})}async _listFactors(){const{data:{user:e},error:i}=await this.getUser();if(i)return{data:null,error:i};const o=(e==null?void 0:e.factors)||[],l=o.filter(d=>d.factor_type==="totp"&&d.status==="verified"),r=o.filter(d=>d.factor_type==="phone"&&d.status==="verified");return{data:{all:o,totp:l,phone:r},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var i,o;const{data:{session:l},error:r}=e;if(r)return{data:null,error:r};if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const d=this._decodeJWT(l.access_token);let h=null;d.aal&&(h=d.aal);let g=h;((o=(i=l.user.factors)===null||i===void 0?void 0:i.filter(_=>_.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(g="aal2");const y=d.amr||[];return{data:{currentLevel:h,nextLevel:g,currentAuthenticationMethods:y},error:null}}))}}Ms.nextInstanceID=0;const U2=Ms;class L2 extends U2{constructor(e){super(e)}}var P2=function(n,e,i,o){function l(r){return r instanceof i?r:new i(function(d){d(r)})}return new(i||(i=Promise))(function(r,d){function h(y){try{m(o.next(y))}catch(_){d(_)}}function g(y){try{m(o.throw(y))}catch(_){d(_)}}function m(y){y.done?r(y.value):l(y.value).then(h,g)}m((o=o.apply(n,e||[])).next())})};class O2{constructor(e,i,o){var l,r,d;if(this.supabaseUrl=e,this.supabaseKey=i,!e)throw new Error("supabaseUrl is required.");if(!i)throw new Error("supabaseKey is required.");const h=QR(e);this.realtimeUrl=`${h}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${h}/auth/v1`,this.storageUrl=`${h}/storage/v1`,this.functionsUrl=`${h}/functions/v1`;const g=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,m={db:VR,realtime:FR,auth:Object.assign(Object.assign({},BR),{storageKey:g}),global:qR},y=ZR(o??{},m);this.storageKey=(l=y.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(r=y.global.headers)!==null&&r!==void 0?r:{},y.accessToken?(this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(_,S)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(S)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((d=y.auth)!==null&&d!==void 0?d:{},this.headers,y.global.fetch),this.fetch=KR(i,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.rest=new uR(`${h}/rest/v1`,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),y.accessToken||this._listenForAuthEvents()}get functions(){return new ZN(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new GR(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,i={},o={}){return this.rest.rpc(e,i,o)}channel(e,i={config:{}}){return this.realtime.channel(e,i)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,i;return P2(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:o}=yield this.auth.getSession();return(i=(e=o.session)===null||e===void 0?void 0:e.access_token)!==null&&i!==void 0?i:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:i,detectSessionInUrl:o,storage:l,storageKey:r,flowType:d,lock:h,debug:g},m,y){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new L2({url:this.authUrl,headers:Object.assign(Object.assign({},_),m),storageKey:r,autoRefreshToken:e,persistSession:i,detectSessionInUrl:o,storage:l,flowType:d,lock:h,debug:g,fetch:y,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new xR(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((i,o)=>{this._handleTokenChanged(i,"CLIENT",o==null?void 0:o.access_token)})}_handleTokenChanged(e,i,o){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==o?this.changedAccessToken=o:e==="SIGNED_OUT"&&(this.realtime.setAuth(),i=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const G2=(n,e,i)=>new O2(n,e,i);var Ts={};const fy=n=>{try{const e=import.meta;if(typeof e<"u"&&e.env){const i=`VITE_${n}`;if(e.env[i])return e.env[i];if(e.env[n])return e.env[n]}}catch{}try{if(typeof process<"u"&&Ts){const e=`VITE_${n}`;if(Ts[e])return Ts[e];if(Ts[n])return Ts[n]}}catch{}},H2=fy("SUPABASE_URL")||"https://hezgzrgwuegovztqxsts.supabase.co",z2=fy("SUPABASE_ANON_KEY")||"sb_publishable_CBejwT03hCUws_9dOvkIrw_AZPSVB0k",At=G2(H2,z2);function q2({onAuthed:n}){const[e,i]=ne.useState(""),[o,l]=ne.useState(""),[r,d]=ne.useState("login"),[h,g]=ne.useState(!1),[m,y]=ne.useState(null);ne.useEffect(()=>{const{data:S}=At.auth.onAuthStateChange((C,N)=>{N!=null&&N.user&&n()});return()=>S.subscription.unsubscribe()},[n]);async function _(S){S.preventDefault(),g(!0),y(null);try{if(r==="login"){const{error:C}=await At.auth.signInWithPassword({email:e,password:o});if(C)throw C;y("Logged in.")}else{const{error:C}=await At.auth.signUp({email:e,password:o});if(C)throw C;y("Account created. If email confirmation is on, check your inbox.")}}catch(C){y((C==null?void 0:C.message)??"Something went wrong.")}finally{g(!1)}}return E.createElement("div",{className:"min-h-screen flex items-center justify-center p-6"},E.createElement("div",{className:"w-full max-w-md rounded-2xl border border-slate-200 bg-white shadow-xl p-6"},E.createElement("h1",{className:"text-xl font-black mb-1"},"Investigative Case Manager"),E.createElement("p",{className:"text-sm text-slate-600 mb-6"},"Sign in to access your dashboard."),E.createElement("form",{onSubmit:_,className:"space-y-4"},E.createElement("div",null,E.createElement("label",{className:"text-xs font-semibold text-slate-700"},"Email"),E.createElement("input",{className:"mt-1 w-full rounded-xl border border-slate-300 px-3 py-2",value:e,onChange:S=>i(S.target.value),type:"email",autoComplete:"email",required:!0})),E.createElement("div",null,E.createElement("label",{className:"text-xs font-semibold text-slate-700"},"Password"),E.createElement("input",{className:"mt-1 w-full rounded-xl border border-slate-300 px-3 py-2",value:o,onChange:S=>l(S.target.value),type:"password",autoComplete:r==="login"?"current-password":"new-password",required:!0})),E.createElement("button",{disabled:h,className:"w-full rounded-xl bg-slate-900 text-white py-2 font-semibold disabled:opacity-60"},h?"Working...":r==="login"?"Log in":"Create account")),E.createElement("div",{className:"mt-4 text-sm text-slate-600"},r==="login"?E.createElement("button",{className:"underline",onClick:()=>d("signup")},"Need an account? Sign up"):E.createElement("button",{className:"underline",onClick:()=>d("login")},"Already have an account? Log in")),m&&E.createElement("div",{className:"mt-4 text-sm text-slate-700"},m)))}const V2=n=>n.full_name&&n.full_name.trim().length>0?n.full_name:n.user_id,B2=[{id:"in",code:"IN",label:"Case Intake",defaultNarrative:"Reviewed attorney assignment email outlining initial investigative directives and opened case file.",defaultHours:.2},{id:"new",code:"NEW",label:"New Case",defaultNarrative:"Opened case, reviewed discovery, consulted atty",defaultHours:.8},{id:"su",code:"SU",label:"Status Update",defaultNarrative:"researched CourtView, updated case status for attorney's weekly status report.",defaultHours:.2},{id:"cc",code:"CC",label:"Closed Case",defaultNarrative:"Case resolved; finalized all reports and archived investigative file.",defaultHours:.2},{id:"pc",code:"PC",label:"Phone Call",defaultNarrative:"Investigative phone call conducted.",defaultHours:0},{id:"jv",code:"JV",label:"Jail Visit",defaultNarrative:"Conducted jail visit at facility.",defaultHours:0},{id:"di",code:"DI",label:"Defendant Interview",defaultNarrative:"Conducted formal interview with defendant.",defaultHours:0},{id:"wi",code:"WI",label:"Witness Interview",defaultNarrative:"Interviewed potential witness.",defaultHours:0},{id:"ac",code:"AC",label:"Attorney Conference",defaultNarrative:"Conference with lead counsel regarding case strategy.",defaultHours:0},{id:"ci",code:"CI",label:"Complainant Interview",defaultNarrative:"Conducted interview with complainant.",defaultHours:0},{id:"bwo",code:"BWO",label:"Body-Worn Camera Review",defaultNarrative:"Reviewed body-worn camera footage.",defaultHours:0},{id:"med",code:"MED",label:"Medical Records Review",defaultNarrative:"Analyzed medical documentation.",defaultHours:0},{id:"rp",code:"RP",label:"Review Plea",defaultNarrative:"Reviewed proposed plea agreement.",defaultHours:0},{id:"rd",code:"RD",label:"Review Discovery",defaultNarrative:"Examined discovery materials provided by the prosecution.",defaultHours:0},{id:"dv",code:"DV",label:"Document Review",defaultNarrative:"Reviewed case-related documents.",defaultHours:0},{id:"rt",code:"RT",label:"Records/Transcript Request",defaultNarrative:"Prepared and submitted request for official records/transcripts.",defaultHours:0},{id:"cs",code:"CS",label:"Canvass Crime Scene",defaultNarrative:"Conducted canvass and scene examination.",defaultHours:0},{id:"bh",code:"BH",label:"Attend Bond Hearing",defaultNarrative:"Attended bond hearing proceedings.",defaultHours:0},{id:"sup",code:"SUP",label:"Prepare/Serve Subpoena",defaultNarrative:"Prepared and/or served legal subpoena.",defaultHours:0},{id:"cr",code:"CR",label:"Court Review/Court Appearance",defaultNarrative:"Attended court proceedings.",defaultHours:0},{id:"tr",code:"TR",label:"Travel",defaultNarrative:"Travel time for investigative purposes.",defaultHours:0},{id:"em",code:"EM",label:"Email",defaultNarrative:"Investigative email correspondence.",defaultHours:0},{id:"ot",code:"OT",label:"Other",defaultNarrative:"Other investigative task performed.",defaultHours:0}],gn=n=>{if(!n||n===""||n==="null")return"N/A";if(n.includes("/"))return n;const[e,i,o]=n.split("-");return e&&i&&o?`${i}/${o}/${e}`:n},st=n=>{if(!n)return 0;const e=new Date(n),o=new Date().getTime()-e.getTime();return Math.floor(o/(1e3*3600*24))},F2=n=>{if(!n)return Xe.OPEN;const e=n.toLowerCase();return e==="closed"?Xe.CLOSED:e==="pending"?Xe.PENDING:Xe.OPEN},pt=new Date().toLocaleDateString("en-CA"),$2=(n,e)=>({id:n.id,caseNumber:n.caseNumber??"",judgeName:n.judgeName??"",voucherStatus:n.voucherStatus??He.MISSING,status:F2(n.status),dateOpened:n.dateOpened??e,dateClosed:n.dateClosed??"",defendantFirstName:n.defendantFirstName??"",defendantLastName:n.defendantLastName??"",nextCourtDate:n.nextCourtDate??"",nextEventDescription:n.nextEventDescription??"",attorneyName:n.attorneyName??"",assigned_to:n.assigned_to??null,activities:n.activities??[],evidenceItems:n.evidenceItems??[],communications:[],dispositionNotes:n.dispositionNotes??"",datePaid:n.datePaid??"",amountPaid:Number(n.amountPaid??0)}),J2=({status:n})=>{const e={[Xe.OPEN]:"bg-emerald-50 text-emerald-600 border-emerald-100",[Xe.CLOSED]:"bg-slate-100 text-slate-500 border-slate-200",[Xe.PENDING]:"bg-amber-50 text-amber-600 border-amber-100"};return E.createElement("span",{className:`px-2 py-0.5 rounded text-[8px] font-black uppercase tracking-widest border ${e[n]||"bg-slate-50 border-slate-200"}`},n)},xd=({status:n})=>{const e={[He.MISSING]:"bg-rose-50 text-rose-600 border-rose-200",[He.PAID]:"bg-indigo-50 text-indigo-600 border-indigo-200",[He.SUBMITTED]:"bg-blue-50 text-blue-600 border-blue-200",[He.PENDING]:"bg-amber-50 text-amber-600 border-amber-200",[He.OPEN]:"bg-emerald-50 text-emerald-600 border-emerald-200",[He.INTEND_NOT_TO_BILL]:"bg-slate-200 text-slate-600 border-slate-300"};return E.createElement("span",{className:`px-2 py-0.5 rounded text-[8px] font-black uppercase tracking-widest border ${e[n]||"bg-slate-50 border-slate-200"}`},n)},or=({label:n,value:e,icon:i,color:o,subValue:l,onClick:r,size:d="md"})=>{const h={rose:"text-rose-600",orange:"text-orange-600",indigo:"text-indigo-600",amber:"text-amber-600",emerald:"text-emerald-600",slate:"text-slate-600"},g={rose:"bg-rose-600",orange:"bg-orange-600",indigo:"bg-indigo-600",amber:"bg-amber-600",emerald:"bg-emerald-600",slate:"bg-slate-600"},m={rose:"hover:border-rose-400",orange:"hover:border-orange-400",indigo:"hover:border-indigo-400",amber:"hover:border-amber-400",emerald:"hover:border-emerald-400",slate:"hover:border-slate-400"},y=d==="sm"?"p-4":"p-6",_=d==="sm"?18:24,S=d==="sm"?"text-[8px]":"text-[10px]",C=d==="sm"?"text-lg":"text-2xl";return E.createElement("div",{onClick:r,className:`bg-white border p-6 rounded-[32px] shadow-sm flex items-center gap-6 group transition-all duration-300 ${r?`cursor-pointer hover:shadow-md active:scale-95 ${m[o]}`:""} ${y}`},E.createElement("div",{className:`p-4 rounded-2xl ${g[o]} bg-opacity-10 ${h[o]} transition-transform group-hover:scale-110`},E.createElement(i,{size:_})),E.createElement("div",{className:"flex-1 overflow-hidden"},E.createElement("p",{className:`${S} font-black uppercase text-slate-400 tracking-widest`},n),E.createElement("div",{className:"flex items-baseline gap-2"},E.createElement("p",{className:`${C} font-black text-slate-900 leading-tight`},e),l&&E.createElement("span",{className:"text-[10px] font-bold text-slate-400"},l))))},Y2=({caseData:n,onClose:e,onUpdate:i,activityCodes:o,tasks:l,investigators:r,isAdmin:d,onUpdateTask:h})=>{var tt;const[g,m]=ne.useState("details"),[y,_]=ne.useState(n),S=o.find(A=>A.code==="NEW")||o[0]||{code:"NEW",defaultNarrative:"",defaultHours:.1},[C,N]=ne.useState({code:S.code,description:S.defaultNarrative||"",hours:(S.defaultHours||0).toString(),date:new Date().toLocaleDateString("en-CA")}),[D,I]=ne.useState(!1),[H,Q]=ne.useState(!1),[Y,K]=ne.useState(!1),Z=ne.useRef(null),q=ne.useRef([]);ne.useEffect(()=>{_(n)},[n]);const W=ne.useMemo(()=>(y.activities||[]).reduce((A,$)=>A+(Number($.hours)||0),0),[y.activities]),me=ne.useMemo(()=>[...y.activities||[]].sort((A,$)=>new Date($.date).getTime()-new Date(A.date).getTime()),[y.activities]),ee=ne.useMemo(()=>l.filter(A=>A.caseId===y.id).sort((A,$)=>new Date(A.dueDate).getTime()-new Date($.dueDate).getTime()),[l,y.id]),re=(A,$)=>_(te=>({...te,[A]:$})),Te=async()=>{var A;if(!((A=y.defendantLastName)!=null&&A.trim())||y.defendantLastName==="NEW CASE"){alert("Please enter a valid Defendant Last Name.");return}I(!0);try{await i(y),e()}catch($){console.error("Save failure in Jacket:",$)}finally{I(!1)}},Pe=async()=>{try{const A=await navigator.mediaDevices.getUserMedia({audio:!0}),$=new MediaRecorder(A);Z.current=$,q.current=[],$.ondataavailable=te=>{te.data.size>0&&q.current.push(te.data)},$.onstop=async()=>{const te=new Blob(q.current,{type:"audio/webm"}),ye=new FileReader;ye.readAsDataURL(te),ye.onloadend=async()=>{const Ne=ye.result.split(",")[1];K(!0);try{const R=await qN(Ne,"audio/webm",o);R&&N(B=>({...B,code:R.code||"NEW",description:R.description||"",hours:(R.hours||0).toString()}))}catch{alert("Voice extraction failed.")}finally{K(!1)}}},$.start(),Q(!0)}catch{alert("Microphone access denied.")}},Ve=()=>{Z.current&&H&&(Z.current.stop(),Q(!1),Z.current.stream.getTracks().forEach(A=>A.stop()))},Be=()=>{if(!C.description)return;const A=y.activities||[];re("activities",[{id:Math.random().toString(36).substr(2,9),caseId:y.id,code:C.code,description:C.description,hours:parseFloat(C.hours)||0,date:C.date},...A]);const $=o.find(te=>te.code===C.code);N(te=>({...te,description:($==null?void 0:$.defaultNarrative)||"",hours:(($==null?void 0:$.defaultHours)||0).toString()}))};return E.createElement("div",{className:"fixed inset-0 bg-slate-900/95 backdrop-blur-md flex items-center justify-center z-[1000] p-4 animate-in fade-in duration-200"},E.createElement("div",{className:"bg-white rounded-[40px] shadow-2xl max-w-6xl w-full h-[90vh] flex flex-col overflow-hidden border border-slate-300 animate-in zoom-in-95"},E.createElement("header",{className:"px-10 py-8 bg-slate-900 text-white flex justify-between items-center shrink-0"},E.createElement("div",{className:"flex items-center gap-8"},E.createElement("div",{className:"w-16 h-16 bg-indigo-600 rounded-2xl flex items-center justify-center text-3xl font-black uppercase shadow-inner border border-indigo-400"},((tt=y.defendantLastName)==null?void 0:tt[0])||"?"),E.createElement("div",null,E.createElement("h2",{className:"text-2xl font-black uppercase tracking-tight"},y.defendantLastName,", ",y.defendantFirstName),E.createElement("div",{className:"flex items-center gap-5 mt-1"},E.createElement("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest border-r border-slate-700 pr-5"},"REF: ",y.caseNumber),E.createElement(J2,{status:y.status}),E.createElement(xd,{status:y.voucherStatus})))),E.createElement("button",{onClick:e,className:"p-3 hover:bg-white/10 rounded-2xl transition-all active:scale-95"},E.createElement(td,{size:28}))),E.createElement("div",{className:"flex bg-slate-50 border-b shrink-0 px-10"},["details","logs","communication","evidence"].map(A=>E.createElement("button",{key:A,onClick:()=>m(A),className:`px-8 py-5 text-[10px] font-black uppercase tracking-widest border-b-4 transition-all ${g===A?"border-indigo-600 text-indigo-600 bg-white":"border-transparent text-slate-400 hover:text-slate-600"}`},A))),E.createElement("div",{className:"flex-1 overflow-y-auto p-10 bg-white"},g==="details"&&E.createElement("div",{className:"animate-in fade-in space-y-12 h-full"},E.createElement("div",{className:"grid grid-cols-12 gap-10"},E.createElement("div",{className:"col-span-6 space-y-10 border-r pr-10"},E.createElement("section",{className:"space-y-6"},E.createElement("h3",{className:"text-[11px] font-black text-slate-900 uppercase tracking-widest border-b-2 border-slate-100 pb-3 flex items-center gap-3"},E.createElement(j0,{size:16,className:"text-indigo-600"})," Identity Registry"),E.createElement("div",{className:"grid grid-cols-2 gap-6 pb-6 border-b border-slate-50"},E.createElement("div",{className:"space-y-1"},E.createElement("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest"},"Date Opened"),E.createElement("input",{type:"date",value:y.dateOpened,onChange:A=>re("dateOpened",A.target.value),className:"w-full p-3 bg-slate-50 border rounded-xl text-xs font-bold outline-none"})),E.createElement("div",{className:"space-y-1"},E.createElement("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest"},"Case Number"),E.createElement("input",{value:y.caseNumber,onChange:A=>re("caseNumber",A.target.value),className:"w-full p-3 bg-slate-50 border rounded-xl text-xs font-bold outline-none"})),E.createElement("div",{className:"space-y-1"},E.createElement("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest"},"First Name"),E.createElement("input",{value:y.defendantFirstName,onChange:A=>re("defendantFirstName",A.target.value),className:"w-full p-3 bg-slate-50 border rounded-xl text-xs font-bold outline-none"})),E.createElement("div",{className:"space-y-1"},E.createElement("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest"},"Last Name"),E.createElement("input",{value:y.defendantLastName,onChange:A=>re("defendantLastName",A.target.value),className:"w-full p-3 bg-slate-50 border rounded-xl text-xs font-black uppercase outline-none"})),E.createElement("div",{className:"space-y-1"},E.createElement("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest"},"Lead Attorney"),E.createElement("input",{value:y.attorneyName,onChange:A=>re("attorneyName",A.target.value),className:"w-full p-3 bg-slate-50 border rounded-xl text-xs font-black uppercase outline-none"})),E.createElement("div",{className:"space-y-1"},E.createElement("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest"},"Presiding Judge"),E.createElement("input",{value:y.judgeName,onChange:A=>re("judgeName",A.target.value),className:"w-full p-3 bg-slate-50 border rounded-xl text-xs font-bold outline-none"}))),d&&E.createElement("div",{className:"mt-3"},E.createElement("label",{className:"text-xs font-semibold text-slate-600"},"Assigned Investigator"),E.createElement("select",{className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm",value:y.assigned_to??"",onChange:A=>re("assigned_to",A.target.value||null)},E.createElement("option",{value:""},"Unassigned"),r.map(A=>E.createElement("option",{key:A.user_id,value:A.user_id},V2(A)))))),E.createElement("section",{className:"space-y-6"},E.createElement("h3",{className:"text-[11px] font-black text-slate-900 uppercase tracking-widest border-b-2 border-slate-100 pb-3 flex items-center gap-3"},E.createElement(bs,{size:16,className:"text-indigo-600"})," Investigative Directives"),E.createElement("div",{className:"space-y-3 max-h-[350px] overflow-y-auto pr-2 custom-scrollbar"},ee.length===0?E.createElement("div",{className:"py-10 text-center bg-slate-50 rounded-3xl border-2 border-dashed border-slate-100"},E.createElement("p",{className:"text-[10px] font-black uppercase text-slate-300 tracking-widest"},"No active directives found")):ee.map(A=>E.createElement("div",{key:A.id,className:`p-5 rounded-3xl border flex items-center justify-between gap-4 transition-all ${A.completed?"bg-slate-50 border-slate-100 opacity-60":"bg-white border-slate-200 shadow-sm hover:border-indigo-200"}`},E.createElement("div",{className:"flex-1 min-w-0"},E.createElement("p",{className:`text-[11px] font-bold leading-tight ${A.completed?"line-through text-slate-400":"text-slate-900"}`},A.taskDescription),E.createElement("div",{className:"flex items-center gap-3 mt-1.5"},E.createElement("span",{className:`text-[8px] font-black uppercase tracking-widest ${!A.completed&&A.dueDate<pt?"text-blue-950":"text-slate-400"}`},"Due: ",gn(A.dueDate)," ",!A.completed&&A.dueDate<pt&&"(OVERDUE)"),E.createElement("span",{className:"text-[8px] font-black uppercase text-indigo-400"},A.priority))),E.createElement("button",{onClick:()=>h==null?void 0:h({...A,completed:!A.completed}),className:`w-10 h-10 rounded-xl flex items-center justify-center transition-all border-2 ${A.completed?"bg-emerald-500 border-emerald-500 text-white shadow-inner":"border-slate-100 hover:border-indigo-600 text-transparent"}`},E.createElement(Z0,{size:20}))))))),E.createElement("div",{className:"col-span-6 space-y-10"},E.createElement("section",{className:"space-y-6"},E.createElement("h3",{className:"text-[11px] font-black text-slate-900 uppercase tracking-widest border-b-2 border-slate-100 pb-3 flex items-center gap-3"},E.createElement(ES,{size:16,className:"text-indigo-600"})," Court & Lifecycle"),E.createElement("div",{className:"space-y-6"},E.createElement("div",{className:"grid grid-cols-2 gap-6"},E.createElement("div",{className:"space-y-1"},E.createElement("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest"},"Next Court Date"),E.createElement("input",{type:"date",value:y.nextCourtDate,onChange:A=>re("nextCourtDate",A.target.value),className:"w-full p-3 bg-slate-50 border rounded-xl text-xs font-bold"})),E.createElement("div",{className:"space-y-1"},E.createElement("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest"},"Event Description"),E.createElement("input",{value:y.nextEventDescription,onChange:A=>re("nextEventDescription",A.target.value),className:"w-full p-3 bg-slate-50 border rounded-xl text-xs font-bold",placeholder:"e.g. Trial Readiness"}))),E.createElement("div",{className:"grid grid-cols-2 gap-6"},E.createElement("div",{className:"space-y-1"},E.createElement("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest"},"Case Status"),E.createElement("select",{value:y.status,onChange:A=>re("status",A.target.value),className:"w-full p-3 bg-slate-50 border rounded-xl text-xs font-black uppercase outline-none"},Object.values(Xe).map(A=>E.createElement("option",{key:A,value:A},A)))),E.createElement("div",{className:"space-y-1"},E.createElement("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest"},"Voucher Status"),E.createElement("select",{value:y.voucherStatus,onChange:A=>re("voucherStatus",A.target.value),className:"w-full p-3 bg-slate-50 border rounded-xl text-xs font-black uppercase outline-none"},Object.values(He).map(A=>E.createElement("option",{key:A,value:A},A))))),E.createElement("div",{className:"space-y-1"},E.createElement("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest"},"Strategic Notes"),E.createElement("textarea",{value:y.dispositionNotes,onChange:A=>re("dispositionNotes",A.target.value),className:"w-full p-4 bg-slate-50 border rounded-xl text-xs font-medium h-48 outline-none resize-none focus:border-indigo-600 transition-all",placeholder:"Enter notes..."}))))))),g==="logs"&&E.createElement("div",{className:"space-y-8 animate-in fade-in h-full"},E.createElement("div",{className:"bg-slate-900 rounded-[32px] p-8 shadow-2xl relative overflow-hidden shrink-0"},E.createElement("div",{className:"flex justify-between items-center mb-8 relative z-10"},E.createElement("h4",{className:"text-[10px] font-black text-indigo-400 uppercase tracking-widest flex items-center gap-2"},"Post Investigative Log ",Y&&E.createElement("span",{className:"flex items-center gap-2 text-indigo-300 animate-pulse"},E.createElement(ws,{size:12,className:"animate-spin"})," AI Processing...")),E.createElement("p",{className:"text-3xl font-black text-white"},W.toFixed(1)," ",E.createElement("span",{className:"text-[10px] text-slate-500 uppercase"},"Total Billable Hrs"))),E.createElement("div",{className:"grid grid-cols-12 gap-4 items-end relative z-10"},E.createElement("div",{className:"col-span-2 space-y-1"},E.createElement("p",{className:"text-[8px] font-black text-slate-500 uppercase tracking-widest"},"Date"),E.createElement("input",{type:"date",value:C.date,onChange:A=>N({...C,date:A.target.value}),className:"w-full p-3 bg-white rounded-xl text-[11px] font-bold outline-none"})),E.createElement("div",{className:"col-span-2 space-y-1"},E.createElement("p",{className:"text-[8px] font-black text-slate-500 uppercase tracking-widest"},"Type"),E.createElement("select",{value:C.code,onChange:A=>{const $=A.target.value,te=o.find(ye=>ye.code===$);N({...C,code:$,description:(te==null?void 0:te.defaultNarrative)||"",hours:((te==null?void 0:te.defaultHours)||0).toString()})},className:"w-full p-3 bg-white rounded-xl text-[11px] font-black uppercase"},o.map(A=>E.createElement("option",{key:A.id,value:A.code},A.code)))),E.createElement("div",{className:"col-span-4 space-y-1"},E.createElement("p",{className:"text-[8px] font-black text-slate-500 uppercase tracking-widest"},"Narrative"),E.createElement("input",{value:C.description,onChange:A=>N({...C,description:A.target.value}),className:"w-full p-3 bg-white rounded-xl text-[11px] font-bold outline-none",placeholder:"Enter narrative..."})),E.createElement("div",{className:"col-span-1 space-y-1"},E.createElement("p",{className:"text-[8px] font-black text-slate-500 uppercase tracking-widest"},"Hrs"),E.createElement("input",{type:"number",step:"0.1",value:C.hours,onChange:A=>N({...C,hours:A.target.value}),className:"w-full p-3 bg-white rounded-xl text-[11px] font-black outline-none",placeholder:"0.1"})),E.createElement("div",{className:"col-span-3 flex gap-2"},E.createElement("button",{onClick:H?Ve:Pe,className:`flex-1 py-3.5 rounded-xl font-black uppercase text-[10px] transition-all flex items-center justify-center gap-2 shadow-lg active:scale-95 ${H?"bg-rose-600 text-white animate-pulse":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`},H?E.createElement(tT,{size:14}):E.createElement(LS,{size:14})," ",H?"Stop":"Voice"),E.createElement("button",{onClick:Be,className:"flex-1 py-3.5 bg-indigo-600 text-white rounded-xl font-black uppercase text-[10px] hover:bg-white hover:text-indigo-600 transition-all shadow-lg active:scale-95"},"Sync")))),E.createElement("div",{className:"space-y-4 pb-10"},me.map(A=>E.createElement("div",{key:A.id,className:"p-5 bg-white border rounded-[24px] flex items-center justify-between group hover:border-indigo-200 transition-all shadow-sm"},E.createElement("div",{className:"flex gap-6 items-center flex-1"},E.createElement("div",{className:"text-center w-16"},E.createElement("span",{className:"text-[10px] font-black text-indigo-600 block uppercase tracking-widest"},A.code),E.createElement("span",{className:"text-[10px] font-black text-slate-400"},A.hours.toFixed(1),"H")),E.createElement("div",{className:"flex-1 border-l-2 border-slate-100 pl-6"},E.createElement("p",{className:"text-[11px] font-bold text-slate-800 leading-relaxed"},A.description),E.createElement("p",{className:"text-[8px] font-bold text-slate-400 uppercase mt-1 tracking-widest"},gn(A.date)))),E.createElement("button",{onClick:()=>re("activities",(y.activities||[]).filter($=>$.id!==A.id)),className:"p-3 text-rose-400 opacity-0 group-hover:opacity-100 hover:bg-rose-50 rounded-xl transition-all"},E.createElement(W0,{size:16}))))))),E.createElement("footer",{className:"p-8 bg-slate-50 border-t flex justify-end gap-3 shrink-0"},E.createElement("button",{onClick:e,className:"px-8 py-3 text-slate-400 font-black uppercase text-[10px] tracking-widest"},"Cancel"),E.createElement("button",{onClick:Te,disabled:D,className:"px-12 py-3 bg-slate-900 text-white rounded-xl font-black uppercase text-[10px] tracking-widest flex items-center gap-3 hover:bg-indigo-600 transition-all shadow-xl active:scale-95 disabled:opacity-50"},D?E.createElement(ws,{size:18,className:"animate-spin"}):E.createElement(SS,{size:18})," Commit Changes"))))},K2=()=>{var Co,wo;const[n,e]=ne.useState([]),[i,o]=ne.useState([]),[l,r]=ne.useState(null),d=l==="global_admin",[h,g]=ne.useState(!1),[m,y]=ne.useState(""),[_,S]=ne.useState(!1),[C,N]=ne.useState([]),[D,I]=ne.useState(B2),[H,Q]=ne.useState("dashboard"),[Y,K]=ne.useState(!1),[Z,q]=ne.useState(null),[W,me]=ne.useState(""),[ee,re]=ne.useState("Missing"),[Te,Pe]=ne.useState("All"),[Ve,Be]=ne.useState(null),[tt,A]=ne.useState(null),[$,te]=ne.useState({evidence:!0,overdue:!0,urgent:!0,cold:!0,stagnant:!0}),ye=x=>te(P=>({...P,[x]:!P[x]})),[Ne,R]=ne.useState("Active"),[B,ie]=ne.useState("Defendant"),[oe,ge]=ne.useState(""),[xe,Ue]=ne.useState(!1),[lt,it]=ne.useState(null),[oi,va]=ne.useState("weekly"),[ya,Ea]=ne.useState(null),[tn,_a]=ne.useState(!1),[Hi,xr]=ne.useState("Active"),[ks,zi]=ne.useState(!1),[si,li]=ne.useState(null),[St,Dn]=ne.useState({defendantName:"",taskDescription:"",dueDate:pt,priority:"Medium",caseId:""}),[mt,Cr]=ne.useState(new Date),[Sa,Ds]=ne.useState(new Date().toLocaleDateString("en-CA")),qi=ne.useMemo(()=>{const x=mt.getFullYear(),P=mt.getMonth(),X=new Date(x,P,1),Ee=[],z=new Date(X);for(;z.getMonth()===P;)Ee.push(new Date(z)),z.setDate(z.getDate()+1);return Ee},[mt]),Vi=ne.useCallback(async()=>{K(!0);try{const{data:x,error:P}=await At.from("cases").select("*");if(P)throw P;x&&e(x.map(z=>$2(z,pt)));const{data:X,error:Ee}=await At.from("global_tasks").select("*");if(Ee)throw Ee;X&&N(X.map(z=>({id:z.id,taskDate:z.taskDate||"",defendantName:z.defendantName||"",attorneyName:"",caseNumber:z.caseNumber||"",taskDescription:z.taskDescription||"",dueDate:z.dueDate||"",priority:z.priority||"Medium",completed:!!z.completed,caseId:z.caseId}))),A(new Date)}catch(x){console.error("Cloud Fetch Error:",x)}finally{K(!1)}},[]);ne.useEffect(()=>{(async()=>{const{data:x}=await At.auth.getUser(),P=x.user;if(!P)return;const{data:X,error:Ee}=await At.from("profiles").select("full_name, role").eq("user_id",P.id).single();if(Ee){console.error("Profile load failed:",Ee);return}y((X==null?void 0:X.full_name)||""),r((X==null?void 0:X.role)??null)})()},[]),ne.useEffect(()=>{(async()=>{const{data:x}=await At.auth.getUser(),P=x.user;if(!P)return;if(!d){const{data:z}=await At.from("profiles").select("user_id, full_name").eq("user_id",P.id).single();o(z?[z]:[]);return}const{data:X,error:Ee}=await At.from("profiles").select("user_id, full_name").eq("role","investigator").order("full_name",{ascending:!0});if(Ee){console.error("Failed to load investigators:",Ee);return}o(X||[])})()},[d]),ne.useEffect(()=>{Vi()},[Vi]);const ri=ne.useMemo(()=>{const x={};return n.forEach(P=>{(P.activities||[]).forEach(X=>{x[X.date]||(x[X.date]={total:0,activities:[]}),x[X.date].total+=X.hours||0,x[X.date].activities.push({...X,defendantName:`${P.defendantLastName||"NEW"}, ${P.defendantFirstName||"CASE"}`,caseId:P.id})})}),x},[n]),Ie=ne.useMemo(()=>{const x=j=>{var Dt,on;const pe=((Dt=j.defendantFirstName)==null?void 0:Dt.trim())||"",Le=((on=j.defendantLastName)==null?void 0:on.trim())||"",Gt=["NEW CASE","NEW INTAKE","NEW","INTAKE",""].includes(Le.toUpperCase());return pe.length>0&&Le.length>0&&!Gt},P=n.filter(x),X=P.filter(j=>j.status===Xe.OPEN),Ee=Object.entries(ri).filter(([j,pe])=>pe.total>12).map(([j,pe])=>({date:j,total:pe.total})).sort((j,pe)=>new Date(pe.date).getTime()-new Date(j.date).getTime()),z=P.flatMap(j=>(j.evidenceItems||[]).filter(pe=>!pe.dateReceived&&pe.dateRequested<pt).map(pe=>({...pe,caseId:j.id,defendantName:`${j.defendantLastName}, ${j.defendantFirstName}`,attorneyName:j.attorneyName}))).sort((j,pe)=>new Date(j.dateRequested).getTime()-new Date(pe.dateRequested).getTime()),he=X.filter(j=>j.nextCourtDate&&j.nextCourtDate<pt).sort((j,pe)=>new Date(j.nextCourtDate).getTime()-new Date(pe.nextCourtDate).getTime()),ue=X.filter(j=>{if(!j.nextCourtDate)return!1;const Le=(new Date(j.nextCourtDate).getTime()-new Date().getTime())/(1e3*3600*24),Gt=["trial readiness","jury trial","non-jury trial","motion hearing","sentencing"].some(Dt=>(j.nextEventDescription||"").toLowerCase().includes(Dt));return Le>=0&&Le<=30&&Gt}).sort((j,pe)=>new Date(j.nextCourtDate).getTime()-new Date(pe.nextCourtDate).getTime()),Tt=X.filter(j=>{const pe=j.activities||[];return pe.length===1&&pe[0].code==="NEW"&&st(pe[0].date)>=14}).map(j=>({...j,daysSinceNew:st(j.activities[0].date)})).sort((j,pe)=>pe.daysSinceNew-j.daysSinceNew),kt=X.filter(j=>{const pe=j.activities||[],Le=pe.length>0?pe.sort((Gt,Dt)=>new Date(Dt.date).getTime()-new Date(Gt.date).getTime())[0].date:j.dateOpened;return st(Le)>45}).map(j=>{const pe=j.activities||[],Le=pe.length>0?pe.sort((Gt,Dt)=>new Date(Dt.date).getTime()-new Date(Gt.date).getTime())[0].date:j.dateOpened;return{...j,stagnantDays:st(Le)}}).sort((j,pe)=>pe.stagnantDays-j.stagnantDays),Pn=P.filter(j=>j.voucherStatus===He.PAID).reduce((j,pe)=>j+(pe.amountPaid||0),0),an=P.filter(j=>j.voucherStatus===He.SUBMITTED).reduce((j,pe)=>{const Le=(pe.activities||[]).reduce((Gt,Dt)=>Gt+(Dt.hours||0),0);return j+Le*45},0),Jt={Missing:P.filter(j=>j.voucherStatus===He.MISSING&&j.status===Xe.OPEN).length,"Pre-Audit":P.filter(j=>j.status===Xe.CLOSED&&[He.MISSING,He.OPEN].includes(j.voucherStatus)).length,Submitted:P.filter(j=>j.voucherStatus===He.SUBMITTED).length,Paid:P.filter(j=>j.voucherStatus===He.PAID).length,IntendNotToBill:P.filter(j=>j.voucherStatus===He.INTEND_NOT_TO_BILL).length};return{activeCount:X.length,urgentTrials:ue,coldStarts:Tt,stagnantRisk:kt,overdueCourts:he,evidenceAlerts:z,highDutyDays:Ee,counts:Jt,totalSettlement:Pn,pendingRevenue:an,sortedActivities:P.flatMap(j=>(j.activities||[]).map(pe=>({...pe,defendantName:`${j.defendantLastName}, ${j.defendantFirstName}`,caseId:j.id}))).sort((j,pe)=>new Date(pe.date).getTime()-new Date(j.date).getTime()).slice(0,25)}},[n,ri]),Us=ne.useMemo(()=>{const x=new Set;return n.forEach(P=>{P.attorneyName&&x.add(P.attorneyName)}),Array.from(x).sort()},[n]),ui=ne.useMemo(()=>[...C].sort((x,P)=>x.dueDate?P.dueDate?new Date(x.dueDate).getTime()-new Date(P.dueDate).getTime():-1:1),[C]),Nt=async x=>{K(!0);try{const{id:P,caseNumber:X,judgeName:Ee,voucherStatus:z,status:he,dateOpened:ue,dateClosed:Tt,attorneyName:kt,defendantFirstName:Pn,defendantLastName:an,nextCourtDate:Jt,nextEventDescription:j,evidenceItems:pe,dispositionNotes:Le,activities:Gt,datePaid:Dt,amountPaid:on,assigned_to:Yi}=x,Ir={id:P,caseNumber:X,judgeName:Ee,voucherStatus:z,status:he,dateOpened:ue,dateClosed:Tt,attorneyName:kt,defendantFirstName:Pn,defendantLastName:an,nextCourtDate:Jt,nextEventDescription:j,evidenceItems:pe||[],dispositionNotes:Le||"",activities:Gt||[],datePaid:Dt||"",amountPaid:Number(on||0),assigned_to:x.assigned_to??null},{error:Ao}=await At.from("cases").upsert(Ir);if(Ao)throw Ao;await Vi()}catch(P){throw console.error("Schema Sync Failure:",P),alert(`Schema Sync Failure: ${P.message}`),P}finally{K(!1)}},nn=async x=>{K(!0);try{const{id:P,taskDate:X,defendantName:Ee,caseNumber:z,taskDescription:he,dueDate:ue,priority:Tt,completed:kt,caseId:Pn}=x,an={id:P,taskDate:X,defendantName:Ee,caseNumber:z,taskDescription:he,dueDate:ue,priority:Tt,completed:kt,caseId:Pn},{error:Jt}=await At.from("global_tasks").upsert(an);if(Jt)throw Jt;await Vi()}catch(P){console.error("Directive Failure:",P),alert(`Directive Failure: ${P.message}`)}finally{K(!1)}},It=async()=>{const x=crypto.randomUUID(),P={id:x,caseNumber:"",judgeName:"",voucherStatus:He.MISSING,status:Xe.OPEN,dateOpened:pt,attorneyName:"",defendantFirstName:"",defendantLastName:"NEW CASE",nextCourtDate:"",nextEventDescription:"",evidenceItems:[],activities:[],communications:[],dispositionNotes:"",amountPaid:0,datePaid:""};q(x),e(X=>[P,...X])},wr=async()=>{S(!0);try{const{data:x}=await At.auth.getUser(),P=x.user;if(!P)return;const{error:X}=await At.from("profiles").upsert({user_id:P.id,full_name:m});if(X)throw X;g(!1)}catch(x){alert(`Could not save profile: ${x.message||x}`)}finally{S(!1)}},Ar=async()=>{if(oe.trim()){Ue(!0);try{const x=await VN(oe,"manual-intake@system");if(x){const P=crypto.randomUUID(),X={id:P,caseNumber:x.case_number||"",judgeName:x.judge||"",voucherStatus:He.MISSING,status:Xe.OPEN,dateOpened:pt,attorneyName:x.lead_counsel||"",defendantFirstName:x.defendant_first||"",defendantLastName:x.defendant_last||"NEW INTAKE",nextCourtDate:x.next_court_date||"",nextEventDescription:x.hearing_type||"",evidenceItems:[],activities:[{id:"init",caseId:P,code:"IN",description:"Initial AI Intake processing complete.",hours:.2,date:pt}],communications:[],dispositionNotes:"",amountPaid:0};await Nt(X),ge(""),Q("cases"),q(P)}}catch{alert("Intake analysis failed.")}finally{Ue(!1)}}},Nr=async x=>{_a(!0),Ea(null);try{let P=n;lt&&(P=n.filter(z=>z.attorneyName===lt));let X={};if(x==="weekly"){const z=new Date;z.setDate(z.getDate()+7);const he=z.toLocaleDateString("en-CA");X={upcomingCourt:P.filter(ue=>ue.nextCourtDate&&ue.nextCourtDate>=pt&&ue.nextCourtDate<=he).map(ue=>({name:`${ue.defendantLastName}, ${ue.defendantFirstName}`,caseNumber:ue.caseNumber,event:ue.nextEventDescription,date:ue.nextCourtDate})),missingVoucher10Days:P.filter(ue=>ue.voucherStatus===He.MISSING&&st(ue.dateOpened)>=10).map(ue=>({name:`${ue.defendantLastName}, ${ue.defendantFirstName}`,caseNumber:ue.caseNumber,assignedDate:ue.dateOpened})),missingVoucherClosed:P.filter(ue=>ue.status===Xe.CLOSED&&ue.voucherStatus===He.MISSING).map(ue=>({name:`${ue.defendantLastName}, ${ue.defendantFirstName}`,caseNumber:ue.caseNumber})),remainingCases:P.filter(ue=>ue.status===Xe.OPEN&&!(ue.nextCourtDate&&ue.nextCourtDate<=he)).map(ue=>({name:`${ue.defendantLastName}, ${ue.defendantFirstName}`,caseNumber:ue.caseNumber,activities:ue.activities}))}}else x==="aged"?X={unbilled90:P.filter(z=>z.voucherStatus===He.MISSING&&st(z.dateOpened)>=90).map(z=>({name:`${z.defendantLastName}, ${z.defendantFirstName}`,ref:z.caseNumber,assigned:z.dateOpened})),unbilled60:P.filter(z=>z.voucherStatus===He.MISSING&&st(z.dateOpened)>=60&&st(z.dateOpened)<90).map(z=>({name:`${z.defendantLastName}, ${z.defendantFirstName}`,ref:z.caseNumber,assigned:z.dateOpened})),unbilled30:P.filter(z=>z.voucherStatus===He.MISSING&&st(z.dateOpened)>=30&&st(z.dateOpened)<60).map(z=>({name:`${z.defendantLastName}, ${z.defendantFirstName}`,ref:z.caseNumber,assigned:z.dateOpened}))}:x==="aging"?X={legacyMatters:P.filter(z=>st(z.dateOpened)>=91).map(z=>({name:`${z.defendantLastName}`,opened:z.dateOpened,age:st(z.dateOpened)})),seasonedMatters:P.filter(z=>st(z.dateOpened)>=31&&st(z.dateOpened)<=90).map(z=>({name:`${z.defendantLastName}`,opened:z.dateOpened,age:st(z.dateOpened)})),newMatters:P.filter(z=>st(z.dateOpened)<=30).map(z=>({name:`${z.defendantLastName}`,opened:z.dateOpened,age:st(z.dateOpened)}))}:x==="stagnant"?X={stagnantMatters:P.filter(z=>{const he=z.activities||[],ue=he.length>0?[...he].sort((Tt,kt)=>new Date(kt.date).getTime()-new Date(Tt.date).getTime())[0].date:z.dateOpened;return st(ue)>=45&&z.status!==Xe.CLOSED}).map(z=>({name:`${z.defendantLastName}`,lastActivity:(z.activities||[]).length>0?[...z.activities].sort((he,ue)=>new Date(ue.date).getTime()-new Date(he.date).getTime())[0].date:"None"}))}:x==="pretrial"?X={upcomingTrials:P.filter(z=>(z.nextEventDescription||"").toUpperCase().includes("TRIAL")||(z.nextEventDescription||"").toUpperCase().includes("READINESS")).map(z=>({name:`${z.defendantLastName}`,event:z.nextEventDescription,date:z.nextCourtDate,taskCount:C.filter(he=>he.caseId===z.id).length}))}:x==="intel"&&(X={activeMattersCount:P.filter(z=>z.status===Xe.OPEN).length,urgentActionCount:P.filter(z=>z.nextCourtDate&&st(z.nextCourtDate)>=-7).length,totalSettlement:P.filter(z=>z.voucherStatus===He.PAID).reduce((z,he)=>z+(he.amountPaid||0),0)});let Ee=x==="intel"&&!lt?await zN(X):await BN(x,lt,X);Ea(Ee)}catch{alert("Report synthesis failed.")}finally{_a(!1)}},Bi=x=>{const P=new Date(mt);P.setMonth(P.getMonth()+x),Cr(P)},Fi=ne.useMemo(()=>Z?n.find(x=>x.id===Z):null,[Z,n]),$i=ne.useMemo(()=>n.filter(P=>{const X=W.toLowerCase();return`${P.defendantFirstName||""} ${P.defendantLastName||""}`.toLowerCase().includes(X)?Ne==="Active"?P.status!==Xe.CLOSED:Ne==="Unscheduled"?P.status!==Xe.CLOSED&&!P.nextCourtDate:Ne==="Archive"?P.status===Xe.CLOSED:!0:!1}).sort((P,X)=>{const Ee=ue=>{const Tt=(ue.defendantLastName||"").toUpperCase(),kt=(ue.defendantFirstName||"").trim();return Tt==="NEW CASE"||Tt===""&&kt===""},z=Ee(P),he=Ee(X);if(z&&!he)return 1;if(!z&&he)return-1;if(z&&he)return 0;if(B==="Defendant"){const ue=`${P.defendantLastName||""} ${P.defendantFirstName||""}`.toUpperCase(),Tt=`${X.defendantLastName||""} ${X.defendantFirstName||""}`.toUpperCase();return ue.localeCompare(Tt)}return B==="Court Date"?P.nextCourtDate?X.nextCourtDate?new Date(P.nextCourtDate).getTime()-new Date(X.nextCourtDate).getTime():-1:1:B==="Attorney"?(P.attorneyName||"").localeCompare(X.attorneyName||""):B==="Date Opened"?new Date(P.dateOpened||0).getTime()-new Date(X.dateOpened||0).getTime():0}),[n,W,Ne,B]),Un=ne.useMemo(()=>({Active:n.filter(x=>x.status!==Xe.CLOSED).length,Unscheduled:n.filter(x=>x.status!==Xe.CLOSED&&!x.nextCourtDate).length,Archive:n.filter(x=>x.status===Xe.CLOSED).length}),[n]),Ta=ne.useMemo(()=>({Active:C.filter(x=>!x.completed).length,Completed:C.filter(x=>x.completed).length}),[C]),En=ne.useMemo(()=>{let x=n.filter(P=>ee==="Missing"?P.status===Xe.OPEN&&P.voucherStatus===He.MISSING:ee==="Pre-Audit"?P.status===Xe.CLOSED&&[He.MISSING,He.OPEN].includes(P.voucherStatus):ee==="Submitted"?P.voucherStatus===He.SUBMITTED:ee==="Paid"?P.voucherStatus===He.PAID:ee==="Intend Not to Bill"?P.voucherStatus===He.INTEND_NOT_TO_BILL:!0);if(ee==="Paid"&&(Ve&&(x=x.filter(P=>P.attorneyName===Ve)),Te!=="All")){const P=new Date;x=x.filter(X=>{if(!X.datePaid)return!1;const Ee=new Date(X.datePaid),z=(P.getTime()-Ee.getTime())/(1e3*3600*24);return Te==="Weekly"?z<=7:Te==="Monthly"?z<=30:Te==="Quarterly"?z<=90:Te==="Yearly"?z<=365:!0})}return x.sort((P,X)=>(P.defendantLastName||"").localeCompare(X.defendantLastName||""))},[n,ee,Ve,Te]),Rr=ne.useMemo(()=>En.reduce((x,P)=>x+(P.amountPaid||0),0),[En]),Ls=ne.useMemo(()=>n.filter(x=>x.voucherStatus===He.SUBMITTED).reduce((x,P)=>{const X=(P.activities||[]).reduce((Ee,z)=>Ee+(z.hours||0),0);return x+X*45},0),[n]),[An,Ln]=ne.useState({agency:"BRENT'S INVESTIGATIVE SERVICES",investigator:"Brent",hourlyRate:45}),[Mr,Ji]=ne.useState(!1),[Ot,ci]=ne.useState({code:"",label:"",defaultHours:0,defaultNarrative:""}),bo=()=>{const x=["Defendant","Case Number","Attorney","Opened","Status","Total Hours"],P=$i.map(he=>[`${he.defendantLastName}, ${he.defendantFirstName}`,he.caseNumber,he.attorneyName,he.dateOpened,he.status,(he.activities||[]).reduce((ue,Tt)=>ue+Tt.hours,0).toFixed(1)]),X="data:text/csv;charset=utf-8,"+x.join(",")+"\\n"+P.map(he=>he.join(",")).join("\\n"),Ee=encodeURI(X),z=document.createElement("a");z.setAttribute("href",Ee),z.setAttribute("download",`Master_Registry_${pt}.csv`),document.body.appendChild(z),z.click()},xo=()=>{const x=["Defendant","Directive","Due Date","Priority","Completed"],P=C.map(he=>[he.defendantName,he.taskDescription,he.dueDate,he.priority,he.completed?"Yes":"No"]),X="data:text/csv;charset=utf-8,"+x.join(",")+"\\n"+P.map(he=>he.join(",")).join("\\n"),Ee=encodeURI(X),z=document.createElement("a");z.setAttribute("href",Ee),z.setAttribute("download",`Task_Feed_${pt}.csv`),document.body.appendChild(z),z.click()};return E.createElement("div",{className:"flex h-screen w-screen bg-[#F8FAFC] overflow-hidden text-slate-900 font-sans relative"},E.createElement("aside",{className:"w-64 bg-slate-900 text-white flex flex-col h-full fixed top-0 left-0 z-[100] shadow-2xl"},E.createElement("div",{className:"p-8 border-b border-slate-800 flex flex-col items-center gap-4"},E.createElement("div",{className:"w-14 h-14 bg-indigo-600 rounded-2xl flex items-center justify-center font-black text-2xl border border-indigo-400"},"PRO"),E.createElement("h2",{className:"font-black text-[10px] uppercase tracking-widest text-slate-100"},"Mission Intelligence")),E.createElement("nav",{className:"flex-1 p-5 space-y-1.5 mt-4"},[{id:"dashboard",icon:RS,label:"Mission Control"},{id:"intake",icon:Bm,label:"Intake Folder"},{id:"cases",icon:qm,label:"Case Files"},{id:"global_tasks",icon:bs,label:"Investigative Tasks"},{id:"daily_logs",icon:W_,label:"Workload Log"},{id:"reports",icon:$c,label:"Report Hub"},{id:"vouchers",icon:Om,label:"Voucher Hub"},{id:"core",icon:Fm,label:"System Settings"}].map(x=>E.createElement("button",{key:x.id,onClick:()=>Q(x.id),className:`w-full flex items-center gap-4 px-5 py-3.5 rounded-xl font-black text-[9px] uppercase tracking-widest transition-all ${H===x.id?"bg-indigo-600 text-white shadow-xl":"text-slate-500 hover:text-white hover:bg-white/5"}`},E.createElement(x.icon,{size:16})," ",x.label))),E.createElement("div",{className:"p-5 border-t border-slate-800 space-y-1.5"},E.createElement("button",{className:"w-full flex items-center gap-4 px-5 py-3.5 rounded-xl font-black text-[9px] uppercase tracking-widest text-slate-400 hover:text-white hover:bg-white/5 transition-all",onClick:()=>g(!0)},"My Profile"),E.createElement("button",{onClick:()=>At.auth.signOut(),className:"w-full flex items-center gap-4 px-5 py-3.5 rounded-xl font-black text-[9px] uppercase tracking-widest text-slate-400 hover:text-white hover:bg-white/5 transition-all"},E.createElement(DS,{size:16}),"Log out"))),E.createElement("main",{className:"flex-1 ml-64 overflow-y-auto bg-slate-50/50 min-h-screen flex flex-col"},E.createElement("div",{className:"sticky top-0 z-[50] bg-[#F8FAFC]/95 backdrop-blur-xl border-b p-8 pb-8 shadow-sm"},E.createElement("header",{className:"flex justify-between items-center mb-10"},E.createElement("div",null,E.createElement("h1",{className:"text-3xl font-black uppercase tracking-tight text-slate-900 leading-none"},"Intelligence Command"),E.createElement("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mt-2 italic flex items-center gap-3"},"Golden State Protocol: Active",tt&&E.createElement("span",{className:"flex items-center gap-2 text-indigo-400 normal-case not-italic ml-4 border-l border-slate-200 pl-4"},E.createElement(QS,{size:14,className:"animate-pulse"}),"LAST SIGNAL SYNC: ",tt.toLocaleTimeString()))),E.createElement("div",{className:"flex items-center gap-3"},E.createElement("button",{onClick:Vi,className:"flex items-center gap-2 px-6 py-3 bg-white border text-slate-900 rounded-xl font-black text-[10px] uppercase hover:bg-slate-900 hover:text-white transition-all shadow-sm"},E.createElement(zS,{size:14,className:Y?"animate-spin":""})," Sync Cloud"))),E.createElement("div",{className:"grid grid-cols-4 gap-6"},E.createElement(or,{label:"Active Matters",value:Ie.activeCount,icon:Y_,color:"indigo",subValue:"Open Cases",onClick:()=>{Q("cases"),me(""),R("Active")}}),E.createElement(or,{label:"Critical Phase",value:Ie.urgentTrials.length,icon:zm,color:"orange",subValue:"Next 30 Days",onClick:()=>{Q("cases"),me(""),R("Active")}}),E.createElement(or,{label:"Cold Starts",value:Ie.coldStarts.length,icon:$m,color:"rose",subValue:"14+ Days NEW",onClick:()=>{Q("cases"),me(""),R("Active")}}),E.createElement(or,{label:"Stagnant Risk",value:Ie.stagnantRisk.length,icon:cT,color:"amber",subValue:"45+ Day Idle",onClick:()=>{Q("cases"),me(""),R("Active")}}))),E.createElement("div",{className:"p-10 flex-1 pt-6"},H==="dashboard"&&E.createElement("div",{className:"animate-in fade-in space-y-10 max-w-[1700px] mx-auto pb-20"},E.createElement("div",{className:"space-y-6"},E.createElement("div",{className:"grid grid-cols-2 gap-8"},E.createElement("div",{onClick:()=>{Q("vouchers"),re("Paid")},className:"p-4 px-6 rounded-[28px] border border-emerald-200 bg-white flex items-center gap-6 shadow-sm cursor-pointer hover:border-emerald-500 hover:shadow-md transition-all active:scale-95 group"},E.createElement("div",{className:"p-3 bg-emerald-600 text-white rounded-2xl shadow-lg group-hover:scale-105 transition-transform"},E.createElement(Jm,{size:20})),E.createElement("div",null,E.createElement("p",{className:"text-[10px] font-black uppercase text-emerald-600 tracking-widest"},"Revenue Secured"),E.createElement("p",{className:"text-2xl font-black text-slate-900 mt-0.5"},"$",Ie.totalSettlement.toLocaleString()))),E.createElement("div",{onClick:()=>{Q("vouchers"),re("Submitted")},className:"p-4 px-6 rounded-[28px] border border-indigo-100 bg-white flex items-center gap-6 shadow-sm cursor-pointer hover:border-indigo-500 hover:shadow-md transition-all active:scale-95 group"},E.createElement("div",{className:"p-3 bg-indigo-600 text-white rounded-2xl shadow-lg group-hover:scale-105 transition-transform"},E.createElement(Vm,{size:20})),E.createElement("div",null,E.createElement("p",{className:"text-[10px] font-black uppercase text-indigo-600 tracking-widest"},"Pipeline (Pending)"),E.createElement("p",{className:"text-2xl font-black text-slate-900 mt-0.5"},"$",Ie.pendingRevenue.toLocaleString())))),E.createElement("div",{className:"grid grid-cols-4 gap-6"},[{label:"Missing",count:Ie.counts.Missing,color:"rose",icon:dS,view:"Missing"},{label:"Pre-Audit",count:Ie.counts["Pre-Audit"],color:"amber",icon:sS,view:"Pre-Audit"},{label:"Submitted",count:Ie.counts.Submitted,color:"blue",icon:JS,view:"Submitted"},{label:"Settled",count:Ie.counts.Paid,color:"emerald",icon:V_,view:"Paid"}].map(x=>{const X={rose:{text:"text-rose-600",bg:"bg-rose-50",border:"border-rose-100",hover:"hover:border-rose-400"},amber:{text:"text-amber-600",bg:"bg-amber-50",border:"border-amber-100",hover:"hover:border-amber-400"},blue:{text:"text-blue-600",bg:"bg-blue-50",border:"border-blue-100",hover:"hover:border-blue-400"},emerald:{text:"text-emerald-600",bg:"bg-emerald-50",border:"border-emerald-100",hover:"hover:border-emerald-400"}}[x.color];return E.createElement("button",{key:x.label,onClick:()=>{Q("vouchers"),re(x.view)},className:`p-5 bg-white border ${X.border} ${X.hover} rounded-[28px] shadow-sm transition-all group flex items-center justify-between active:scale-95`},E.createElement("div",{className:"flex items-center gap-4"},E.createElement("div",{className:`p-2.5 ${X.bg} ${X.text} rounded-xl group-hover:scale-110 transition-transform`},E.createElement(x.icon,{size:18})),E.createElement("span",{className:"text-[10px] font-black uppercase text-slate-400 tracking-widest group-hover:text-slate-900 transition-colors"},x.label)),E.createElement("span",{className:`text-xl font-black ${X.text}`},x.count))}))),E.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10 h-[calc(100vh-520px)]"},E.createElement("div",{className:"space-y-6 flex flex-col min-h-0"},E.createElement("h3",{className:"text-[10px] font-black text-slate-900 uppercase tracking-[0.2em] px-2 flex items-center gap-3 shrink-0"},E.createElement($m,{size:16,className:"text-rose-600"})," Risk Indicators"),E.createElement("div",{className:"flex-1 overflow-y-auto pr-2 custom-scrollbar space-y-4 pb-10"},Ie.highDutyDays.length>0&&Ie.highDutyDays.map(x=>E.createElement("div",{key:x.date,className:"p-6 bg-rose-600 text-white rounded-[32px] flex items-center justify-between shadow-xl border-4 border-white/20 animate-pulse shrink-0"},E.createElement("div",{className:"flex flex-col"},E.createElement("span",{className:"text-[11px] font-black uppercase tracking-widest leading-none"},"Capacity Warning"),E.createElement("span",{className:"text-[8px] font-bold text-white/70 uppercase mt-1"},"Global Duty Exceeds 12h Protocol")),E.createElement("div",{className:"flex flex-col items-end"},E.createElement("span",{className:"text-xl font-black leading-none"},x.total.toFixed(1)," ",E.createElement("span",{className:"text-[10px]"},"H")),E.createElement("span",{className:"text-[9px] font-bold uppercase mt-1"},gn(x.date))))),E.createElement("div",{className:"space-y-3"},E.createElement("button",{onClick:()=>ye("evidence"),className:"w-full flex items-center justify-between group px-2 py-1 border-b border-orange-100 hover:bg-orange-50 transition-all"},E.createElement("p",{className:"text-[9px] font-black text-orange-600 uppercase tracking-widest flex items-center gap-2"},"Evidence Alert ",E.createElement("span",{className:"bg-orange-100 text-orange-700 px-1.5 py-0.5 rounded-full text-[7px]"},"[",Ie.evidenceAlerts.length,"]")),E.createElement(gs,{size:14,className:`text-orange-400 transition-transform duration-300 ${$.evidence?"-rotate-90":""}`})),!$.evidence&&E.createElement("div",{className:"space-y-3 animate-in fade-in slide-in-from-top-2"},Ie.evidenceAlerts.length===0?E.createElement("p",{className:"text-[8px] italic text-slate-400 px-4"},"No active evidence alerts."):Ie.evidenceAlerts.map(x=>E.createElement("div",{key:x.id,onClick:()=>q(x.caseId),className:"p-5 bg-white border border-orange-100 rounded-[32px] flex items-center justify-between group cursor-pointer hover:border-orange-400 transition-all shadow-sm shrink-0"},E.createElement("div",{className:"flex flex-col min-w-0 pr-4"},E.createElement("p",{className:"text-[11px] font-black text-slate-900 uppercase truncate leading-none mb-1"},x.defendantName),E.createElement("p",{className:"text-[8px] font-bold text-slate-400 uppercase leading-none"},"Atty: ",x.attorneyName||"N/A")),E.createElement("div",{className:"flex flex-col items-end shrink-0 text-right text-orange-600"},E.createElement("span",{className:"text-[11px] font-black leading-none"},gn(x.dateRequested)),E.createElement("span",{className:"text-[8px] font-bold uppercase text-slate-400 mt-1 leading-none"},"Requested")))))),E.createElement("div",{className:"space-y-3"},E.createElement("button",{onClick:()=>ye("overdue"),className:"w-full flex items-center justify-between group px-2 py-1 border-b border-blue-100 hover:bg-blue-50 transition-all"},E.createElement("p",{className:"text-[9px] font-black text-blue-900 uppercase tracking-widest flex items-center gap-2"},"Overdue Court Days ",E.createElement("span",{className:"bg-blue-100 text-blue-700 px-1.5 py-0.5 rounded-full text-[7px]"},"[",Ie.overdueCourts.length,"]")),E.createElement(gs,{size:14,className:`text-blue-400 transition-transform duration-300 ${$.overdue?"-rotate-90":""}`})),!$.overdue&&E.createElement("div",{className:"space-y-3 animate-in fade-in slide-in-from-top-2"},Ie.overdueCourts.length===0?E.createElement("p",{className:"text-[8px] italic text-slate-400 px-4"},"No overdue court dates."):Ie.overdueCourts.map(x=>E.createElement("div",{key:x.id,onClick:()=>q(x.id),className:"p-5 bg-blue-50/50 border border-blue-100 rounded-[32px] flex items-center justify-between group cursor-pointer hover:border-blue-900 transition-all shadow-sm shrink-0"},E.createElement("div",{className:"flex flex-col min-w-0 pr-4"},E.createElement("p",{className:"text-[11px] font-black text-slate-900 uppercase truncate leading-none mb-1"},x.defendantLastName,", ",x.defendantFirstName),E.createElement("p",{className:"text-[8px] font-bold text-slate-400 uppercase leading-none"},"Atty: ",x.attorneyName)),E.createElement("div",{className:"flex flex-col items-end shrink-0 text-right text-blue-900"},E.createElement("span",{className:"text-[11px] font-black leading-none"},gn(x.nextCourtDate)),E.createElement("span",{className:"text-[8px] font-bold uppercase text-slate-400 mt-1 leading-none"},"Was Due")))))),E.createElement("div",{className:"space-y-3"},E.createElement("button",{onClick:()=>ye("urgent"),className:"w-full flex items-center justify-between group px-2 py-1 border-b border-indigo-100 hover:bg-indigo-50 transition-all"},E.createElement("p",{className:"text-[9px] font-black text-indigo-600 uppercase tracking-widest flex items-center gap-2"},"Urgent Pre-Trial ",E.createElement("span",{className:"bg-indigo-100 text-indigo-700 px-1.5 py-0.5 rounded-full text-[7px]"},"[",Ie.urgentTrials.length,"]")),E.createElement(gs,{size:14,className:`text-indigo-400 transition-transform duration-300 ${$.urgent?"-rotate-90":""}`})),!$.urgent&&E.createElement("div",{className:"space-y-3 animate-in fade-in slide-in-from-top-2"},Ie.urgentTrials.length===0?E.createElement("p",{className:"text-[8px] italic text-slate-400 px-4"},"No urgent pre-trial alerts."):Ie.urgentTrials.map(x=>E.createElement("div",{key:x.id,onClick:()=>q(x.id),className:"p-5 bg-white border border-slate-100 rounded-[32px] flex items-center justify-between group cursor-pointer hover:border-indigo-600 transition-all shadow-sm shrink-0"},E.createElement("div",{className:"flex flex-col min-w-0 pr-4"},E.createElement("p",{className:"text-[11px] font-black text-slate-900 uppercase truncate leading-none mb-1"},x.defendantLastName,", ",x.defendantFirstName),E.createElement("p",{className:"text-[8px] font-bold text-slate-400 uppercase leading-none"},"Atty: ",x.attorneyName)),E.createElement("div",{className:"flex flex-col items-end shrink-0 text-right text-indigo-600"},E.createElement("span",{className:"text-[11px] font-black leading-none"},gn(x.nextCourtDate)),E.createElement("span",{className:"text-[8px] font-bold uppercase text-slate-400 mt-1 leading-none"},x.nextEventDescription||"Phase TBD")))))),E.createElement("div",{className:"space-y-3"},E.createElement("button",{onClick:()=>ye("cold"),className:"w-full flex items-center justify-between group px-2 py-1 border-b border-indigo-50 hover:bg-indigo-50/50 transition-all"},E.createElement("p",{className:"text-[9px] font-black text-indigo-300 uppercase tracking-widest flex items-center gap-2"},"Cold Start Registry ",E.createElement("span",{className:"bg-indigo-100 text-indigo-600 px-1.5 py-0.5 rounded-full text-[7px]"},"[",Ie.coldStarts.length,"]")),E.createElement(gs,{size:14,className:`text-indigo-400 transition-transform duration-300 ${$.cold?"-rotate-90":""}`})),!$.cold&&E.createElement("div",{className:"space-y-3 animate-in fade-in slide-in-from-top-2"},Ie.coldStarts.length===0?E.createElement("p",{className:"text-[8px] italic text-slate-400 px-4"},"No cold starts detected."):Ie.coldStarts.map(x=>E.createElement("div",{key:x.id,onClick:()=>q(x.id),className:"p-5 bg-indigo-50/30 border border-indigo-100 rounded-[32px] flex items-center justify-between group cursor-pointer hover:border-indigo-400 transition-all shadow-sm shrink-0"},E.createElement("div",{className:"flex flex-col min-w-0 pr-4"},E.createElement("p",{className:"text-[11px] font-black text-slate-900 uppercase truncate leading-none mb-1"},x.defendantLastName,", ",x.defendantFirstName),E.createElement("p",{className:"text-[8px] font-bold text-slate-400 uppercase leading-none"},"Atty: ",x.attorneyName)),E.createElement("div",{className:"flex flex-col items-end shrink-0 text-right text-indigo-400"},E.createElement("span",{className:"text-[11px] font-black leading-none"},x.daysSinceNew," Days"),E.createElement("span",{className:"text-[8px] font-bold uppercase text-slate-400 mt-1 leading-none"},"since NEW")))))),E.createElement("div",{className:"space-y-3"},E.createElement("button",{onClick:()=>ye("stagnant"),className:"w-full flex items-center justify-between group px-2 py-1 border-b border-amber-100 hover:bg-amber-50 transition-all"},E.createElement("p",{className:"text-[9px] font-black text-amber-600 uppercase tracking-widest flex items-center gap-2"},"Stagnant Cases ",E.createElement("span",{className:"bg-amber-100 text-amber-700 px-1.5 py-0.5 rounded-full text-[7px]"},"[",Ie.stagnantRisk.length,"]")),E.createElement(gs,{size:14,className:`text-amber-400 transition-transform duration-300 ${$.stagnant?"-rotate-90":""}`})),!$.stagnant&&E.createElement("div",{className:"space-y-3 animate-in fade-in slide-in-from-top-2"},Ie.stagnantRisk.length===0?E.createElement("p",{className:"text-[8px] italic text-slate-400 px-4"},"No stagnant cases."):Ie.stagnantRisk.map(x=>E.createElement("div",{key:x.id,onClick:()=>q(x.id),className:"p-5 bg-white border border-slate-100 rounded-[32px] flex items-center justify-between group cursor-pointer hover:border-amber-500 transition-all shadow-sm shrink-0"},E.createElement("div",{className:"flex flex-col min-w-0 pr-4"},E.createElement("p",{className:"text-[11px] font-black text-slate-900 uppercase truncate leading-none mb-1"},x.defendantLastName,", ",x.defendantFirstName),E.createElement("p",{className:"text-[8px] font-bold text-slate-400 uppercase leading-none"},"Atty: ",x.attorneyName)),E.createElement("div",{className:"flex flex-col items-end shrink-0 text-right text-amber-600"},E.createElement("span",{className:"text-[11px] font-black leading-none"},x.stagnantDays," Days"),E.createElement("span",{className:"text-[8px] font-bold uppercase text-slate-400 mt-1 leading-none"},"Idle Time")))))))),E.createElement("div",{className:"space-y-6 flex flex-col min-h-0"},E.createElement("h3",{className:"text-[10px] font-black text-slate-900 uppercase tracking-[0.2em] px-2 flex items-center gap-3 shrink-0"},E.createElement(bs,{size:16,className:"text-indigo-600"})," Tactical Feed"),E.createElement("div",{className:"flex-1 overflow-y-auto pr-2 custom-scrollbar space-y-4 pb-10"},ui.filter(x=>!x.completed).map(x=>E.createElement("div",{key:x.id,className:"p-6 bg-white border border-slate-100 rounded-[32px] shadow-sm flex items-center justify-between hover:border-indigo-200 transition-all cursor-pointer group",onClick:()=>q(x.caseId)},E.createElement("div",{className:"flex-1 min-w-0 pr-4"},E.createElement("p",{className:"text-[11px] font-black text-slate-900 uppercase leading-tight truncate mb-1"},x.defendantName),E.createElement("p",{className:"text-[10px] font-bold text-slate-500 leading-snug break-words line-clamp-2"},x.taskDescription)),E.createElement("div",{className:"flex flex-col items-end shrink-0 text-right gap-1"},E.createElement("span",{className:`text-[9px] font-black uppercase tracking-widest ${x.dueDate<pt?"text-blue-950":"text-indigo-600"}`},gn(x.dueDate)),E.createElement("span",{className:`px-2 py-0.5 rounded text-[7px] font-black uppercase tracking-tighter border ${x.priority==="Critical"?"bg-rose-50 text-rose-600 border-rose-100":"bg-slate-50 text-slate-500 border-slate-100"}`},x.priority)))))),E.createElement("div",{className:"space-y-6 flex flex-col min-h-0"},E.createElement("h3",{className:"text-[10px] font-black text-slate-900 uppercase tracking-[0.2em] px-2 flex items-center gap-3 shrink-0"},E.createElement(P_,{size:16,className:"text-emerald-600"})," Activity Feed"),E.createElement("div",{className:"flex-1 overflow-y-auto pr-2 custom-scrollbar space-y-4 pb-10"},Ie.sortedActivities.map(x=>E.createElement("div",{key:x.id,className:"p-6 bg-white border border-slate-100 rounded-[32px] shadow-sm flex items-center justify-between hover:border-emerald-200 transition-all cursor-pointer group",onClick:()=>q(x.caseId)},E.createElement("div",{className:"flex items-center gap-4 min-w-0"},E.createElement("span",{className:"px-2 py-0.5 bg-emerald-50 text-emerald-600 rounded-lg text-[7px] font-black uppercase tracking-widest shrink-0"},x.code),E.createElement("div",{className:"border-l-2 border-slate-50 pl-4 min-w-0 flex flex-col"},E.createElement("p",{className:"text-[10px] font-black text-slate-900 uppercase leading-none mb-1.5 truncate"},x.defendantName),E.createElement("p",{className:"text-[7px] font-bold text-slate-400 italic leading-snug truncate"},'"',x.description,'"'))),E.createElement("span",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest bg-slate-50 px-2 py-1 rounded-full group-hover:bg-emerald-50 transition-all shrink-0"},gn(x.date)))))))),H==="global_tasks"&&E.createElement("div",{className:"animate-in fade-in max-w-[1200px] mx-auto space-y-8 pb-20"},E.createElement("header",{className:"flex justify-between items-center bg-white p-10 rounded-[48px] border border-slate-100 shadow-sm"},E.createElement("div",null,E.createElement("h1",{className:"text-3xl font-black uppercase tracking-tight text-slate-900 flex items-center gap-4"},E.createElement(bs,{size:32,className:"text-indigo-600"})," Investigative Tasks"),E.createElement("p",{className:"text-[10px] font-black text-slate-400 uppercase mt-2 tracking-widest italic"},"Mission Critical Directives")),E.createElement("div",{className:"flex gap-4"},E.createElement("div",{className:"flex bg-slate-100 p-1.5 rounded-2xl shadow-inner"},["Active","Completed"].map(x=>E.createElement("button",{key:x,onClick:()=>xr(x),className:`px-8 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest transition-all flex items-center gap-2 ${Hi===x?"bg-white text-indigo-600 shadow-md":"text-slate-500"}`},x," ",E.createElement("span",{className:`px-2 py-0.5 rounded-md text-[8px] ${Hi===x?"bg-indigo-600 text-white":"bg-slate-200 text-slate-500"}`},Ta[x])))),E.createElement("button",{onClick:()=>{zi(!0),li(null),Dn({defendantName:"",taskDescription:"",dueDate:pt,priority:"Medium",caseId:""})},className:"px-10 py-4 bg-slate-900 text-white rounded-2xl font-black uppercase text-[10px] tracking-widest hover:bg-indigo-600 transition-all shadow-xl active:scale-95 flex items-center gap-3"},E.createElement(Jc,{size:20})," New Task"))),(ks||si)&&E.createElement("div",{className:"bg-white border-4 border-indigo-600/20 rounded-[48px] p-12 shadow-2xl animate-in slide-in-from-top-4 duration-300"},E.createElement("div",{className:"flex justify-between items-center mb-8"},E.createElement("h2",{className:"text-xl font-black uppercase tracking-tight flex items-center gap-3"},si?"Revise Task":"New Strategic Task"),E.createElement("button",{onClick:()=>{zi(!1),li(null)},className:"p-3 hover:bg-slate-100 rounded-xl transition-all"},E.createElement(td,{size:24}))),E.createElement("div",{className:"grid grid-cols-12 gap-8 items-end"},E.createElement("div",{className:"col-span-4 space-y-2"},E.createElement("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest"},"Defendant"),E.createElement("input",{value:St.defendantName,onChange:x=>Dn({...St,defendantName:x.target.value}),className:"w-full p-4 bg-slate-50 border-2 border-slate-100 rounded-2xl text-[11px] font-black uppercase outline-none focus:border-indigo-600 transition-all",placeholder:"Enter name..."})),E.createElement("div",{className:"col-span-8 space-y-2"},E.createElement("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest"},"Directive"),E.createElement("input",{value:St.taskDescription,onChange:x=>Dn({...St,taskDescription:x.target.value}),className:"w-full p-4 bg-slate-50 border-2 border-slate-100 rounded-2xl text-[11px] font-bold outline-none focus:border-indigo-600 transition-all",placeholder:"Describe directive..."})),E.createElement("div",{className:"col-span-3 space-y-2"},E.createElement("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest"},"Deadline"),E.createElement("input",{type:"date",value:St.dueDate,onChange:x=>Dn({...St,dueDate:x.target.value}),className:"w-full p-4 bg-slate-50 border-2 border-slate-100 rounded-2xl text-[11px] font-bold outline-none focus:border-indigo-600 transition-all"})),E.createElement("div",{className:"col-span-3 space-y-2"},E.createElement("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest"},"Priority"),E.createElement("select",{value:St.priority,onChange:x=>Dn({...St,priority:x.target.value}),className:"w-full p-4 bg-slate-50 border-2 border-slate-100 rounded-2xl text-[11px] font-black uppercase outline-none focus:border-indigo-600 transition-all"},["Low","Medium","High","Critical"].map(x=>E.createElement("option",{key:x,value:x},x)))),E.createElement("div",{className:"col-span-6 flex gap-3"},E.createElement("button",{onClick:async()=>{if(!St.defendantName||!St.taskDescription)return;const x={id:si||crypto.randomUUID(),taskDate:pt,defendantName:St.defendantName,taskDescription:St.taskDescription,dueDate:St.dueDate,priority:St.priority,completed:!1,caseId:St.caseId};await nn(x),zi(!1),li(null),Dn({defendantName:"",taskDescription:"",dueDate:pt,priority:"Medium",caseId:""})},className:"flex-1 py-4 bg-slate-900 text-white rounded-2xl font-black uppercase text-[10px] tracking-widest shadow-xl hover:bg-indigo-600 transition-all active:scale-95 flex items-center justify-center gap-3"},si?"Commit":"Initialize")))),E.createElement("div",{className:"space-y-6"},ui.filter(x=>Hi==="Active"?!x.completed:x.completed).map(x=>E.createElement("div",{key:x.id,className:"p-8 bg-white border border-slate-100 rounded-[48px] shadow-sm flex items-center justify-between group transition-all cursor-pointer hover:border-indigo-200",onClick:()=>x.caseId&&q(x.caseId)},E.createElement("div",{className:"flex items-center gap-10 flex-1"},E.createElement("button",{onClick:P=>{P.stopPropagation(),nn({...x,completed:!x.completed})},className:`w-12 h-12 rounded-[20px] flex items-center justify-center transition-all border-4 ${x.completed?"bg-emerald-500 border-emerald-500 text-white":"border-slate-100 hover:border-indigo-600 text-transparent"}`},E.createElement(Z0,{size:24})),E.createElement("div",{className:"flex-1"},E.createElement("p",{className:`text-[15px] font-black uppercase tracking-tight ${x.completed?"text-slate-300":"text-slate-900"}`},x.defendantName),E.createElement("p",{className:`text-[12px] font-medium leading-relaxed ${x.completed?"text-slate-200":"text-slate-500"}`},x.taskDescription))),E.createElement("div",{className:"flex items-center gap-10"},E.createElement("div",{className:"text-right flex flex-col items-end"},E.createElement("p",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest mb-1"},"Due Date"),E.createElement("div",{className:"flex flex-col items-end"},E.createElement("p",{className:`text-[12px] font-bold ${!x.completed&&x.dueDate<pt?"text-rose-500":"text-slate-700"}`},gn(x.dueDate)),!x.completed&&x.dueDate<pt&&E.createElement("span",{className:"text-[9px] font-black text-blue-950 uppercase tracking-tight mt-0.5"},"OVERDUE"))),E.createElement("span",{className:`px-5 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest border-2 ${x.priority==="Critical"?"bg-rose-50 text-rose-600 border-rose-100":"bg-slate-50 text-slate-500"}`},x.priority),E.createElement("button",{onClick:P=>{P.stopPropagation(),li(x.id),Dn({defendantName:x.defendantName,taskDescription:x.taskDescription,dueDate:x.dueDate,priority:x.priority,caseId:x.caseId})},className:"p-3 text-slate-300 hover:text-indigo-600 transition-all opacity-0 group-hover:opacity-100"},E.createElement(OS,{size:18}))))))),H==="intake"&&E.createElement("div",{className:"animate-in fade-in max-w-5xl mx-auto space-y-10 pb-20"},E.createElement("header",{className:"flex justify-between items-center"},E.createElement("h1",{className:"text-3xl font-black uppercase tracking-tight text-slate-900 flex items-center gap-4"},E.createElement(Bm,{size:32,className:"text-indigo-600"})," Intake Folder")),E.createElement("div",{className:"bg-white rounded-[48px] border-4 border-dashed border-slate-100 shadow-2xl p-16 space-y-10 text-center"},E.createElement("div",{className:"flex flex-col items-center gap-6"},E.createElement("div",{className:"w-24 h-24 bg-indigo-600 rounded-[32px] flex items-center justify-center text-white shadow-xl animate-pulse"},E.createElement(Yc,{size:40})),E.createElement("div",null,E.createElement("h2",{className:"text-2xl font-black uppercase tracking-tight"},"AI Intake Dropzone"),E.createElement("p",{className:"text-xs font-bold text-slate-400 mt-2 uppercase tracking-widest"},"Paste assignment email or raw case text"))),E.createElement("textarea",{value:oe,onChange:x=>ge(x.target.value),className:"w-full h-96 p-10 bg-slate-50 border border-slate-200 rounded-[40px] outline-none focus:border-indigo-600 focus:bg-white transition-all font-medium text-sm leading-relaxed shadow-inner",placeholder:"Drop investigation request text here..."}),E.createElement("button",{onClick:Ar,disabled:xe||!oe,className:"w-full py-6 bg-slate-900 text-white rounded-[32px] font-black uppercase text-xs tracking-[0.2em] flex items-center justify-center gap-4 hover:bg-indigo-600 transition-all shadow-xl active:scale-95 disabled:opacity-50"},xe?E.createElement(ws,{size:24,className:"animate-spin"}):E.createElement(Hm,{size:24})," Initialize Intel Logic"))),H==="daily_logs"&&E.createElement("div",{className:"animate-in fade-in max-w-[1600px] mx-auto space-y-8 pb-20 flex gap-10 h-[calc(100vh-250px)]"},E.createElement("div",{className:"flex-1 bg-white border rounded-[48px] shadow-sm p-10 flex flex-col min-w-0"},E.createElement("header",{className:"flex justify-between items-center mb-10 shrink-0"},E.createElement("h3",{className:"text-2xl font-black text-slate-900 uppercase tracking-tight flex items-center gap-4"},E.createElement(vS,{size:32,className:"text-indigo-600"})," Neural Heatmap"),E.createElement("div",{className:"flex items-center gap-6 bg-slate-100 p-2 rounded-2xl"},E.createElement("button",{onClick:()=>Bi(-1),className:"p-3 hover:bg-white rounded-xl transition-all shadow-sm"},E.createElement(nS,{size:20})),E.createElement("span",{className:"text-[11px] font-black uppercase px-6 min-w-[160px] text-center tracking-widest"},mt.toLocaleString("default",{month:"long",year:"numeric"})),E.createElement("button",{onClick:()=>Bi(1),className:"p-3 hover:bg-white rounded-xl transition-all shadow-sm"},E.createElement(aS,{size:20})))),E.createElement("div",{className:"grid grid-cols-7 gap-px bg-slate-100 border border-slate-100 rounded-[32px] overflow-y-auto custom-scrollbar flex-1 shadow-inner"},["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(x=>E.createElement("div",{key:x,className:"bg-slate-50 p-6 text-center text-[10px] font-black text-slate-400 uppercase border-b sticky top-0 z-20"},x)),Array.from({length:qi[0].getDay()}).map((x,P)=>E.createElement("div",{key:`empty-${P}`,className:"bg-white/30 min-h-[160px]"})),qi.map(x=>{var he;const P=x.toLocaleDateString("en-CA"),X=((he=ri[P])==null?void 0:he.total)||0,Ee=P===pt,z=X>12;return E.createElement("div",{key:P,onClick:()=>Ds(P),className:`bg-white min-h-[160px] p-4 border border-slate-50 transition-all cursor-pointer relative group ${Sa===P?"ring-4 ring-indigo-600 ring-inset z-10":"hover:bg-slate-50"}`},E.createElement("span",{className:`text-sm font-black ${Ee?"text-indigo-600 underline decoration-2":"text-slate-400"}`},x.getDate()),X>0&&E.createElement("div",{className:`mt-2 p-2 rounded-xl text-center shadow-sm ${z?"bg-rose-600 text-white":X>6?"bg-indigo-600 text-white":"bg-indigo-50 text-indigo-600"}`},E.createElement("p",{className:"text-[9px] font-black tracking-widest whitespace-nowrap"},X.toFixed(1)," HRS")))})),E.createElement("div",{className:"mt-8 flex items-center justify-center gap-10 shrink-0 py-4 bg-slate-50 rounded-2xl border border-slate-100"},E.createElement("div",{className:"flex items-center gap-3"},E.createElement("div",{className:"w-4 h-4 bg-indigo-50 border border-indigo-200 rounded-md shadow-sm"}),E.createElement("span",{className:"text-[10px] font-black uppercase text-slate-500 tracking-widest"},"Normal Range")),E.createElement("div",{className:"flex items-center gap-3"},E.createElement("div",{className:"w-4 h-4 bg-indigo-600 rounded-md shadow-sm"}),E.createElement("span",{className:"text-[10px] font-black uppercase text-slate-500 tracking-widest"},"High Duty (6h+)")),E.createElement("div",{className:"flex items-center gap-3"},E.createElement("div",{className:"w-4 h-4 bg-rose-600 rounded-md shadow-sm"}),E.createElement("span",{className:"text-[10px] font-black uppercase text-rose-600 tracking-widest"},"Over Capacity (12h+)")))),E.createElement("div",{className:"w-[380px] bg-white/40 backdrop-blur-md rounded-[48px] border border-slate-100 flex flex-col shrink-0 overflow-hidden"},E.createElement("header",{className:"p-8 border-b border-slate-100 flex justify-between items-center bg-white/50"},E.createElement("div",{className:"min-w-0"},E.createElement("h3",{className:"text-[11px] font-black text-slate-900 uppercase tracking-widest truncate"},"Breakdown")),E.createElement("div",{className:"px-3 py-2 bg-indigo-50 text-indigo-600 rounded-xl font-black text-sm shrink-0"},(((Co=ri[Sa||""])==null?void 0:Co.total)||0).toFixed(1)," ",E.createElement("span",{className:"text-[8px] uppercase"},"H"))),E.createElement("div",{className:"flex-1 overflow-y-auto p-6 custom-scrollbar space-y-5"},(((wo=ri[Sa||""])==null?void 0:wo.activities)||[]).map(x=>E.createElement("div",{key:x.id,onClick:()=>q(x.caseId),className:"p-6 bg-white border border-slate-100 rounded-[32px] shadow-sm hover:border-indigo-400 hover:shadow-md transition-all group cursor-pointer"},E.createElement("div",{className:"flex justify-between items-start mb-3"},E.createElement("div",{className:"flex flex-col gap-1 min-w-0"},E.createElement("span",{className:"text-[12px] font-black text-slate-900 uppercase tracking-tight truncate group-hover:text-indigo-600 transition-colors"},x.defendantName),E.createElement("div",{className:"flex items-center gap-2 mt-1"},E.createElement("span",{className:"px-1.5 py-0.5 bg-indigo-50 text-indigo-600 rounded text-[7px] font-black uppercase tracking-widest shrink-0"},x.code),E.createElement("span",{className:"text-[10px] font-black text-slate-400 tracking-tighter"},"[",x.hours.toFixed(1),"H]")))),E.createElement("p",{className:"text-[11px] font-medium text-slate-500 leading-relaxed italic line-clamp-4"},'"',x.description,'"')))))),H==="vouchers"&&E.createElement("div",{className:"animate-in fade-in max-w-[1600px] mx-auto space-y-10 pb-20"},E.createElement("header",{className:"flex flex-col gap-8 bg-white border rounded-[48px] p-12 shadow-sm"},E.createElement("div",{className:"flex items-center justify-between"},E.createElement("div",{className:"flex items-center gap-5"},E.createElement("div",{className:"p-4 bg-emerald-600 text-white rounded-3xl shadow-xl"},E.createElement(Om,{size:32})),E.createElement("div",null,E.createElement("h2",{className:"text-3xl font-black uppercase tracking-tight"},"Voucher Hub"),E.createElement("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest italic mt-1"},"Financial Operations Control"))),E.createElement("div",{className:"flex items-center gap-6"},E.createElement("div",{className:"p-6 bg-emerald-50 border border-emerald-100 rounded-[32px] flex items-center gap-6 shadow-sm"},E.createElement("div",{className:"p-3 bg-emerald-600 text-white rounded-2xl shadow-lg"},E.createElement(Jm,{size:20})),E.createElement("div",null,E.createElement("p",{className:"text-[10px] font-black uppercase text-emerald-600 tracking-widest"},"Revenue Secured"),E.createElement("p",{className:"text-2xl font-black text-slate-900"},"$",Rr.toLocaleString(void 0,{minimumFractionDigits:2})))),E.createElement("div",{className:"p-6 bg-indigo-50 border border-indigo-100 rounded-[32px] flex items-center gap-6 shadow-sm"},E.createElement("div",{className:"p-3 bg-indigo-600 text-white rounded-2xl shadow-lg"},E.createElement(Vm,{size:20})),E.createElement("div",null,E.createElement("p",{className:"text-[10px] font-black uppercase text-indigo-600 tracking-widest"},"Pipeline (Pending)"),E.createElement("p",{className:"text-2xl font-black text-slate-900"},"$",Ls.toLocaleString(void 0,{minimumFractionDigits:2})))))),E.createElement("div",{className:"flex items-center gap-2 p-1.5 bg-slate-100 rounded-[28px] shadow-inner overflow-x-auto no-scrollbar"},[{id:"Missing",label:"Missing",count:Ie.counts.Missing},{id:"Pre-Audit",label:"Pre-Audit",count:Ie.counts["Pre-Audit"]},{id:"Submitted",label:"Submitted",count:Ie.counts.Submitted},{id:"Paid",label:"Paid",count:Ie.counts.Paid},{id:"Intend Not to Bill",label:"Non-Billable",count:Ie.counts.IntendNotToBill}].map(x=>E.createElement("button",{key:x.id,onClick:()=>re(x.id),className:`px-8 py-4 rounded-[24px] text-[10px] font-black uppercase tracking-widest transition-all whitespace-nowrap flex items-center gap-3 ${ee===x.id?"bg-white text-indigo-600 shadow-md ring-1 ring-indigo-50":"text-slate-400 hover:text-slate-600"}`},x.label,E.createElement("span",{className:`px-2 py-0.5 rounded-full text-[8px] ${ee===x.id?"bg-indigo-600 text-white":"bg-slate-200 text-slate-500"}`},x.count)))),ee==="Paid"&&E.createElement("div",{className:"flex items-center justify-between px-4 animate-in slide-in-from-top-2"},E.createElement("div",{className:"flex items-center gap-6"},E.createElement("div",{className:"flex items-center gap-3 bg-slate-50 border border-slate-200 rounded-2xl px-5 py-2 group hover:border-indigo-600 transition-all"},E.createElement(j0,{size:16,className:"text-slate-400 group-hover:text-indigo-600"}),E.createElement("select",{value:Ve||"",onChange:x=>Be(x.target.value||null),className:"bg-transparent border-none text-[9px] font-black uppercase text-slate-600 outline-none pr-4 cursor-pointer"},E.createElement("option",{value:""},"All Counsel"),Us.map(x=>E.createElement("option",{key:x,value:x},x)))),E.createElement("div",{className:"flex items-center gap-3 bg-slate-50 border border-slate-200 rounded-2xl px-5 py-2 group hover:border-indigo-600 transition-all"},E.createElement(Gm,{size:16,className:"text-slate-400 group-hover:text-indigo-600"}),E.createElement("select",{value:Te,onChange:x=>Pe(x.target.value),className:"bg-transparent border-none text-[9px] font-black uppercase text-slate-600 outline-none pr-4 cursor-pointer"},["Weekly","Monthly","Quarterly","Yearly","All"].map(x=>E.createElement("option",{key:x,value:x},x))))),E.createElement("p",{className:"text-[10px] font-black text-slate-300 uppercase tracking-widest"},En.length," Matched Archives"))),E.createElement("div",{className:"bg-white border rounded-[64px] overflow-hidden shadow-2xl transition-all"},E.createElement("table",{className:"w-full text-left table-fixed border-separate border-spacing-0"},E.createElement("thead",{className:"bg-slate-900 text-white text-[10px] font-black uppercase tracking-widest"},E.createElement("tr",null,E.createElement("th",{className:"px-12 py-8 w-2/5 border-r border-white/5"},"Defendant / Case Number"),E.createElement("th",{className:"px-12 py-8 w-1/4 border-r border-white/5"},"Lead Attorney"),E.createElement("th",{className:"px-12 py-8 w-1/5 border-r border-white/5 text-center"},ee==="Paid"?"Amount Paid":"Voucher Status"),E.createElement("th",{className:"px-12 py-8 w-1/6 text-center"},"Audit Hours"))),E.createElement("tbody",{className:"divide-y divide-slate-100 text-[12px] text-slate-700"},En.length===0?E.createElement("tr",null,E.createElement("td",{colSpan:4,className:"px-12 py-24 text-center"},E.createElement("div",{className:"flex flex-col items-center gap-4 opacity-30"},E.createElement(hS,{size:64,strokeWidth:1}),E.createElement("p",{className:"text-lg font-black uppercase tracking-[0.2em] text-slate-400"},"Zero Entries Found")))):En.map(x=>{const P=(x.activities||[]).reduce((X,Ee)=>X+(Ee.hours||0),0);return E.createElement("tr",{key:x.id,className:"hover:bg-slate-50/80 transition-all cursor-pointer group",onClick:()=>q(x.id)},E.createElement("td",{className:"px-12 py-8"},E.createElement("div",{className:"flex flex-col"},E.createElement("span",{className:"font-black uppercase text-slate-900 text-sm tracking-tight"},x.defendantLastName,", ",x.defendantFirstName),E.createElement("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mt-1"},x.caseNumber||"REF-TBD"))),E.createElement("td",{className:"px-12 py-8"},E.createElement("span",{className:"px-4 py-1.5 bg-slate-100 rounded-xl text-[9px] font-black uppercase text-slate-500 group-hover:bg-white inline-block"},x.attorneyName||"Unassigned")),E.createElement("td",{className:"px-12 py-8 text-center"},ee==="Paid"?E.createElement("div",{className:"flex flex-col items-center"},E.createElement("span",{className:"text-sm font-black text-emerald-600"},"$",(x.amountPaid||0).toLocaleString(void 0,{minimumFractionDigits:2})),E.createElement("span",{className:"text-[8px] font-black text-slate-400 uppercase tracking-tighter mt-1"},"Settled: ",gn(x.datePaid))):E.createElement(xd,{status:x.voucherStatus})),E.createElement("td",{className:"px-12 py-8 text-center"},E.createElement("div",{className:"inline-flex items-center gap-3"},E.createElement("span",{className:"text-xs font-black text-slate-900"},P.toFixed(1)),E.createElement("span",{className:"text-[10px] font-bold text-slate-400 uppercase"},"H"))))}))))),H==="reports"&&E.createElement("div",{className:"animate-in fade-in max-w-[1600px] mx-auto space-y-12 pb-20"},E.createElement("header",{className:"flex justify-between items-center bg-white p-12 rounded-[48px] border border-slate-100 shadow-sm"},E.createElement("div",null,E.createElement("h1",{className:"text-4xl font-black uppercase tracking-tight text-slate-900 flex items-center gap-5"},E.createElement($c,{size:40,className:"text-indigo-600"})," Report Hub"),E.createElement("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest italic mt-1"},"Operational Intelligence Protocols"))),E.createElement("div",{className:"grid grid-cols-12 gap-10"},E.createElement("div",{className:"col-span-4 space-y-8"},E.createElement("div",{className:"bg-white border rounded-[32px] p-8 shadow-sm space-y-6"},E.createElement("p",{className:"text-[11px] font-black uppercase text-indigo-600 tracking-widest"},"Step 1: Select Intelligence Context"),E.createElement("select",{value:lt||"",onChange:x=>it(x.target.value||null),className:"w-full p-4 bg-slate-50 border rounded-2xl text-[11px] font-black uppercase outline-none focus:ring-2 focus:ring-indigo-600 transition-all"},E.createElement("option",{value:""},"GLOBAL (ALL ATTORNEYS)"),Us.map(x=>E.createElement("option",{key:x,value:x},x.toUpperCase())))),E.createElement("div",{className:"space-y-4"},E.createElement("p",{className:"text-[11px] font-black uppercase text-indigo-600 tracking-widest px-4"},"Step 2: Choose Strategy Protocol"),E.createElement("div",{className:"grid grid-cols-1 gap-4 max-h-[500px] overflow-y-auto pr-2 custom-scrollbar"},[{id:"weekly",label:"Weekly Status Report",icon:Gm,color:"indigo",desc:"Court dates, billing audit, and activity summary."},{id:"aged",label:"Aged Voucher Audit",icon:oT,color:"rose",desc:'Aging report for dossiers in "Missing" billing status (Focus 90+ days).'},{id:"aging",label:"Case Aging & Velocity",icon:CS,color:"blue",desc:"Analysis of dossier processing speed from intake to resolution."},{id:"stagnant",label:"Stagnant Advisory",icon:WS,color:"amber",desc:"Critical warning for dossiers with zero activity in 45+ days."},{id:"pretrial",label:"Pre-Trial Readiness",icon:iT,color:"emerald",desc:"Strategic preparation status for upcoming trial dates."},{id:"intel",label:"Global Intel Brief",icon:Yc,color:"indigo",desc:"AI-generated operational synthesis for management."}].map(x=>E.createElement("div",{key:x.id,onClick:()=>va(x.id),className:`p-6 bg-white border-2 rounded-[32px] shadow-sm hover:border-indigo-600 transition-all cursor-pointer group flex items-center gap-6 ${oi===x.id?"border-indigo-600 bg-indigo-50/10":"border-slate-100"}`},E.createElement("div",{className:"p-4 rounded-2xl bg-slate-50 text-slate-400 group-hover:text-indigo-600 transition-all shrink-0"},E.createElement(x.icon,{size:20})),E.createElement("div",null,E.createElement("h4",{className:"text-[11px] font-black uppercase tracking-widest text-slate-900"},x.label),E.createElement("p",{className:"text-[9px] font-medium text-slate-400 mt-1"},x.desc))))),E.createElement("button",{onClick:()=>Nr(oi),disabled:tn,className:"w-full py-6 bg-slate-900 text-white rounded-[32px] font-black uppercase text-xs tracking-[0.2em] hover:bg-indigo-600 transition-all shadow-xl active:scale-95 disabled:opacity-50 flex items-center justify-center gap-4"},tn?E.createElement(ws,{size:20,className:"animate-spin"}):E.createElement(Hm,{size:20})," Step 3: Initialize Synthesis"))),E.createElement("div",{className:"col-span-8"},E.createElement("div",{className:"bg-white border rounded-[64px] shadow-2xl p-16 h-full min-h-[850px] flex flex-col relative overflow-hidden"},tn&&E.createElement("div",{className:"absolute inset-0 bg-white/80 backdrop-blur-sm z-30 flex flex-col items-center justify-center text-center p-12"},E.createElement("div",{className:"w-32 h-32 bg-indigo-600 rounded-full flex items-center justify-center text-white shadow-2xl animate-bounce mb-8"},E.createElement(Yc,{size:48})),E.createElement("h3",{className:"text-2xl font-black uppercase tracking-widest text-slate-900"},"Synthesizing Intelligence"),E.createElement("p",{className:"text-xs font-bold text-slate-400 mt-4 uppercase tracking-[0.4em] animate-pulse"},"Consulting Secure Dossiers & Strategic Logic...")),ya?E.createElement("div",{className:"animate-in fade-in slide-in-from-bottom-4 flex flex-col h-full"},E.createElement("div",{className:"flex-1 overflow-y-auto custom-scrollbar prose prose-slate max-w-none"},E.createElement("div",{className:"whitespace-pre-wrap font-medium text-slate-600 leading-relaxed text-sm"},ya)),E.createElement("footer",{className:"mt-10 pt-8 border-t border-slate-50 flex justify-between items-center shrink-0 bg-white"},E.createElement("button",{onClick:()=>Ea(null),className:"text-[10px] font-black text-slate-400 uppercase tracking-widest hover:text-rose-600 transition-all"},"Discard Draft"),E.createElement("button",{onClick:()=>window.print(),className:"px-8 py-3 bg-slate-900 text-white rounded-xl text-[9px] font-black uppercase tracking-widest hover:bg-indigo-600 transition-all flex items-center gap-3"},E.createElement(Fc,{size:16})," Export PDF"))):!tn&&E.createElement("div",{className:"flex-1 flex flex-col items-center justify-center text-center opacity-30 animate-in fade-in"},E.createElement("div",{className:"p-10 bg-slate-50 rounded-full mb-8 text-slate-200"},E.createElement($_,{size:100,strokeWidth:1})),E.createElement("h2",{className:"text-2xl font-black uppercase tracking-[0.4em] text-slate-400"},"Analysis Engine Idle"),E.createElement("p",{className:"text-[10px] font-bold mt-4 uppercase tracking-widest text-slate-300 max-w-sm"},"Define context and choose a protocol to begin operational synthesis.")))))),H==="cases"&&E.createElement("div",{className:"animate-in fade-in max-w-[1600px] mx-auto space-y-8 pb-20"},E.createElement("div",{className:"sticky top-[180px] z-[60] bg-white p-6 rounded-[40px] border border-slate-100 shadow-xl flex flex-col gap-6"},E.createElement("div",{className:"flex items-center justify-between"},E.createElement("div",{className:"flex items-center gap-4"},E.createElement("div",{className:"p-3 bg-indigo-600 text-white rounded-2xl shadow-lg"},E.createElement(qm,{size:20})),E.createElement("div",{className:"hidden sm:block"},E.createElement("h1",{className:"text-xl font-black uppercase tracking-tight text-slate-900 leading-none"},"Master Registry"),E.createElement("p",{className:"text-[8px] font-black text-slate-400 uppercase tracking-widest mt-1"},"Strategic Index"))),E.createElement("div",{className:"flex items-center gap-3"},E.createElement("div",{className:"flex bg-slate-100 p-1 rounded-[16px] gap-0.5 shadow-inner"},[{id:"Active",icon:mT},{id:"Unscheduled",icon:lT},{id:"Archive",icon:G_}].map(x=>E.createElement("button",{key:x.id,onClick:()=>R(x.id),className:`px-4 py-1.5 rounded-[12px] text-[8px] font-black uppercase tracking-widest transition-all flex items-center gap-2 ${Ne===x.id?"bg-white text-indigo-600 shadow-sm ring-1 ring-indigo-50":"text-slate-400 hover:text-slate-600"}`},E.createElement(x.icon,{size:10}),x.id,E.createElement("span",{className:`px-1.5 py-0.5 rounded-md text-[7px] ${Ne===x.id?"bg-indigo-600 text-white":"bg-slate-200 text-slate-500"}`},Un[x.id])))),E.createElement("div",{className:"flex items-center gap-2 bg-slate-50 px-3 py-1.5 rounded-xl border border-slate-100 shadow-sm group hover:border-indigo-200 transition-all"},E.createElement(z_,{size:12,className:"text-slate-400"}),E.createElement("select",{value:B,onChange:x=>ie(x.target.value),className:"bg-transparent border-none text-[8px] font-black uppercase tracking-widest text-slate-600 outline-none cursor-pointer pr-3"},E.createElement("option",{value:"Defendant"},"By Defendant"),E.createElement("option",{value:"Court Date"},"By Court Date"),E.createElement("option",{value:"Attorney"},"By Attorney"),E.createElement("option",{value:"Date Opened"},"By Date Opened (Oldest)"))),E.createElement("button",{onClick:It,className:"px-6 py-2 bg-slate-900 text-white rounded-xl font-black uppercase text-[9px] tracking-widest flex items-center gap-2 hover:bg-indigo-600 transition-all shadow-lg active:scale-95 whitespace-nowrap"},E.createElement(Jc,{size:14})," New Matter"))),E.createElement("div",{className:"relative group"},E.createElement(FS,{size:16,className:"absolute left-5 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-indigo-600 transition-colors"}),E.createElement("input",{value:W,onChange:x=>me(x.target.value),placeholder:"Search Defendant Name (First or Last)...",className:"w-full pl-12 pr-6 py-3.5 bg-slate-50 border-2 border-slate-100 rounded-2xl text-[10px] font-black uppercase outline-none focus:border-indigo-600 focus:bg-white shadow-inner transition-all placeholder:text-slate-300"}))),E.createElement("div",{className:"bg-white rounded-[64px] border shadow-2xl overflow-hidden min-h-[700px] flex flex-col mb-20 transition-all"},E.createElement("div",{className:"flex-1 overflow-y-auto custom-scrollbar"},E.createElement("table",{className:"w-full text-left table-fixed border-separate border-spacing-0"},E.createElement("thead",{className:"bg-slate-900 text-white text-[10px] font-black uppercase tracking-widest sticky top-0 z-20 shadow-xl"},E.createElement("tr",null,E.createElement("th",{className:"px-12 py-10 w-1/3 border-r border-white/5"},"Defendant / Case #"),E.createElement("th",{className:"px-12 py-10 w-1/4 border-r border-white/5"},"Lead Attorney"),E.createElement("th",{className:"px-12 py-10 w-1/4 border-r border-white/5"},"Court Date / Event"),E.createElement("th",{className:"px-12 py-10 w-1/5 text-center"},"Effort / Voucher"))),E.createElement("tbody",{className:"divide-y divide-slate-100 text-[12px] text-slate-700"},$i.map(x=>{const P=["trial readiness","jury trial","non-jury trial","motion hearing"].some(he=>(x.nextEventDescription||"").toLowerCase().includes(he)),X=x.nextCourtDate&&P&&st(x.nextCourtDate)>=-30&&st(x.nextCourtDate)<=0,Ee=(x.activities||[]).length>0?[...x.activities].sort((he,ue)=>new Date(ue.date).getTime()-new Date(he.date).getTime())[0].date:x.dateOpened,z=st(Ee)>=45&&x.status!==Xe.CLOSED;return E.createElement("tr",{key:x.id,className:"hover:bg-indigo-50/40 transition-all cursor-pointer group",onClick:()=>q(x.id)},E.createElement("td",{className:"px-12 py-10"},E.createElement("div",{className:"flex items-center gap-5"},E.createElement("div",{className:"flex flex-col"},E.createElement("div",{className:"flex items-center gap-3"},E.createElement("span",{className:"font-black uppercase text-slate-900 text-sm tracking-tight"},x.defendantLastName,", ",x.defendantFirstName),X&&E.createElement("span",{className:"flex items-center gap-2 px-3 py-1 bg-rose-600 text-white text-[8px] font-black uppercase rounded-full animate-pulse shadow-lg ring-4 ring-rose-50 border border-white/20"},E.createElement(zm,{size:10})," Urgent"),z&&!X&&E.createElement("span",{className:"px-3 py-1 bg-indigo-950 text-white text-[8px] font-black uppercase rounded-full shadow-md border border-indigo-400"},"Stagnant")),E.createElement("div",{className:"flex flex-col mt-1.5 gap-0.5"},E.createElement("span",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest leading-none"},x.caseNumber||"TBD-REF-00"),E.createElement("span",{className:"text-[8px] font-bold text-slate-400 uppercase tracking-wider leading-none"},"Opened: ",gn(x.dateOpened)))))),E.createElement("td",{className:"px-12 py-10"},E.createElement("div",{className:"flex flex-col gap-1"},E.createElement("span",{className:"px-4 py-1.5 bg-slate-100 rounded-xl text-[9px] font-black uppercase text-slate-500 group-hover:bg-white inline-block w-fit"},x.attorneyName||"UNASSIGNED COMMAND"),x.judgeName&&E.createElement("span",{className:"text-[8px] font-bold text-slate-400 uppercase tracking-tighter italic"},"Hon. ",x.judgeName))),E.createElement("td",{className:"px-12 py-10"},E.createElement("div",{className:"flex flex-col"},E.createElement("span",{className:`font-black uppercase text-[9px] ${X?"text-rose-600":"text-indigo-600"}`},x.nextEventDescription||"Phase Unscheduled"),E.createElement("div",{className:"flex items-center gap-3 mt-1"},E.createElement("span",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest"},gn(x.nextCourtDate)),x.nextCourtDate&&x.nextCourtDate<pt&&x.status!==Xe.CLOSED&&E.createElement("span",{className:"text-[8px] font-black text-blue-950 uppercase"},"(Overdue)")))),E.createElement("td",{className:"px-12 py-10 text-center"},E.createElement("div",{className:"flex flex-col items-center gap-2"},E.createElement(xd,{status:x.voucherStatus}),E.createElement("span",{className:"text-[9px] font-black text-slate-300 uppercase tracking-widest"},(x.activities||[]).reduce((he,ue)=>he+(ue.hours||0),0).toFixed(1)," Billable Hrs"))))})))))),H==="core"&&E.createElement("div",{className:"animate-in fade-in max-w-[1600px] mx-auto space-y-12 pb-20"},E.createElement("header",{className:"bg-white border rounded-[48px] p-12 shadow-sm flex items-center justify-between"},E.createElement("div",null,E.createElement("h1",{className:"text-3xl font-black uppercase tracking-tight flex items-center gap-5"},E.createElement(Fm,{className:"text-slate-400",size:32})," System Settings"),E.createElement("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mt-1"},"Global Configuration Center"))),E.createElement("div",{className:"grid grid-cols-12 gap-10"},E.createElement("div",{className:"col-span-4 space-y-8"},E.createElement("section",{className:"bg-white border rounded-[48px] p-10 shadow-sm space-y-8"},E.createElement("h3",{className:"text-[11px] font-black uppercase text-indigo-600 tracking-[0.2em] flex items-center gap-3 border-b border-slate-50 pb-4"},E.createElement(X_,{size:16})," Command Identity"),E.createElement("div",{className:"space-y-6"},E.createElement("div",{className:"space-y-2"},E.createElement("label",{className:"text-[9px] font-black uppercase text-slate-400 tracking-widest"},"Agency Name"),E.createElement("input",{value:An.agency,onChange:x=>Ln({...An,agency:x.target.value}),className:"w-full p-4 bg-slate-50 border rounded-2xl text-[11px] font-black uppercase outline-none focus:ring-2 focus:ring-indigo-600 transition-all"})),E.createElement("div",{className:"space-y-2"},E.createElement("label",{className:"text-[9px] font-black uppercase text-slate-400 tracking-widest"},"Lead Investigator"),E.createElement("input",{value:An.investigator,onChange:x=>Ln({...An,investigator:x.target.value}),className:"w-full p-4 bg-slate-50 border rounded-2xl text-[11px] font-black uppercase outline-none focus:ring-2 focus:ring-indigo-600 transition-all"})),E.createElement("div",{className:"space-y-2"},E.createElement("label",{className:"text-[9px] font-black uppercase text-slate-400 tracking-widest"},"Default Billing Rate ($)"),E.createElement("input",{type:"number",step:"0.1",value:An.hourlyRate,onChange:x=>Ln({...An,hourlyRate:parseFloat(x.target.value)||0}),className:"w-full p-4 bg-slate-50 border rounded-2xl text-[11px] font-black outline-none focus:ring-2 focus:ring-indigo-600 transition-all"})),E.createElement("button",{className:"w-full py-4 bg-slate-900 text-white rounded-2xl font-black uppercase text-[9px] tracking-widest shadow-xl hover:bg-emerald-600 transition-all flex items-center justify-center gap-3 active:scale-95"},E.createElement(VS,{size:16})," Persist Global Defaults"))),E.createElement("section",{className:"bg-slate-900 text-white border rounded-[48px] p-10 shadow-2xl space-y-8"},E.createElement("h3",{className:"text-[11px] font-black uppercase text-indigo-400 tracking-[0.2em] flex items-center gap-3 border-b border-white/5 pb-4"},E.createElement(bS,{size:16})," Intelligence Backups"),E.createElement("div",{className:"space-y-4"},E.createElement("button",{onClick:bo,className:"w-full p-6 bg-white/5 border border-white/10 rounded-[32px] hover:bg-white/10 transition-all text-left group"},E.createElement("div",{className:"flex items-center justify-between"},E.createElement("div",{className:"flex items-center gap-4"},E.createElement("div",{className:"p-3 bg-indigo-600 rounded-2xl"},E.createElement($c,{size:20})),E.createElement("div",null,E.createElement("p",{className:"text-[11px] font-black uppercase tracking-widest"},"Export Master Registry"),E.createElement("p",{className:"text-[8px] font-bold text-slate-500 uppercase mt-1"},"Full case record dataset (.csv)"))),E.createElement(Fc,{size:18,className:"text-slate-500 group-hover:text-white transition-all"}))),E.createElement("button",{onClick:xo,className:"w-full p-6 bg-white/5 border border-white/10 rounded-[32px] hover:bg-white/10 transition-all text-left group"},E.createElement("div",{className:"flex items-center justify-between"},E.createElement("div",{className:"flex items-center gap-4"},E.createElement("div",{className:"p-3 bg-indigo-600 rounded-2xl"},E.createElement(bs,{size:20})),E.createElement("div",null,E.createElement("p",{className:"text-[11px] font-black uppercase tracking-widest"},"Export Tactical Feed"),E.createElement("p",{className:"text-[8px] font-bold text-slate-500 uppercase mt-1"},"Active directives dataset (.csv)"))),E.createElement(Fc,{size:18,className:"text-slate-500 group-hover:text-white transition-all"})))),E.createElement("div",{className:"pt-6 border-t border-white/5 flex items-center gap-4 px-2"},E.createElement("div",{className:"w-3 h-3 bg-emerald-500 rounded-full shadow-[0_0_12px_rgba(16,185,129,0.6)] animate-pulse"}),E.createElement("p",{className:"text-[10px] font-black uppercase text-slate-400 tracking-[0.2em]"},"Supabase Cloud Sync: Secured")))),E.createElement("div",{className:"col-span-8"},E.createElement("section",{className:"bg-white border rounded-[48px] shadow-sm flex flex-col h-full min-h-[700px] overflow-hidden"},E.createElement("header",{className:"p-12 border-b border-slate-50 flex items-center justify-between shrink-0"},E.createElement("div",null,E.createElement("h3",{className:"text-xl font-black uppercase tracking-tight flex items-center gap-4"},"Activity Codes ",E.createElement("span",{className:"text-[10px] bg-slate-100 text-slate-500 px-3 py-1 rounded-full"},D.length," CODES")),E.createElement("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mt-1"},"Manage Log Increment Types")),E.createElement("button",{onClick:()=>Ji(!0),className:"px-8 py-3 bg-slate-900 text-white rounded-2xl font-black uppercase text-[9px] tracking-widest flex items-center gap-3 hover:bg-indigo-600 transition-all shadow-xl"},E.createElement(Jc,{size:16})," Add New Codes")),E.createElement("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-12"},Mr&&E.createElement("div",{className:"mb-10 p-10 bg-slate-50 border-2 border-indigo-600/20 rounded-[40px] animate-in slide-in-from-top-4"},E.createElement("div",{className:"flex justify-between items-center mb-8"},E.createElement("h4",{className:"text-[11px] font-black uppercase text-indigo-600 tracking-widest"},"New Operation Increment"),E.createElement("button",{onClick:()=>Ji(!1)},E.createElement(td,{size:20}))),E.createElement("div",{className:"grid grid-cols-12 gap-8 items-end"},E.createElement("div",{className:"col-span-3 space-y-2"},E.createElement("label",{className:"text-[8px] font-black uppercase text-slate-400"},'Short Code (e.g. "JV")'),E.createElement("input",{value:Ot.code,onChange:x=>ci({...Ot,code:x.target.value.toUpperCase()}),className:"w-full p-4 bg-white border rounded-2xl text-[11px] font-black outline-none",placeholder:"CODE"})),E.createElement("div",{className:"col-span-6 space-y-2"},E.createElement("label",{className:"text-[8px] font-black uppercase text-slate-400"},"Public Label"),E.createElement("input",{value:Ot.label,onChange:x=>ci({...Ot,label:x.target.value}),className:"w-full p-4 bg-white border rounded-2xl text-[11px] font-bold outline-none",placeholder:"Increment Label..."})),E.createElement("div",{className:"col-span-3 space-y-2"},E.createElement("label",{className:"text-[8px] font-black uppercase text-slate-400"},"Standard Hrs"),E.createElement("input",{type:"number",step:"0.1",value:Ot.defaultHours,onChange:x=>ci({...Ot,defaultHours:parseFloat(x.target.value)||0}),className:"w-full p-4 bg-white border rounded-2xl text-[11px] font-black outline-none"})),E.createElement("div",{className:"col-span-12 space-y-2"},E.createElement("label",{className:"text-[8px] font-black uppercase text-slate-400"},"Default Narrative (Quick Log Template)"),E.createElement("textarea",{value:Ot.defaultNarrative,onChange:x=>ci({...Ot,defaultNarrative:x.target.value}),className:"w-full p-4 bg-white border rounded-2xl text-[11px] font-medium outline-none h-24 resize-none",placeholder:"Enter standard narrative..."})),E.createElement("div",{className:"col-span-12 flex justify-end gap-3"},E.createElement("button",{onClick:()=>Ji(!1),className:"px-6 py-3 text-[9px] font-black uppercase text-slate-400"},"Cancel"),E.createElement("button",{onClick:()=>{!Ot.code||!Ot.label||(I([...D,{...Ot,id:Math.random().toString(36).substr(2,9)}]),Ji(!1),ci({code:"",label:"",defaultHours:0,defaultNarrative:""}))},className:"px-10 py-3 bg-indigo-600 text-white rounded-xl text-[9px] font-black uppercase tracking-widest shadow-lg"},"Initialize Code")))),E.createElement("div",{className:"grid grid-cols-2 gap-6"},D.map(x=>E.createElement("div",{key:x.id,className:"p-8 bg-white border border-slate-100 rounded-[32px] shadow-sm hover:border-indigo-100 transition-all group relative"},E.createElement("div",{className:"flex items-start justify-between mb-4"},E.createElement("div",{className:"flex items-center gap-4"},E.createElement("div",{className:"w-12 h-12 bg-slate-900 text-white rounded-2xl flex items-center justify-center font-black text-xs"},x.code),E.createElement("div",null,E.createElement("h5",{className:"text-[11px] font-black uppercase text-slate-900 tracking-widest"},x.label),E.createElement("p",{className:"text-[10px] font-black text-indigo-600 mt-0.5"},x.defaultHours.toFixed(1),"H STANDARD")))),E.createElement("p",{className:"text-[10px] font-medium text-slate-400 leading-relaxed italic line-clamp-3"},'"',x.defaultNarrative,'"'),E.createElement("button",{onClick:()=>I(D.filter(P=>P.id!==x.id)),className:"absolute top-6 right-6 p-2 text-rose-300 hover:text-rose-600 opacity-0 group-hover:opacity-100 transition-all"},E.createElement(W0,{size:16})))))))))))),Fi&&E.createElement(Y2,{caseData:Fi,onClose:()=>q(null),onUpdate:Nt,activityCodes:D,tasks:C,investigators:i,isAdmin:d,onUpdateTask:nn}),Y&&E.createElement("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-xl z-[2000] flex items-center justify-center flex-col gap-6 text-white animate-in fade-in"},E.createElement(ws,{className:"animate-spin text-indigo-400",size:80}),E.createElement("p",{className:"font-black uppercase tracking-widest text-[10px] animate-pulse"},"Synchronizing Cloud Command...")),h&&E.createElement("div",{className:"fixed inset-0 z-[3000] bg-black/40 flex items-center justify-center p-4"},E.createElement("div",{className:"w-full max-w-md rounded-2xl bg-white p-5 shadow-xl"},E.createElement("div",{className:"text-lg font-bold"},"My Profile"),E.createElement("div",{className:"text-xs text-slate-500 mt-1"},"This name is what admins see in assignment dropdowns."),E.createElement("div",{className:"mt-4"},E.createElement("label",{className:"text-xs font-semibold text-slate-600"},"Full name"),E.createElement("input",{className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 text-sm",value:m,onChange:x=>y(x.target.value),placeholder:"e.g., Gregory Brent"})),E.createElement("div",{className:"mt-5 flex gap-2 justify-end"},E.createElement("button",{className:"rounded-lg px-4 py-2 text-sm border",onClick:()=>g(!1),disabled:_},"Cancel"),E.createElement("button",{className:"rounded-lg px-4 py-2 text-sm bg-slate-900 text-white",onClick:wr,disabled:_},_?"Saving...":"Save")))))},X2=()=>{const[n,e]=ne.useState(!1),[i,o]=ne.useState(null);return ne.useEffect(()=>{At.auth.getSession().then(({data:r})=>{o(r.session),e(!0)});const{data:l}=At.auth.onAuthStateChange((r,d)=>{o(d)});return()=>l.subscription.unsubscribe()},[]),n?i!=null&&i.user?E.createElement(K2,null):E.createElement(q2,{onAuthed:()=>{}}):E.createElement("div",{style:{padding:20}},"Loading")},hy=document.getElementById("root");if(!hy)throw new Error("Could not find root element to mount to");const Q2=I_.createRoot(hy);Q2.render(E.createElement(E.StrictMode,null,E.createElement(X2,null)));export{Cd as g};
